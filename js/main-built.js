/*! jQuery v1.7.2 jquery.com | jquery.org/license */

// Underscore.js 1.3.3
// (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
// Underscore is freely distributable under the MIT license.
// Portions of Underscore are inspired or borrowed from Prototype,
// Oliver Steele's Functional, and John Resig's Micro-Templating.
// For all details and documentation:
// http://documentcloud.github.com/underscore

// (c) 2010-2012 Jeremy Ashkenas, DocumentCloud Inc.
// Backbone may be freely distributed under the MIT license.
// For all details and documentation:
// http://backbonejs.org

/**
 * Copyright Facebook Inc.
 *
 * Licensed under the Apache License, Version 2.0
 * http://www.apache.org/licenses/LICENSE-2.0
 */

/**
 * @providesModule JSON3
 * @option preserve-header
 *
 *! JSON v3.2.3 | http://bestiejs.github.com/json3 | Copyright 2012, Kit Cambridge | http://kit.mit-license.org
 */

/**
 * @license RequireJS text 2.0.1 Copyright (c) 2010-2012, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/requirejs/text for details
 */

(function(e,t){function n(e){return H.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}function r(e){if(!vn[e]){var t=_.body,n=H("<"+e+">").appendTo(t),r=n.css("display");n.remove();if(r==="none"||r===""){mn||(mn=_.createElement("iframe"),mn.frameBorder=mn.width=mn.height=0),t.appendChild(mn);if(!gn||!mn.createElement)gn=(mn.contentWindow||mn.contentDocument).document,gn.write((H.support.boxModel?"<!doctype html>":"")+"<html><body>"),gn.close();n=gn.createElement(e),gn.body.appendChild(n),r=H.css(n,"display"),t.removeChild(mn)}vn[e]=r}return vn[e]}function i(e,t){var n={};return H.each(En.concat.apply([],En.slice(0,t)),function(){n[this]=e}),n}function s(){Sn=t}function o(){return setTimeout(s,0),Sn=H.now()}function u(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function a(){try{return new e.XMLHttpRequest}catch(t){}}function f(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var r=e.dataTypes,i={},s,o,u=r.length,a,f=r[0],l,c,h,p,d;for(s=1;s<u;s++){if(s===1)for(o in e.converters)typeof o=="string"&&(i[o.toLowerCase()]=e.converters[o]);l=f,f=r[s];if(f==="*")f=l;else if(l!=="*"&&l!==f){c=l+" "+f,h=i[c]||i["* "+f];if(!h){d=t;for(p in i){a=p.split(" ");if(a[0]===l||a[0]==="*"){d=i[a[1]+" "+f];if(d){p=i[p],p===!0?h=d:d===!0&&(h=p);break}}}}!h&&!d&&H.error("No conversion from "+c.replace(" "," to ")),h!==!0&&(n=h?h(n):d(p(n)))}}return n}function l(e,n,r){var i=e.contents,s=e.dataTypes,o=e.responseFields,u,a,f,l;for(a in o)a in r&&(n[o[a]]=r[a]);while(s[0]==="*")s.shift(),u===t&&(u=e.mimeType||n.getResponseHeader("content-type"));if(u)for(a in i)if(i[a]&&i[a].test(u)){s.unshift(a);break}if(s[0]in r)f=s[0];else{for(a in r){if(!s[0]||e.converters[a+" "+s[0]]){f=a;break}l||(l=a)}f=f||l}if(f)return f!==s[0]&&s.unshift(f),r[f]}function c(e,t,n,r){if(H.isArray(t))H.each(t,function(t,i){n||Ut.test(e)?r(e,i):c(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&H.type(t)==="object")for(var i in t)c(e+"["+i+"]",t[i],n,r);else r(e,t)}function h(e,n){var r,i,s=H.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&H.extend(!0,e,i)}function p(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u=e[s],a=0,f=u?u.length:0,l=e===rn,c;for(;a<f&&(l||!c);a++)c=u[a](n,r,i),typeof c=="string"&&(!l||o[c]?c=t:(n.dataTypes.unshift(c),c=p(e,n,r,i,c,o)));return(l||!c)&&!o["*"]&&(c=p(e,n,r,i,"*",o)),c}function d(e){return function(t,n){typeof t!="string"&&(n=t,t="*");if(H.isFunction(n)){var r=t.toLowerCase().split(Zt),i=0,s=r.length,o,u,a;for(;i<s;i++)o=r[i],a=/^\+/.test(o),a&&(o=o.substr(1)||"*"),u=e[o]=e[o]||[],u[a?"unshift":"push"](n)}}}function v(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=t==="width"?1:0,s=4;if(r>0){if(n!=="border")for(;i<s;i+=2)n||(r-=parseFloat(H.css(e,"padding"+jt[i]))||0),n==="margin"?r+=parseFloat(H.css(e,n+jt[i]))||0:r-=parseFloat(H.css(e,"border"+jt[i]+"Width"))||0;return r+"px"}r=Ft(e,t);if(r<0||r==null)r=e.style[t];if(Dt.test(r))return r;r=parseFloat(r)||0;if(n)for(;i<s;i+=2)r+=parseFloat(H.css(e,"padding"+jt[i]))||0,n!=="padding"&&(r+=parseFloat(H.css(e,"border"+jt[i]+"Width"))||0),n==="margin"&&(r+=parseFloat(H.css(e,n+jt[i]))||0);return r+"px"}function m(e){var t=_.createElement("div");return Lt.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function g(e){var t=(e.nodeName||"").toLowerCase();t==="input"?y(e):t!=="script"&&typeof e.getElementsByTagName!="undefined"&&H.grep(e.getElementsByTagName("input"),y)}function y(e){if(e.type==="checkbox"||e.type==="radio")e.defaultChecked=e.checked}function b(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function w(e,t){var n;t.nodeType===1&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?t.outerHTML=e.outerHTML:n!=="input"||e.type!=="checkbox"&&e.type!=="radio"?n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(H.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached"))}function E(e,t){if(t.nodeType===1&&!!H.hasData(e)){var n,r,i,s=H._data(e),o=H._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)H.event.add(t,n,u[n][r])}o.data&&(o.data=H.extend({},o.data))}}function S(e,t){return H.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function x(e){var t=dt.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function T(e,t,n){t=t||0;if(H.isFunction(t))return H.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return H.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=H.grep(e,function(e){return e.nodeType===1});if(lt.test(t))return H.filter(t,r,!n);t=H.filter(t,r)}return H.grep(e,function(e,r){return H.inArray(e,t)>=0===n})}function N(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function C(){return!0}function k(){return!1}function L(e,t,n){var r=t+"defer",i=t+"queue",s=t+"mark",o=H._data(e,r);o&&(n==="queue"||!H._data(e,i))&&(n==="mark"||!H._data(e,s))&&setTimeout(function(){!H._data(e,i)&&!H._data(e,s)&&(H.removeData(e,r,!0),o.fire())},0)}function A(e){for(var t in e){if(t==="data"&&H.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function O(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(I,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:H.isNumeric(r)?+r:F.test(r)?H.parseJSON(r):r}catch(s){}H.data(e,n,r)}else r=t}return r}function M(e){var t=B[e]={},n,r;e=e.split(/\s+/);for(n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}var _=e.document,D=e.navigator,P=e.location,H=function(){function n(){if(!r.isReady){try{_.documentElement.doScroll("left")}catch(e){setTimeout(n,1);return}r.ready()}}var r=function(e,t){return new r.fn.init(e,t,o)},i=e.jQuery,s=e.$,o,u=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,a=/\S/,f=/^\s+/,l=/\s+$/,c=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,h=/^[\],:{}\s]*$/,p=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,d=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,v=/(?:^|:|,)(?:\s*\[)+/g,m=/(webkit)[ \/]([\w.]+)/,g=/(opera)(?:.*version)?[ \/]([\w.]+)/,y=/(msie) ([\w.]+)/,b=/(mozilla)(?:.*? rv:([\w.]+))?/,w=/-([a-z]|[0-9])/ig,E=/^-ms-/,S=function(e,t){return(t+"").toUpperCase()},x=D.userAgent,T,N,C,k=Object.prototype.toString,L=Object.prototype.hasOwnProperty,A=Array.prototype.push,O=Array.prototype.slice,M=String.prototype.trim,P=Array.prototype.indexOf,H={};return r.fn=r.prototype={constructor:r,init:function(e,n,i){var s,o,a,f;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(e==="body"&&!n&&_.body)return this.context=_,this[0]=_.body,this.selector=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)!=="<"||e.charAt(e.length-1)!==">"||e.length<3?s=u.exec(e):s=[null,e,null];if(s&&(s[1]||!n)){if(s[1])return n=n instanceof r?n[0]:n,f=n?n.ownerDocument||n:_,a=c.exec(e),a?r.isPlainObject(n)?(e=[_.createElement(a[1])],r.fn.attr.call(e,n,!0)):e=[f.createElement(a[1])]:(a=r.buildFragment([s[1]],[f]),e=(a.cacheable?r.clone(a.fragment):a.fragment).childNodes),r.merge(this,e);o=_.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return i.find(e);this.length=1,this[0]=o}return this.context=_,this.selector=e,this}return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e)}return r.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),r.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return O.call(this,0)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=this.constructor();return r.isArray(e)?A.apply(i,e):r.merge(i,e),i.prevObject=this,i.context=this.context,t==="find"?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return r.each(this,e,t)},ready:function(e){return r.bindReady(),N.add(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(O.apply(this,arguments),"slice",O.call(arguments).join(","))},map:function(e){return this.pushStack(r.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:A,sort:[].sort,splice:[].splice},r.fn.init.prototype=r.fn,r.extend=r.fn.extend=function(){var e,n,i,s,o,u,a=arguments[0]||{},f=1,l=arguments.length,c=!1;typeof a=="boolean"&&(c=a,a=arguments[1]||{},f=2),typeof a!="object"&&!r.isFunction(a)&&(a={}),l===f&&(a=this,--f);for(;f<l;f++)if((e=arguments[f])!=null)for(n in e){i=a[n],s=e[n];if(a===s)continue;c&&s&&(r.isPlainObject(s)||(o=r.isArray(s)))?(o?(o=!1,u=i&&r.isArray(i)?i:[]):u=i&&r.isPlainObject(i)?i:{},a[n]=r.extend(c,u,s)):s!==t&&(a[n]=s)}return a},r.extend({noConflict:function(t){return e.$===r&&(e.$=s),t&&e.jQuery===r&&(e.jQuery=i),r},isReady:!1,readyWait:1,holdReady:function(e){e?r.readyWait++:r.ready(!0)},ready:function(e){if(e===!0&&!--r.readyWait||e!==!0&&!r.isReady){if(!_.body)return setTimeout(r.ready,1);r.isReady=!0;if(e!==!0&&--r.readyWait>0)return;N.fireWith(_,[r]),r.fn.trigger&&r(_).trigger("ready").off("ready")}},bindReady:function(){if(!N){N=r.Callbacks("once memory");if(_.readyState==="complete")return setTimeout(r.ready,1);if(_.addEventListener)_.addEventListener("DOMContentLoaded",C,!1),e.addEventListener("load",r.ready,!1);else if(_.attachEvent){_.attachEvent("onreadystatechange",C),e.attachEvent("onload",r.ready);var t=!1;try{t=e.frameElement==null}catch(i){}_.documentElement.doScroll&&t&&n()}}},isFunction:function(e){return r.type(e)==="function"},isArray:Array.isArray||function(e){return r.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):H[k.call(e)]||"object"},isPlainObject:function(e){if(!e||r.type(e)!=="object"||e.nodeType||r.isWindow(e))return!1;try{if(e.constructor&&!L.call(e,"constructor")&&!L.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||L.call(e,i)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){if(typeof t!="string"||!t)return null;t=r.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(h.test(t.replace(p,"@").replace(d,"]").replace(v,"")))return(new Function("return "+t))();r.error("Invalid JSON: "+t)},parseXML:function(n){if(typeof n!="string"||!n)return null;var i,s;try{e.DOMParser?(s=new DOMParser,i=s.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return(!i||!i.documentElement||i.getElementsByTagName("parsererror").length)&&r.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&a.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(E,"ms-").replace(w,S)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,i){var s,o=0,u=e.length,a=u===t||r.isFunction(e);if(i){if(a){for(s in e)if(n.apply(e[s],i)===!1)break}else for(;o<u;)if(n.apply(e[o++],i)===!1)break}else if(a){for(s in e)if(n.call(e[s],s,e[s])===!1)break}else for(;o<u;)if(n.call(e[o],o,e[o++])===!1)break;return e},trim:M?function(e){return e==null?"":M.call(e)}:function(e){return e==null?"":(e+"").replace(f,"").replace(l,"")},makeArray:function(e,t){var n=t||[];if(e!=null){var i=r.type(e);e.length==null||i==="string"||i==="function"||i==="regexp"||r.isWindow(e)?A.call(n,e):r.merge(n,e)}return n},inArray:function(e,t,n){var r;if(t){if(P)return P.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=e.length,i=0;if(typeof n.length=="number")for(var s=n.length;i<s;i++)e[r++]=n[i];else while(n[i]!==t)e[r++]=n[i++];return e.length=r,e},grep:function(e,t,n){var r=[],i;n=!!n;for(var s=0,o=e.length;s<o;s++)i=!!t(e[s],s),n!==i&&r.push(e[s]);return r},map:function(e,n,i){var s,o,u=[],a=0,f=e.length,l=e instanceof r||f!==t&&typeof f=="number"&&(f>0&&e[0]&&e[f-1]||f===0||r.isArray(e));if(l)for(;a<f;a++)s=n(e[a],a,i),s!=null&&(u[u.length]=s);else for(o in e)s=n(e[o],o,i),s!=null&&(u[u.length]=s);return u.concat.apply([],u)},guid:1,proxy:function(e,n){if(typeof n=="string"){var i=e[n];n=e,e=i}if(!r.isFunction(e))return t;var s=O.call(arguments,2),o=function(){return e.apply(n,s.concat(O.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||r.guid++,o},access:function(e,n,i,s,o,u,a){var f,l=i==null,c=0,h=e.length;if(i&&typeof i=="object"){for(c in i)r.access(e,n,c,i[c],1,u,s);o=1}else if(s!==t){f=a===t&&r.isFunction(s),l&&(f?(f=n,n=function(e,t,n){return f.call(r(e),n)}):(n.call(e,s),n=null));if(n)for(;c<h;c++)n(e[c],i,f?s.call(e[c],c,n(e[c],i)):s,a);o=1}return o?e:l?n.call(e):h?n(e[0],i):u},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=m.exec(e)||g.exec(e)||y.exec(e)||e.indexOf("compatible")<0&&b.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}r.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof r&&!(i instanceof e)&&(i=e(i)),r.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(_);return e},browser:{}}),r.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){H["[object "+t+"]"]=t.toLowerCase()}),T=r.uaMatch(x),T.browser&&(r.browser[T.browser]=!0,r.browser.version=T.version),r.browser.webkit&&(r.browser.safari=!0),a.test("Â ")&&(f=/^[\s\xA0]+/,l=/[\s\xA0]+$/),o=r(_),_.addEventListener?C=function(){_.removeEventListener("DOMContentLoaded",C,!1),r.ready()}:_.attachEvent&&(C=function(){_.readyState==="complete"&&(_.detachEvent("onreadystatechange",C),r.ready())}),r}(),B={};H.Callbacks=function(e){e=e?B[e]||M(e):{};var n=[],r=[],i,s,o,u,a,f,l=function(t){var r,i,s,o,u;for(r=0,i=t.length;r<i;r++)s=t[r],o=H.type(s),o==="array"?l(s):o==="function"&&(!e.unique||!h.has(s))&&n.push(s)},c=function(t,l){l=l||[],i=!e.memory||[t,l],s=!0,o=!0,f=u||0,u=0,a=n.length;for(;n&&f<a;f++)if(n[f].apply(t,l)===!1&&e.stopOnFalse){i=!0;break}o=!1,n&&(e.once?i===!0?h.disable():n=[]:r&&r.length&&(i=r.shift(),h.fireWith(i[0],i[1])))},h={add:function(){if(n){var e=n.length;l(arguments),o?a=n.length:i&&i!==!0&&(u=e,c(i[0],i[1]))}return this},remove:function(){if(n){var t=arguments,r=0,i=t.length;for(;r<i;r++)for(var s=0;s<n.length;s++)if(t[r]===n[s]){o&&s<=a&&(a--,s<=f&&f--),n.splice(s--,1);if(e.unique)break}}return this},has:function(e){if(n){var t=0,r=n.length;for(;t<r;t++)if(e===n[t])return!0}return!1},empty:function(){return n=[],this},disable:function(){return n=r=i=t,this},disabled:function(){return!n},lock:function(){return r=t,(!i||i===!0)&&h.disable(),this},locked:function(){return!r},fireWith:function(t,n){return r&&(o?e.once||r.push([t,n]):(!e.once||!i)&&c(t,n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h};var j=[].slice;H.extend({Deferred:function(e){var t=H.Callbacks("once memory"),n=H.Callbacks("once memory"),r=H.Callbacks("memory"),i="pending",s={resolve:t,reject:n,notify:r},o={done:t.add,fail:n.add,progress:r.add,state:function(){return i},isResolved:t.fired,isRejected:n.fired,then:function(e,t,n){return u.done(e).fail(t).progress(n),this},always:function(){return u.done.apply(u,arguments).fail.apply(u,arguments),this},pipe:function(e,t,n){return H.Deferred(function(r){H.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n=t[0],i=t[1],s;H.isFunction(n)?u[e](function(){s=n.apply(this,arguments),s&&H.isFunction(s.promise)?s.promise().then(r.resolve,r.reject,r.notify):r[i+"With"](this===u?r:this,[s])}):u[e](r[i])})}).promise()},promise:function(e){if(e==null)e=o;else for(var t in o)e[t]=o[t];return e}},u=o.promise({}),a;for(a in s)u[a]=s[a].fire,u[a+"With"]=s[a].fireWith;return u.done(function(){i="resolved"},n.disable,r.lock).fail(function(){i="rejected"},t.disable,r.lock),e&&e.call(u,u),u},when:function(e){function t(e){return function(t){o[e]=arguments.length>1?j.call(arguments,0):t,f.notifyWith(l,o)}}function n(e){return function(t){r[e]=arguments.length>1?j.call(arguments,0):t,--u||f.resolveWith(f,r)}}var r=j.call(arguments,0),i=0,s=r.length,o=Array(s),u=s,a=s,f=s<=1&&e&&H.isFunction(e.promise)?e:H.Deferred(),l=f.promise();if(s>1){for(;i<s;i++)r[i]&&r[i].promise&&H.isFunction(r[i].promise)?r[i].promise().then(n(i),f.reject,t(i)):--u;u||f.resolveWith(f,r)}else f!==e&&f.resolveWith(f,s?[e]:[]);return l}}),H.support=function(){var t,n,r,i,s,o,u,a,f,l,c,h,p=_.createElement("div"),d=_.documentElement;p.setAttribute("className","t"),p.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),r=p.getElementsByTagName("a")[0];if(!n||!n.length||!r)return{};i=_.createElement("select"),s=i.appendChild(_.createElement("option")),o=p.getElementsByTagName("input")[0],t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:r.getAttribute("href")==="/a",opacity:/^0.55/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:o.value==="on",optSelected:s.selected,getSetAttribute:p.className!=="t",enctype:!!_.createElement("form").enctype,html5Clone:_.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},H.boxModel=t.boxModel=_.compatMode==="CSS1Compat",o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,i.disabled=!0,t.optDisabled=!s.disabled;try{delete p.test}catch(v){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick")),o=_.createElement("input"),o.value="t",o.setAttribute("type","radio"),t.radioValue=o.value==="t",o.setAttribute("checked","checked"),o.setAttribute("name","t"),p.appendChild(o),u=_.createDocumentFragment(),u.appendChild(p.lastChild),t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=o.checked,u.removeChild(o),u.appendChild(p);if(p.attachEvent)for(c in{submit:1,change:1,focusin:1})l="on"+c,h=l in p,h||(p.setAttribute(l,"return;"),h=typeof p[l]=="function"),t[c+"Bubbles"]=h;return u.removeChild(p),u=i=s=p=o=null,H(function(){var n,r,i,s,o,u,f,l,c,d,v,m,g,y=_.getElementsByTagName("body")[0];!y||(l=1,g="padding:0;margin:0;border:",v="position:absolute;top:0;left:0;width:1px;height:1px;",m=g+"0;visibility:hidden;",c="style='"+v+g+"5px solid #000;",d="<div "+c+"display:block;'><div style='"+g+"0;display:block;overflow:hidden;'></div></div>"+"<table "+c+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",n=_.createElement("div"),n.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+l+"px",y.insertBefore(n,y.firstChild),p=_.createElement("div"),n.appendChild(p),p.innerHTML="<table><tr><td style='"+g+"0;display:none'></td><td>t</td></tr></table>",a=p.getElementsByTagName("td"),h=a[0].offsetHeight===0,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=h&&a[0].offsetHeight===0,e.getComputedStyle&&(p.innerHTML="",f=_.createElement("div"),f.style.width="0",f.style.marginRight="0",p.style.width="2px",p.appendChild(f),t.reliableMarginRight=(parseInt((e.getComputedStyle(f,null)||{marginRight:0}).marginRight,10)||0)===0),typeof p.style.zoom!="undefined"&&(p.innerHTML="",p.style.width=p.style.padding="1px",p.style.border=0,p.style.overflow="hidden",p.style.display="inline",p.style.zoom=1,t.inlineBlockNeedsLayout=p.offsetWidth===3,p.style.display="block",p.style.overflow="visible",p.innerHTML="<div style='width:5px;'></div>",t.shrinkWrapBlocks=p.offsetWidth!==3),p.style.cssText=v+m,p.innerHTML=d,r=p.firstChild,i=r.firstChild,o=r.nextSibling.firstChild.firstChild,u={doesNotAddBorder:i.offsetTop!==5,doesAddBorderForTableAndCells:o.offsetTop===5},i.style.position="fixed",i.style.top="20px",u.fixedPosition=i.offsetTop===20||i.offsetTop===15,i.style.position=i.style.top="",r.style.overflow="hidden",r.style.position="relative",u.subtractsBorderForOverflowNotVisible=i.offsetTop===-5,u.doesNotIncludeMarginInBodyOffset=y.offsetTop!==l,e.getComputedStyle&&(p.style.marginTop="1%",t.pixelMargin=(e.getComputedStyle(p,null)||{marginTop:0}).marginTop!=="1%"),typeof n.style.zoom!="undefined"&&(n.style.zoom=1),y.removeChild(n),f=p=n=null,H.extend(t,u))}),t}();var F=/^(?:\{.*\}|\[.*\])$/,I=/([A-Z])/g;H.extend({cache:{},uuid:0,expando:"jQuery"+(H.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?H.cache[e[H.expando]]:e[H.expando],!!e&&!A(e)},data:function(e,n,r,i){if(!!H.acceptData(e)){var s,o,u,a=H.expando,f=typeof n=="string",l=e.nodeType,c=l?H.cache:e,h=l?e[a]:e[a]&&a,p=n==="events";if((!h||!c[h]||!p&&!i&&!c[h].data)&&f&&r===t)return;h||(l?e[a]=h=++H.uuid:h=a),c[h]||(c[h]={},l||(c[h].toJSON=H.noop));if(typeof n=="object"||typeof n=="function")i?c[h]=H.extend(c[h],n):c[h].data=H.extend(c[h].data,n);return s=o=c[h],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[H.camelCase(n)]=r),p&&!o[n]?s.events:(f?(u=o[n],u==null&&(u=o[H.camelCase(n)])):u=o,u)}},removeData:function(e,t,n){if(!!H.acceptData(e)){var r,i,s,o=H.expando,u=e.nodeType,a=u?H.cache:e,f=u?e[o]:o;if(!a[f])return;if(t){r=n?a[f]:a[f].data;if(r){H.isArray(t)||(t in r?t=[t]:(t=H.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?A:H.isEmptyObject)(r))return}}if(!n){delete a[f].data;if(!A(a[f]))return}H.support.deleteExpando||!a.setInterval?delete a[f]:a[f]=null,u&&(H.support.deleteExpando?delete e[o]:e.removeAttribute?e.removeAttribute(o):e[o]=null)}},_data:function(e,t,n){return H.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=H.noData[e.nodeName.toLowerCase()];if(t)return t!==!0&&e.getAttribute("classid")===t}return!0}}),H.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=H.data(a);if(a.nodeType===1&&!H._data(a,"parsedAttrs")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf("data-")===0&&(o=H.camelCase(o.substring(5)),O(a,o,l[o]));H._data(a,"parsedAttrs",!0)}}return l}return typeof e=="object"?this.each(function(){H.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",H.access(this,function(n){if(n===t)return l=this.triggerHandler("getData"+i,[r[0]]),l===t&&a&&(l=H.data(a,e),l=O(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=H(this);t.triggerHandler("setData"+i,r),H.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){H.removeData(this,e)})}}),H.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",H._data(e,t,(H._data(e,t)||0)+1))},_unmark:function(e,t,n){e!==!0&&(n=t,t=e,e=!1);if(t){n=n||"fx";var r=n+"mark",i=e?0:(H._data(t,r)||1)-1;i?H._data(t,r,i):(H.removeData(t,r,!0),L(t,n,"mark"))}},queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=H._data(e,t),n&&(!r||H.isArray(n)?r=H._data(e,t,H.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=H.queue(e,t),r=n.shift(),i={};r==="inprogress"&&(r=n.shift()),r&&(t==="fx"&&n.unshift("inprogress"),H._data(e,t+".run",i),r.call(e,function(){H.dequeue(e,t)},i)),n.length||(H.removeData(e,t+"queue "+t+".run",!0),L(e,t,"queue"))}}),H.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?H.queue(this[0],e):n===t?this:this.each(function(){var t=H.queue(this,e,n);e==="fx"&&t[0]!=="inprogress"&&H.dequeue(this,e)})},dequeue:function(e){return this.each(function(){H.dequeue(this,e)})},delay:function(e,t){return e=H.fx?H.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function r(){--u||i.resolveWith(s,[s])}typeof e!="string"&&(n=e,e=t),e=e||"fx";var i=H.Deferred(),s=this,o=s.length,u=1,a=e+"defer",f=e+"queue",l=e+"mark",c;while(o--)if(c=H.data(s[o],a,t,!0)||(H.data(s[o],f,t,!0)||H.data(s[o],l,t,!0))&&H.data(s[o],a,H.Callbacks("once memory"),!0))u++,c.add(r);return r(),i.promise(n)}});var q=/[\n\t\r]/g,R=/\s+/,U=/\r/g,z=/^(?:button|input)$/i,W=/^(?:button|input|object|select|textarea)$/i,X=/^a(?:rea)?$/i,V=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,$=H.support.getSetAttribute,J,K,Q;H.fn.extend({attr:function(e,t){return H.access(this,H.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){H.removeAttr(this,e)})},prop:function(e,t){return H.access(this,H.prop,e,t,arguments.length>1)},removeProp:function(e){return e=H.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(H.isFunction(e))return this.each(function(t){H(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(R);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=" "+i.className+" ";for(o=0,u=t.length;o<u;o++)~s.indexOf(" "+t[o]+" ")||(s+=t[o]+" ");i.className=H.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(H.isFunction(e))return this.each(function(t){H(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(R);for(r=0,i=this.length;r<i;r++){s=this[r];if(s.nodeType===1&&s.className)if(e){o=(" "+s.className+" ").replace(q," ");for(u=0,a=n.length;u<a;u++)o=o.replace(" "+n[u]+" "," ");s.className=H.trim(o)}else s.className=""}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return H.isFunction(e)?this.each(function(n){H(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,s=0,o=H(this),u=t,a=e.split(R);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&H._data(this,"__className__",this.className),this.className=this.className||e===!1?"":H._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(q," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!!arguments.length)return i=H.isFunction(e),this.each(function(r){var s=H(this),o;if(this.nodeType===1){i?o=e.call(this,r,s.val()):o=e,o==null?o="":typeof o=="number"?o+="":H.isArray(o)&&(o=H.map(o,function(e){return e==null?"":e+""})),n=H.valHooks[this.type]||H.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,o,"value")===t)this.value=o}});if(s)return n=H.valHooks[s.type]||H.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(s,"value"))!==t?r:(r=s.value,typeof r=="string"?r.replace(U,""):r==null?"":r)}}),H.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,s=e.selectedIndex,o=[],u=e.options,a=e.type==="select-one";if(s<0)return null;n=a?s:0,r=a?s+1:u.length;for(;n<r;n++){i=u[n];if(i.selected&&(H.support.optDisabled?!i.disabled:i.getAttribute("disabled")===null)&&(!i.parentNode.disabled||!H.nodeName(i.parentNode,"optgroup"))){t=H(i).val();if(a)return t;o.push(t)}}return a&&!o.length&&u.length?H(u[s]).val():o},set:function(e,t){var n=H.makeArray(t);return H(e).find("option").each(function(){this.selected=H.inArray(H(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!!e&&a!==3&&a!==8&&a!==2){if(i&&n in H.attrFn)return H(e)[n](r);if(typeof e.getAttribute=="undefined")return H.prop(e,n,r);u=a!==1||!H.isXMLDoc(e),u&&(n=n.toLowerCase(),o=H.attrHooks[n]||(V.test(n)?K:J));if(r!==t){if(r===null){H.removeAttr(e,n);return}return o&&"set"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,""+r),r)}return o&&"get"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)}},removeAttr:function(e,t){var n,r,i,s,o,u=0;if(t&&e.nodeType===1){r=t.toLowerCase().split(R),s=r.length;for(;u<s;u++)i=r[u],i&&(n=H.propFix[i]||i,o=V.test(i),o||H.attr(e,i,""),e.removeAttribute($?i:n),o&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(z.test(e.nodeName)&&e.parentNode)H.error("type property can't be changed");else if(!H.support.radioValue&&t==="radio"&&H.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return J&&H.nodeName(e,"button")?J.get(e,t):t in e?e.value:null},set:function(e,t,n){if(J&&H.nodeName(e,"button"))return J.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!!e&&u!==3&&u!==8&&u!==2)return o=u!==1||!H.isXMLDoc(e),o&&(n=H.propFix[n]||n,s=H.propHooks[n]),r!==t?s&&"set"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&"get"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):W.test(e.nodeName)||X.test(e.nodeName)&&e.href?0:t}}}}),H.attrHooks.tabindex=H.propHooks.tabIndex,K={get:function(e,n){var r,i=H.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?H.removeAttr(e,n):(r=H.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},$||(Q={name:!0,id:!0,coords:!0},J=H.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(Q[n]?r.nodeValue!=="":r.specified)?r.nodeValue:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=_.createAttribute(n),e.setAttributeNode(r)),r.nodeValue=t+""}},H.attrHooks.tabindex.set=J.set,H.each(["width","height"],function(e,t){H.attrHooks[t]=H.extend(H.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),H.attrHooks.contenteditable={get:J.get,set:function(e,t,n){t===""&&(t="false"),J.set(e,t,n)}}),H.support.hrefNormalized||H.each(["href","src","width","height"],function(e,n){H.attrHooks[n]=H.extend(H.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),H.support.style||(H.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),H.support.optSelected||(H.propHooks.selected=H.extend(H.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),H.support.enctype||(H.propFix.enctype="encoding"),H.support.checkOn||H.each(["radio","checkbox"],function(){H.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),H.each(["radio","checkbox"],function(){H.valHooks[this]=H.extend(H.valHooks[this],{set:function(e,t){if(H.isArray(t))return e.checked=H.inArray(H(e).val(),t)>=0}})});var G=/^(?:textarea|input|select)$/i,Y=/^([^\.]*)?(?:\.(.+))?$/,Z=/(?:^|\s)hover(\.\S+)?\b/,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,it=function(e){var t=rt.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},st=function(e,t){var n=e.attributes||{};return(!t[1]||e.nodeName.toLowerCase()===t[1])&&(!t[2]||(n.id||{}).value===t[2])&&(!t[3]||t[3].test((n["class"]||{}).value))},ot=function(e){return H.event.special.hover?e:e.replace(Z,"mouseenter$1 mouseleave$1")};H.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,v,m,g;if(!(e.nodeType===3||e.nodeType===8||!n||!r||!(o=H._data(e)))){r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=H.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof H=="undefined"||!!e&&H.event.triggered===e.type?t:H.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=H.trim(ot(n)).split(" ");for(f=0;f<n.length;f++){l=Y.exec(n[f])||[],c=l[1],h=(l[2]||"").split(".").sort(),g=H.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=H.event.special[c]||{},p=H.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,quick:s&&it(s),namespace:h.join(".")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent("on"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),H.event.global[c]=!0}e=null}},global:{},remove:function(e,t,n,r,i){var s=H.hasData(e)&&H._data(e),o,u,a,f,l,c,h,p,d,v,m,g;if(!!s&&!!(p=s.events)){t=H.trim(ot(t||"")).split(" ");for(o=0;o<t.length;o++){u=Y.exec(t[o])||[],a=f=u[1],l=u[2];if(!a){for(a in p)H.event.remove(e,a+t[o],n,r,!0);continue}d=H.event.special[a]||{},a=(r?d.delegateType:d.bindType)||a,m=p[a]||[],c=m.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(h=0;h<m.length;h++)g=m[h],(i||f===g.origType)&&(!n||n.guid===g.guid)&&(!l||l.test(g.namespace))&&(!r||r===g.selector||r==="**"&&g.selector)&&(m.splice(h--,1),g.selector&&m.delegateCount--,d.remove&&d.remove.call(e,g));m.length===0&&c!==m.length&&((!d.teardown||d.teardown.call(e,l)===!1)&&H.removeEvent(e,a,s.handle),delete p[a])}H.isEmptyObject(p)&&(v=s.handle,v&&(v.elem=null),H.removeData(e,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,s){if(!i||i.nodeType!==3&&i.nodeType!==8){var o=n.type||n,u=[],a,f,l,c,h,p,d,v,m,g;if(nt.test(o+H.event.triggered))return;o.indexOf("!")>=0&&(o=o.slice(0,-1),f=!0),o.indexOf(".")>=0&&(u=o.split("."),o=u.shift(),u.sort());if((!i||H.event.customEvent[o])&&!H.event.global[o])return;n=typeof n=="object"?n[H.expando]?n:new H.Event(o,n):new H.Event(o),n.type=o,n.isTrigger=!0,n.exclusive=f,n.namespace=u.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+u.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,p=o.indexOf(":")<0?"on"+o:"";if(!i){a=H.cache;for(l in a)a[l].events&&a[l].events[o]&&H.event.trigger(n,r,a[l].handle.elem,!0);return}n.result=t,n.target||(n.target=i),r=r!=null?H.makeArray(r):[],r.unshift(n),d=H.event.special[o]||{};if(d.trigger&&d.trigger.apply(i,r)===!1)return;m=[[i,d.bindType||o]];if(!s&&!d.noBubble&&!H.isWindow(i)){g=d.delegateType||o,c=nt.test(g+o)?i:i.parentNode,h=null;for(;c;c=c.parentNode)m.push([c,g]),h=c;h&&h===i.ownerDocument&&m.push([h.defaultView||h.parentWindow||e,g])}for(l=0;l<m.length&&!n.isPropagationStopped();l++)c=m[l][0],n.type=m[l][1],v=(H._data(c,"events")||{})[n.type]&&H._data(c,"handle"),v&&v.apply(c,r),v=p&&c[p],v&&H.acceptData(c)&&v.apply(c,r)===!1&&n.preventDefault();return n.type=o,!s&&!n.isDefaultPrevented()&&(!d._default||d._default.apply(i.ownerDocument,r)===!1)&&(o!=="click"||!H.nodeName(i,"a"))&&H.acceptData(i)&&p&&i[o]&&(o!=="focus"&&o!=="blur"||n.target.offsetWidth!==0)&&!H.isWindow(i)&&(h=i[p],h&&(i[p]=null),H.event.triggered=o,i[o](),H.event.triggered=t,h&&(i[p]=h)),n.result}},dispatch:function(n){n=H.event.fix(n||e.event);var r=(H._data(this,"events")||{})[n.type]||[],i=r.delegateCount,s=[].slice.call(arguments,0),o=!n.exclusive&&!n.namespace,u=H.event.special[n.type]||{},a=[],f,l,c,h,p,d,v,m,g,y,b;s[0]=n,n.delegateTarget=this;if(!u.preDispatch||u.preDispatch.call(this,n)!==!1){if(i&&(!n.button||n.type!=="click")){h=H(this),h.context=this.ownerDocument||this;for(c=n.target;c!=this;c=c.parentNode||this)if(c.disabled!==!0){d={},m=[],h[0]=c;for(f=0;f<i;f++)g=r[f],y=g.selector,d[y]===t&&(d[y]=g.quick?st(c,g.quick):h.is(y)),d[y]&&m.push(g);m.length&&a.push({elem:c,matches:m})}}r.length>i&&a.push({elem:this,matches:r.slice(i)});for(f=0;f<a.length&&!n.isPropagationStopped();f++){v=a[f],n.currentTarget=v.elem;for(l=0;l<v.matches.length&&!n.isImmediatePropagationStopped();l++){g=v.matches[l];if(o||!n.namespace&&!g.namespace||n.namespace_re&&n.namespace_re.test(g.namespace))n.data=g.data,n.handleObj=g,p=((H.event.special[g.origType]||{}).handle||g.handler).apply(v.elem,s),p!==t&&(n.result=p,p===!1&&(n.preventDefault(),n.stopPropagation()))}}return u.postDispatch&&u.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,s,o=n.button,u=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||_,i=r.documentElement,s=r.body,e.pageX=n.clientX+(i&&i.scrollLeft||s&&s.scrollLeft||0)-(i&&i.clientLeft||s&&s.clientLeft||0),e.pageY=n.clientY+(i&&i.scrollTop||s&&s.scrollTop||0)-(i&&i.clientTop||s&&s.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),!e.which&&o!==t&&(e.which=o&1?1:o&2?3:o&4?2:0),e}},fix:function(e){if(e[H.expando])return e;var n,r,i=e,s=H.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=H.Event(i);for(n=o.length;n;)r=o[--n],e[r]=i[r];return e.target||(e.target=i.srcElement||_),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),s.filter?s.filter(e,i):e},special:{ready:{setup:H.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){H.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=H.extend(new H.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?H.event.trigger(i,null,t):H.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},H.event.handle=H.event.dispatch,H.removeEvent=_.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},H.Event=function(e,t){if(!(this instanceof H.Event))return new H.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?C:k):this.type=e,t&&H.extend(this,t),this.timeStamp=e&&e.timeStamp||H.now(),this[H.expando]=!0},H.Event.prototype={preventDefault:function(){this.isDefaultPrevented=C;var e=this.originalEvent;!e||(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=C;var e=this.originalEvent;!e||(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=C,this.stopPropagation()},isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k},H.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){H.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n=this,r=e.relatedTarget,i=e.handleObj,s=i.selector,o;if(!r||r!==n&&!H.contains(n,r))e.type=i.origType,o=i.handler.apply(this,arguments),e.type=t;return o}}}),H.support.submitBubbles||(H.event.special.submit={setup:function(){if(H.nodeName(this,"form"))return!1;H.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=H.nodeName(n,"input")||H.nodeName(n,"button")?n.form:t;r&&!r._submit_attached&&(H.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),r._submit_attached=!0)})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&H.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(H.nodeName(this,"form"))return!1;H.event.remove(this,"._submit")}}),H.support.changeBubbles||(H.event.special.change={setup:function(){if(G.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")H.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),H.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,H.event.simulate("change",this,e,!0))});return!1}H.event.add(this,"beforeactivate._change",function(e){var t=e.target;G.test(t.nodeName)&&!t._change_attached&&(H.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&H.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return H.event.remove(this,"._change"),G.test(this.nodeName)}}),H.support.focusinBubbles||H.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){H.event.simulate(t,e.target,H.event.fix(e),!0)};H.event.special[t]={setup:function(){n++===0&&_.addEventListener(e,r,!0)},teardown:function(){--n===0&&_.removeEventListener(e,r,!0)}}}),H.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=k;else if(!i)return this;return s===1&&(o=i,i=function(e){return H().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=H.guid++)),this.each(function(){H.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){if(e&&e.preventDefault&&e.handleObj){var i=e.handleObj;return H(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if(typeof e=="object"){for(var s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=k),this.each(function(){H.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return H(this.context).on(e,this.selector,t,n),this},die:function(e,t){return H(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length==1?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){H.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return H.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||H.guid++,r=0,i=function(n){var i=(H._data(this,"lastToggle"+e.guid)||0)%r;return H._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),H.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){H.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},H.attrFn&&(H.attrFn[t]=!0),et.test(t)&&(H.event.fixHooks[t]=H.event.keyHooks),tt.test(t)&&(H.event.fixHooks[t]=H.event.mouseHooks)}),function(){function e(e,t,n,r,s,o){for(var u=0,a=r.length;u<a;u++){var f=r[u];if(f){var l=!1;f=f[e];while(f){if(f[i]===n){l=r[f.sizset];break}if(f.nodeType===1){o||(f[i]=n,f.sizset=u);if(typeof t!="string"){if(f===t){l=!0;break}}else if(h.filter(t,[f]).length>0){l=f;break}}f=f[e]}r[u]=l}}}function n(e,t,n,r,s,o){for(var u=0,a=r.length;u<a;u++){var f=r[u];if(f){var l=!1;f=f[e];while(f){if(f[i]===n){l=r[f.sizset];break}f.nodeType===1&&!o&&(f[i]=n,f.sizset=u);if(f.nodeName.toLowerCase()===t){l=f;break}f=f[e]}r[u]=l}}}var r=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,i="sizcache"+(Math.random()+"").replace(".",""),s=0,o=Object.prototype.toString,u=!1,a=!0,f=/\\/g,l=/\r\n/g,c=/\W/;[0,0].sort(function(){return a=!1,0});var h=function(e,t,n,i){n=n||[],t=t||_;var s=t;if(t.nodeType!==1&&t.nodeType!==9)return[];if(!e||typeof e!="string")return n;var u,a,f,l,c,p,m,g,b=!0,w=h.isXML(t),E=[],x=e;do{r.exec(""),u=r.exec(x);if(u){x=u[3],E.push(u[1]);if(u[2]){l=u[3];break}}}while(u);if(E.length>1&&v.exec(e))if(E.length===2&&d.relative[E[0]])a=S(E[0]+E[1],t,i);else{a=d.relative[E[0]]?[t]:h(E.shift(),t);while(E.length)e=E.shift(),d.relative[e]&&(e+=E.shift()),a=S(e,a,i)}else{!i&&E.length>1&&t.nodeType===9&&!w&&d.match.ID.test(E[0])&&!d.match.ID.test(E[E.length-1])&&(c=h.find(E.shift(),t,w),t=c.expr?h.filter(c.expr,c.set)[0]:c.set[0]);if(t){c=i?{expr:E.pop(),set:y(i)}:h.find(E.pop(),E.length!==1||E[0]!=="~"&&E[0]!=="+"||!t.parentNode?t:t.parentNode,w),a=c.expr?h.filter(c.expr,c.set):c.set,E.length>0?f=y(a):b=!1;while(E.length)p=E.pop(),m=p,d.relative[p]?m=E.pop():p="",m==null&&(m=t),d.relative[p](f,m,w)}else f=E=[]}f||(f=a),f||h.error(p||e);if(o.call(f)==="[object Array]")if(!b)n.push.apply(n,f);else if(t&&t.nodeType===1)for(g=0;f[g]!=null;g++)f[g]&&(f[g]===!0||f[g].nodeType===1&&h.contains(t,f[g]))&&n.push(a[g]);else for(g=0;f[g]!=null;g++)f[g]&&f[g].nodeType===1&&n.push(a[g]);else y(f,n);return l&&(h(l,s,n,i),h.uniqueSort(n)),n};h.uniqueSort=function(e){if(w){u=a,e.sort(w);if(u)for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1)}return e},h.matches=function(e,t){return h(e,null,null,t)},h.matchesSelector=function(e,t){return h(t,null,null,[e]).length>0},h.find=function(e,t,n){var r,i,s,o,u,a;if(!e)return[];for(i=0,s=d.order.length;i<s;i++){u=d.order[i];if(o=d.leftMatch[u].exec(e)){a=o[1],o.splice(1,1);if(a.substr(a.length-1)!=="\\"){o[1]=(o[1]||"").replace(f,""),r=d.find[u](o,t,n);if(r!=null){e=e.replace(d.match[u],"");break}}}}return r||(r=typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName("*"):[]),{set:r,expr:e}},h.filter=function(e,n,r,i){var s,o,u,a,f,l,c,p,v,m=e,g=[],y=n,b=n&&n[0]&&h.isXML(n[0]);while(e&&n.length){for(u in d.filter)if((s=d.leftMatch[u].exec(e))!=null&&s[2]){l=d.filter[u],c=s[1],o=!1,s.splice(1,1);if(c.substr(c.length-1)==="\\")continue;y===g&&(g=[]);if(d.preFilter[u]){s=d.preFilter[u](s,y,r,g,i,b);if(!s)o=a=!0;else if(s===!0)continue}if(s)for(p=0;(f=y[p])!=null;p++)f&&(a=l(f,s,p,y),v=i^a,r&&a!=null?v?o=!0:y[p]=!1:v&&(g.push(f),o=!0));if(a!==t){r||(y=g),e=e.replace(d.match[u],"");if(!o)return[];break}}if(e===m){if(o!=null)break;h.error(e)}m=e}return y},h.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var p=h.getText=function(e){var t,n,r=e.nodeType,i="";if(r){if(r===1||r===9||r===11){if(typeof e.textContent=="string")return e.textContent;if(typeof e.innerText=="string")return e.innerText.replace(l,"");for(e=e.firstChild;e;e=e.nextSibling)i+=p(e)}else if(r===3||r===4)return e.nodeValue}else for(t=0;n=e[t];t++)n.nodeType!==8&&(i+=p(n));return i},d=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n=typeof t=="string",r=n&&!c.test(t),i=n&&!r;r&&(t=t.toLowerCase());for(var s=0,o=e.length,u;s<o;s++)if(u=e[s]){while((u=u.previousSibling)&&u.nodeType!==1);e[s]=i||u&&u.nodeName.toLowerCase()===t?u||!1:u===t}i&&h.filter(t,e,!0)},">":function(e,t){var n,r=typeof t=="string",i=0,s=e.length;if(r&&!c.test(t)){t=t.toLowerCase();for(;i<s;i++){n=e[i];if(n){var o=n.parentNode;e[i]=o.nodeName.toLowerCase()===t?o:!1}}}else{for(;i<s;i++)n=e[i],n&&(e[i]=r?n.parentNode:n.parentNode===t);r&&h.filter(t,e,!0)}},"":function(t,r,i){var o,u=s++,a=e;typeof r=="string"&&!c.test(r)&&(r=r.toLowerCase(),o=r,a=n),a("parentNode",r,u,t,o,i)},"~":function(t,r,i){var o,u=s++,a=e;typeof r=="string"&&!c.test(r)&&(r=r.toLowerCase(),o=r,a=n),a("previousSibling",r,u,t,o,i)}},find:{ID:function(e,t,n){if(typeof t.getElementById!="undefined"&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}},NAME:function(e,t){if(typeof t.getElementsByName!="undefined"){var n=[],r=t.getElementsByName(e[1]);for(var i=0,s=r.length;i<s;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return n.length===0?null:n}},TAG:function(e,t){if(typeof t.getElementsByTagName!="undefined")return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,r,i,s){e=" "+e[1].replace(f,"")+" ";if(s)return e;for(var o=0,u;(u=t[o])!=null;o++)u&&(i^(u.className&&(" "+u.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||r.push(u):n&&(t[o]=!1));return!1},ID:function(e){return e[1].replace(f,"")},TAG:function(e,t){return e[1].replace(f,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){e[2]||h.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&h.error(e[0]);return e[0]=s++,e},ATTR:function(e,t,n,r,i,s){var o=e[1]=e[1].replace(f,"");return!s&&d.attrMap[o]&&(e[1]=d.attrMap[o]),e[4]=(e[4]||e[5]||"").replace(f,""),e[2]==="~="&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(e,t,n,i,s){if(e[1]==="not"){if(!((r.exec(e[3])||"").length>1||/^\w/.test(e[3]))){var o=h.filter(e[3],t,n,!0^s);return n||i.push.apply(i,o),!1}e[3]=h(e[3],null,null,t)}else if(d.match.POS.test(e[0])||d.match.CHILD.test(e[0]))return!0;return e},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&e.type!=="hidden"},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!h(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return e.nodeName.toLowerCase()==="input"&&"text"===n&&(t===n||t===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return(t==="input"||t==="button")&&"submit"===e.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return(t==="input"||t==="button")&&"reset"===e.type},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&"button"===e.type||t==="button"},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return t===0},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],s=d.filters[i];if(s)return s(e,n,t,r);if(i==="contains")return(e.textContent||e.innerText||p([e])||"").indexOf(t[3])>=0;if(i==="not"){var o=t[3];for(var u=0,a=o.length;u<a;u++)if(o[u]===e)return!1;return!0}h.error(i)},CHILD:function(e,t){var n,r,s,o,u,a,f,l=t[1],c=e;switch(l){case"only":case"first":while(c=c.previousSibling)if(c.nodeType===1)return!1;if(l==="first")return!0;c=e;case"last":while(c=c.nextSibling)if(c.nodeType===1)return!1;return!0;case"nth":n=t[2],r=t[3];if(n===1&&r===0)return!0;s=t[0],o=e.parentNode;if(o&&(o[i]!==s||!e.nodeIndex)){a=0;for(c=o.firstChild;c;c=c.nextSibling)c.nodeType===1&&(c.nodeIndex=++a);o[i]=s}return f=e.nodeIndex-r,n===0?f===0:f%n===0&&f/n>=0}},ID:function(e,t){return e.nodeType===1&&e.getAttribute("id")===t},TAG:function(e,t){return t==="*"&&e.nodeType===1||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=h.attr?h.attr(e,n):d.attrHandle[n]?d.attrHandle[n](e):e[n]!=null?e[n]:e.getAttribute(n),i=r+"",s=t[2],o=t[4];return r==null?s==="!=":!s&&h.attr?r!=null:s==="="?i===o:s==="*="?i.indexOf(o)>=0:s==="~="?(" "+i+" ").indexOf(o)>=0:o?s==="!="?i!==o:s==="^="?i.indexOf(o)===0:s==="$="?i.substr(i.length-o.length)===o:s==="|="?i===o||i.substr(0,o.length+1)===o+"-":!1:i&&r!==!1},POS:function(e,t,n,r){var i=t[2],s=d.setFilters[i];if(s)return s(e,n,t,r)}}},v=d.match.POS,m=function(e,t){return"\\"+(t-0+1)};for(var g in d.match)d.match[g]=new RegExp(d.match[g].source+/(?![^\[]*\])(?![^\(]*\))/.source),d.leftMatch[g]=new RegExp(/(^(?:.|\r|\n)*?)/.source+d.match[g].source.replace(/\\(\d+)/g,m));d.match.globalPOS=v;var y=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(_.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(e,t){var n=0,r=t||[];if(o.call(e)==="[object Array]")Array.prototype.push.apply(r,e);else if(typeof e.length=="number")for(var i=e.length;n<i;n++)r.push(e[n]);else for(;e[n];n++)r.push(e[n]);return r}}var w,E;_.documentElement.compareDocumentPosition?w=function(e,t){return e===t?(u=!0,0):!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition?-1:1:e.compareDocumentPosition(t)&4?-1:1}:(w=function(e,t){if(e===t)return u=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,a=t.parentNode,f=o;if(o===a)return E(e,t);if(!o)return-1;if(!a)return 1;while(f)i.unshift(f),f=f.parentNode;f=a;while(f)s.unshift(f),f=f.parentNode;n=i.length,r=s.length;for(var l=0;l<n&&l<r;l++)if(i[l]!==s[l])return E(i[l],s[l]);return l===n?E(e,s[l],-1):E(i[l],t,1)},E=function(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var e=_.createElement("div"),n="script"+(new Date).getTime(),r=_.documentElement;e.innerHTML="<a name='"+n+"'/>",r.insertBefore(e,r.firstChild),_.getElementById(n)&&(d.find.ID=function(e,n,r){if(typeof n.getElementById!="undefined"&&!r){var i=n.getElementById(e[1]);return i?i.id===e[1]||typeof i.getAttributeNode!="undefined"&&i.getAttributeNode("id").nodeValue===e[1]?[i]:t:[]}},d.filter.ID=function(e,t){var n=typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id");return e.nodeType===1&&n&&n.nodeValue===t}),r.removeChild(e),r=e=null}(),function(){var e=_.createElement("div");e.appendChild(_.createComment("")),e.getElementsByTagName("*").length>0&&(d.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if(e[1]==="*"){var r=[];for(var i=0;n[i];i++)n[i].nodeType===1&&r.push(n[i]);n=r}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!="undefined"&&e.firstChild.getAttribute("href")!=="#"&&(d.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),_.querySelectorAll&&function(){var e=h,t=_.createElement("div"),n="__sizzle__";t.innerHTML="<p class='TEST'></p>";if(!t.querySelectorAll||t.querySelectorAll(".TEST").length!==0){h=function(t,r,i,s){r=r||_;if(!s&&!h.isXML(r)){var o=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(o&&(r.nodeType===1||r.nodeType===9)){if(o[1])return y(r.getElementsByTagName(t),i);if(o[2]&&d.find.CLASS&&r.getElementsByClassName)return y(r.getElementsByClassName(o[2]),i)}if(r.nodeType===9){if(t==="body"&&r.body)return y([r.body],i);if(o&&o[3]){var u=r.getElementById(o[3]);if(!u||!u.parentNode)return y([],i);if(u.id===o[3])return y([u],i)}try{return y(r.querySelectorAll(t),i)}catch(a){}}else if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){var f=r,l=r.getAttribute("id"),c=l||n,p=r.parentNode,v=/^\s*[+~]/.test(t);l?c=c.replace(/'/g,"\\$&"):r.setAttribute("id",c),v&&p&&(r=r.parentNode);try{if(!v||p)return y(r.querySelectorAll("[id='"+c+"'] "+t),i)}catch(m){}finally{l||f.removeAttribute("id")}}}return e(t,r,i,s)};for(var r in e)h[r]=e[r];t=null}}(),function(){var e=_.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var n=!t.call(_.createElement("div"),"div"),r=!1;try{t.call(_.documentElement,"[test!='']:sizzle")}catch(i){r=!0}h.matchesSelector=function(e,i){i=i.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!h.isXML(e))try{if(r||!d.match.PSEUDO.test(i)&&!/!=/.test(i)){var s=t.call(e,i);if(s||!n||e.document&&e.document.nodeType!==11)return s}}catch(o){}return h(i,null,null,[e]).length>0}}}(),function(){var e=_.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!!e.getElementsByClassName&&e.getElementsByClassName("e").length!==0){e.lastChild.className="e";if(e.getElementsByClassName("e").length===1)return;d.order.splice(1,0,"CLASS"),d.find.CLASS=function(e,t,n){if(typeof t.getElementsByClassName!="undefined"&&!n)return t.getElementsByClassName(e[1])},e=null}}(),_.documentElement.contains?h.contains=function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:_.documentElement.compareDocumentPosition?h.contains=function(e,t){return!!(e.compareDocumentPosition(t)&16)}:h.contains=function(){return!1},h.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?t.nodeName!=="HTML":!1};var S=function(e,t,n){var r,i=[],s="",o=t.nodeType?[t]:t;while(r=d.match.PSEUDO.exec(e))s+=r[0],e=e.replace(d.match.PSEUDO,"");e=d.relative[e]?e+"*":e;for(var u=0,a=o.length;u<a;u++)h(e,o[u],i,n);return h.filter(s,i)};h.attr=H.attr,h.selectors.attrMap={},H.find=h,H.expr=h.selectors,H.expr[":"]=H.expr.filters,H.unique=h.uniqueSort,H.text=h.getText,H.isXMLDoc=h.isXML,H.contains=h.contains}();var ut=/Until$/,at=/^(?:parents|prevUntil|prevAll)/,ft=/,/,lt=/^.[^:#\[\.,]*$/,ct=Array.prototype.slice,ht=H.expr.match.globalPOS,pt={children:!0,contents:!0,next:!0,prev:!0};H.fn.extend({find:function(e){var t=this,n,r;if(typeof e!="string")return H(e).filter(function(){for(n=0,r=t.length;n<r;n++)if(H.contains(t[n],this))return!0});var i=this.pushStack("","find",e),s,o,u;for(n=0,r=this.length;n<r;n++){s=i.length,H.find(e,this[n],i);if(n>0)for(o=s;o<i.length;o++)for(u=0;u<s;u++)if(i[u]===i[o]){i.splice(o--,1);break}}return i},has:function(e){var t=H(e);return this.filter(function(){for(var e=0,n=t.length;e<n;e++)if(H.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(T(this,e,!1),"not",e)},filter:function(e){return this.pushStack(T(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?ht.test(e)?H(e,this.context).index(this[0])>=0:H.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n=[],r,i,s=this[0];if(H.isArray(e)){var o=1;while(s&&s.ownerDocument&&s!==t){for(r=0;r<e.length;r++)H(s).is(e[r])&&n.push({selector:e[r],elem:s,level:o});s=s.parentNode,o++}return n}var u=ht.test(e)||typeof e!="string"?H(e,t||this.context):0;for(r=0,i=this.length;r<i;r++){s=this[r];while(s){if(u?u.index(s)>-1:H.find.matchesSelector(s,e)){n.push(s);break}s=s.parentNode;if(!s||!s.ownerDocument||s===t||s.nodeType===11)break}}return n=n.length>1?H.unique(n):n,this.pushStack(n,"closest",e)},index:function(e){return e?typeof e=="string"?H.inArray(this[0],H(e)):H.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?H(e,t):H.makeArray(e&&e.nodeType?[e]:e),r=H.merge(this.get(),n);return this.pushStack(N(n[0])||N(r[0])?r:H.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),H.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return H.dir(e,"parentNode")},parentsUntil:function(e,t,n){return H.dir(e,"parentNode",n)},next:function(e){return H.nth(e,2,"nextSibling")},prev:function(e){return H.nth(e,2,"previousSibling")},nextAll:function(e){return H.dir(e,"nextSibling")},prevAll:function(e){return H.dir(e,"previousSibling")},nextUntil:function(e,t,n){return H.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return H.dir(e,"previousSibling",n)},siblings:function(e){return H.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return H.sibling(e.firstChild)},contents:function(e){return H.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:H.makeArray(e.childNodes)}},function(e,t){H.fn[e]=function(n,r){var i=H.map(this,t,n);return ut.test(e)||(r=n),r&&typeof r=="string"&&(i=H.filter(r,i)),i=this.length>1&&!pt[e]?H.unique(i):i,(this.length>1||ft.test(r))&&at.test(e)&&(i=i.reverse()),this.pushStack(i,e,ct.call(arguments).join(","))}}),H.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?H.find.matchesSelector(t[0],e)?[t[0]]:[]:H.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!H(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},nth:function(e,t,n,r){t=t||1;var i=0;for(;e;e=e[n])if(e.nodeType===1&&++i===t)break;return e},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var dt="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",vt=/ jQuery\d+="(?:\d+|null)"/g,mt=/^\s+/,gt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,yt=/<([\w:]+)/,bt=/<tbody/i,wt=/<|&#?\w+;/,Et=/<(?:script|style)/i,St=/<(?:script|object|embed|option|style)/i,xt=new RegExp("<(?:"+dt+")[\\s/>]","i"),Tt=/checked\s*(?:[^=]|=\s*.checked.)/i,Nt=/\/(java|ecma)script/i,Ct=/^\s*<!(?:\[CDATA\[|\-\-)/,kt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Lt=x(_);kt.optgroup=kt.option,kt.tbody=kt.tfoot=kt.colgroup=kt.caption=kt.thead,kt.th=kt.td,H.support.htmlSerialize||(kt._default=[1,"div<div>","</div>"]),H.fn.extend({text:function(e){return H.access(this,function(e){return e===t?H.text(this):this.empty().append((this[0]&&this[0].ownerDocument||_).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(H.isFunction(e))return this.each(function(t){H(this).wrapAll(e.call(this,t))});if(this[0]){var t=H(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return H.isFunction(e)?this.each(function(t){H(this).wrapInner(e.call(this,t))}):this.each(function(){var t=H(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=H.isFunction(e);return this.each(function(n){H(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){H.nodeName(this,"body")||H(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){this.nodeType===1&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){this.nodeType===1&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=H.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,H.clean(arguments)),e}},remove:function(e,t){for(var n=0,r;(r=this[n])!=null;n++)if(!e||H.filter(e,[r]).length)!t&&r.nodeType===1&&(H.cleanData(r.getElementsByTagName("*")),H.cleanData([r])),r.parentNode&&r.parentNode.removeChild(r);return this},empty:function(){for(var e=0,t;(t=this[e])!=null;e++){t.nodeType===1&&H.cleanData(t.getElementsByTagName("*"));while(t.firstChild)t.removeChild(t.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return H.clone(this,e,t)})},html:function(e){return H.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(vt,""):null;if(typeof e=="string"&&!Et.test(e)&&(H.support.leadingWhitespace||!mt.test(e))&&!kt[(yt.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(gt,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(H.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?H.isFunction(e)?this.each(function(t){var n=H(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=H(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;H(this).remove(),t?H(t).before(e):H(n).append(e)})):this.length?this.pushStack(H(H.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){var i,s,o,u,a=e[0],f=[];if(!H.support.checkClone&&arguments.length===3&&typeof a=="string"&&Tt.test(a))return this.each(function(){H(this).domManip(e,n,r,!0)});if(H.isFunction(a))return this.each(function(i){var s=H(this);e[0]=a.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){u=a&&a.parentNode,H.support.parentNode&&u&&u.nodeType===11&&u.childNodes.length===this.length?i={fragment:u}:i=H.buildFragment(e,this,f),o=i.fragment,o.childNodes.length===1?s=o=o.firstChild:s=o.firstChild;if(s){n=n&&H.nodeName(s,"tr");for(var l=0,c=this.length,h=c-1;l<c;l++)r.call(n?S(this[l],s):this[l],i.cacheable||c>1&&l<h?H.clone(o,!0,!0):o)}f.length&&H.each(f,function(e,t){t.src?H.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):H.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Ct,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),H.buildFragment=function(e,t,n){var r,i,s,o,u=e[0];return t&&t[0]&&(o=t[0].ownerDocument||t[0]),o.createDocumentFragment||(o=_),e.length===1&&typeof u=="string"&&u.length<512&&o===_&&u.charAt(0)==="<"&&!St.test(u)&&(H.support.checkClone||!Tt.test(u))&&(H.support.html5Clone||!xt.test(u))&&(i=!0,s=H.fragments[u],s&&s!==1&&(r=s)),r||(r=o.createDocumentFragment(),H.clean(e,o,r,n)),i&&(H.fragments[u]=s?r:1),{fragment:r,cacheable:i}},H.fragments={},H.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){H.fn[e]=function(n){var r=[],i=H(n),s=this.length===1&&this[0].parentNode;if(s&&s.nodeType===11&&s.childNodes.length===1&&i.length===1)return i[t](this[0]),this;for(var o=0,u=i.length;o<u;o++){var a=(o>0?this.clone(!0):this).get();H(i[o])[t](a),r=r.concat(a)}return this.pushStack(r,e,i.selector)}}),H.extend({clone:function(e,t,n){var r,i,s,o=H.support.html5Clone||H.isXMLDoc(e)||!xt.test("<"+e.nodeName+">")?e.cloneNode(!0):m(e);if((!H.support.noCloneEvent||!H.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!H.isXMLDoc(e)){w(e,o),r=b(e),i=b(o);for(s=0;r[s];++s)i[s]&&w(r[s],i[s])}if(t){E(e,o);if(n){r=b(e),i=b(o);for(s=0;r[s];++s)E(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var i,s,o,u=[];t=t||_,typeof t.createElement=="undefined"&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||_);for(var a=0,f;(f=e[a])!=null;a++){typeof f=="number"&&(f+="");if(!f)continue;if(typeof f=="string")if(!wt.test(f))f=t.createTextNode(f);else{f=f.replace(gt,"<$1></$2>");var l=(yt.exec(f)||["",""])[1].toLowerCase(),c=kt[l]||kt._default,h=c[0],p=t.createElement("div"),d=Lt.childNodes,v;t===_?Lt.appendChild(p):x(t).appendChild(p),p.innerHTML=c[1]+f+c[2];while(h--)p=p.lastChild;if(!H.support.tbody){var m=bt.test(f),y=l==="table"&&!m?p.firstChild&&p.firstChild.childNodes:c[1]==="<table>"&&!m?p.childNodes:[];for(o=y.length-1;o>=0;--o)H.nodeName(y[o],"tbody")&&!y[o].childNodes.length&&y[o].parentNode.removeChild(y[o])}!H.support.leadingWhitespace&&mt.test(f)&&p.insertBefore(t.createTextNode(mt.exec(f)[0]),p.firstChild),f=p.childNodes,p&&(p.parentNode.removeChild(p),d.length>0&&(v=d[d.length-1],v&&v.parentNode&&v.parentNode.removeChild(v)))}var b;if(!H.support.appendChecked)if(f[0]&&typeof (b=f.length)=="number")for(o=0;o<b;o++)g(f[o]);else g(f);f.nodeType?u.push(f):u=H.merge(u,f)}if(n){i=function(e){return!e.type||Nt.test(e.type)};for(a=0;u[a];a++){s=u[a];if(r&&H.nodeName(s,"script")&&(!s.type||Nt.test(s.type)))r.push(s.parentNode?s.parentNode.removeChild(s):s);else{if(s.nodeType===1){var w=H.grep(s.getElementsByTagName("script"),i);u.splice.apply(u,[a+1,0].concat(w))}n.appendChild(s)}}}return u},cleanData:function(e){var t,n,r=H.cache,i=H.event.special,s=H.support.deleteExpando;for(var o=0,u;(u=e[o])!=null;o++){if(u.nodeName&&H.noData[u.nodeName.toLowerCase()])continue;n=u[H.expando];if(n){t=r[n];if(t&&t.events){for(var a in t.events)i[a]?H.event.remove(u,a):H.removeEvent(u,a,t.handle);t.handle&&(t.handle.elem=null)}s?delete u[H.expando]:u.removeAttribute&&u.removeAttribute(H.expando),delete r[n]}}}});var At=/alpha\([^)]*\)/i,Ot=/opacity=([^)]*)/,Mt=/([A-Z]|^ms)/g,_t=/^[\-+]?(?:\d*\.)?\d+$/i,Dt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Pt=/^([\-+])=([\-+.\de]+)/,Ht=/^margin/,Bt={position:"absolute",visibility:"hidden",display:"block"},jt=["Top","Right","Bottom","Left"],Ft,It,qt;H.fn.css=function(e,n){return H.access(this,function(e,n,r){return r!==t?H.style(e,n,r):H.css(e,n)},e,n,arguments.length>1)},H.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ft(e,"opacity");return n===""?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":H.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!!e&&e.nodeType!==3&&e.nodeType!==8&&!!e.style){var s,o,u=H.camelCase(n),a=e.style,f=H.cssHooks[u];n=H.cssProps[u]||u;if(r===t)return f&&"get"in f&&(s=f.get(e,!1,i))!==t?s:a[n];o=typeof r,o==="string"&&(s=Pt.exec(r))&&(r=+(s[1]+1)*+s[2]+parseFloat(H.css(e,n)),o="number");if(r==null||o==="number"&&isNaN(r))return;o==="number"&&!H.cssNumber[u]&&(r+="px");if(!f||!("set"in f)||(r=f.set(e,r))!==t)try{a[n]=r}catch(l){}}},css:function(e,n,r){var i,s;n=H.camelCase(n),s=H.cssHooks[n],n=H.cssProps[n]||n,n==="cssFloat"&&(n="float");if(s&&"get"in s&&(i=s.get(e,!0,r))!==t)return i;if(Ft)return Ft(e,n)},swap:function(e,t,n){var r={},i,s;for(s in t)r[s]=e.style[s],e.style[s]=t[s];i=n.call(e);for(s in t)e.style[s]=r[s];return i}}),H.curCSS=H.css,_.defaultView&&_.defaultView.getComputedStyle&&(It=function(e,t){var n,r,i,s,o=e.style;return t=t.replace(Mt,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)&&(i=r.getComputedStyle(e,null))&&(n=i.getPropertyValue(t),n===""&&!H.contains(e.ownerDocument.documentElement,e)&&(n=H.style(e,t))),!H.support.pixelMargin&&i&&Ht.test(t)&&Dt.test(n)&&(s=o.width,o.width=n,n=i.width,o.width=s),n}),_.documentElement.currentStyle&&(qt=function(e,t){var n,r,i,s=e.currentStyle&&e.currentStyle[t],o=e.style;return s==null&&o&&(i=o[t])&&(s=i),Dt.test(s)&&(n=o.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left=t==="fontSize"?"1em":s,s=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),s===""?"auto":s}),Ft=It||qt,H.each(["height","width"],function(e,t){H.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth!==0?v(e,t,r):H.swap(e,Bt,function(){return v(e,t,r)})},set:function(e,t){return _t.test(t)?t+"px":t}}}),H.support.opacity||(H.cssHooks.opacity={get:function(e,t){return Ot.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=H.isNumeric(t)?"alpha(opacity="+t*100+")":"",s=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&H.trim(s.replace(At,""))===""){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=At.test(s)?s.replace(At,i):s+" "+i}}),H(function(){H.support.reliableMarginRight||(H.cssHooks.marginRight={get:function(e,t){return H.swap(e,{display:"inline-block"},function(){return t?Ft(e,"margin-right"):e.style.marginRight})}})}),H.expr&&H.expr.filters&&(H.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return t===0&&n===0||!H.support.reliableHiddenOffsets&&(e.style&&e.style.display||H.css(e,"display"))==="none"},H.expr.filters.visible=function(e){return!H.expr.filters.hidden(e)}),H.each({margin:"",padding:"",border:"Width"},function(e,t){H.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+jt[r]+t]=i[r]||i[r-2]||i[0];return s}}});var Rt=/%20/g,Ut=/\[\]$/,zt=/\r?\n/g,Wt=/#.*$/,Xt=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Vt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,$t=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Jt=/^(?:GET|HEAD)$/,Kt=/^\/\//,Qt=/\?/,Gt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Yt=/^(?:select|textarea)/i,Zt=/\s+/,en=/([?&])_=[^&]*/,tn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,nn=H.fn.load,rn={},sn={},on,un,an=["*/"]+["*"];try{on=P.href}catch(fn){on=_.createElement("a"),on.href="",on=on.href}un=tn.exec(on.toLowerCase())||[],H.fn.extend({load:function(e,n,r){if(typeof e!="string"&&nn)return nn.apply(this,arguments);if(!this.length)return this;var i=e.indexOf(" ");if(i>=0){var s=e.slice(i,e.length);e=e.slice(0,i)}var o="GET";n&&(H.isFunction(n)?(r=n,n=t):typeof n=="object"&&(n=H.param(n,H.ajaxSettings.traditional),o="POST"));var u=this;return H.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),u.html(s?H("<div>").append(n.replace(Gt,"")).find(s):n)),r&&u.each(r,[n,t,e])}}),this},serialize:function(){return H.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?H.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Yt.test(this.nodeName)||Vt.test(this.type))}).map(function(e,t){var n=H(this).val();return n==null?null:H.isArray(n)?H.map(n,function(e,n){return{name:t.name,value:e.replace(zt,"\r\n")}}):{name:t.name,value:n.replace(zt,"\r\n")}}).get()}}),H.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){H.fn[t]=function(e){return this.on(t,e)}}),H.each(["get","post"],function(e,n){H[n]=function(e,r,i,s){return H.isFunction(r)&&(s=s||i,i=r,r=t),H.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),H.extend({getScript:function(e,n){return H.get(e,t,n,"script")},getJSON:function(e,t,n){return H.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?h(e,H.ajaxSettings):(t=e,e=H.ajaxSettings),h(e,t),e},ajaxSettings:{url:on,isLocal:$t.test(un[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":an},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":H.parseJSON,"text xml":H.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:d(rn),ajaxTransport:d(sn),ajax:function(e,n){function r(e,n,r,p){if(E!==2){E=2,b&&clearTimeout(b),y=t,m=p||"",T.readyState=e>0?4:0;var d,v,g,w=n,x=r?l(i,T,r):t,N,C;if(e>=200&&e<300||e===304){if(i.ifModified){if(N=T.getResponseHeader("Last-Modified"))H.lastModified[h]=N;if(C=T.getResponseHeader("Etag"))H.etag[h]=C}if(e===304)w="notmodified",d=!0;else try{v=f(i,x),w="success",d=!0}catch(k){w="parsererror",g=k}}else{g=w;if(!w||e)w="error",e<0&&(e=0)}T.status=e,T.statusText=""+(n||w),d?u.resolveWith(s,[v,w,T]):u.rejectWith(s,[T,w,g]),T.statusCode(c),c=t,S&&o.trigger("ajax"+(d?"Success":"Error"),[T,i,d?v:g]),a.fireWith(s,[T,w]),S&&(o.trigger("ajaxComplete",[T,i]),--H.active||H.event.trigger("ajaxStop"))}}typeof e=="object"&&(n=e,e=t),n=n||{};var i=H.ajaxSetup({},n),s=i.context||i,o=s!==i&&(s.nodeType||s instanceof H)?H(s):H.event,u=H.Deferred(),a=H.Callbacks("once memory"),c=i.statusCode||{},h,d={},v={},m,g,y,b,w,E=0,S,x,T={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=v[n]=v[n]||e,d[e]=t}return this},getAllResponseHeaders:function(){return E===2?m:null},getResponseHeader:function(e){var n;if(E===2){if(!g){g={};while(n=Xt.exec(m))g[n[1].toLowerCase()]=n[2]}n=g[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(i.mimeType=e),this},abort:function(e){return e=e||"abort",y&&y.abort(e),r(0,e),this}};u.promise(T),T.success=T.done,T.error=T.fail,T.complete=a.add,T.statusCode=function(e){if(e){var t;if(E<2)for(t in e)c[t]=[c[t],e[t]];else t=e[T.status],T.then(t,t)}return this},i.url=((e||i.url)+"").replace(Wt,"").replace(Kt,un[1]+"//"),i.dataTypes=H.trim(i.dataType||"*").toLowerCase().split(Zt),i.crossDomain==null&&(w=tn.exec(i.url.toLowerCase()),i.crossDomain=!(!w||w[1]==un[1]&&w[2]==un[2]&&(w[3]||(w[1]==="http:"?80:443))==(un[3]||(un[1]==="http:"?80:443)))),i.data&&i.processData&&typeof i.data!="string"&&(i.data=H.param(i.data,i.traditional)),p(rn,i,n,T);if(E===2)return!1;S=i.global,i.type=i.type.toUpperCase(),i.hasContent=!Jt.test(i.type),S&&H.active++===0&&H.event.trigger("ajaxStart");if(!i.hasContent){i.data&&(i.url+=(Qt.test(i.url)?"&":"?")+i.data,delete i.data),h=i.url;if(i.cache===!1){var N=H.now(),C=i.url.replace(en,"$1_="+N);i.url=C+(C===i.url?(Qt.test(i.url)?"&":"?")+"_="+N:"")}}(i.data&&i.hasContent&&i.contentType!==!1||n.contentType)&&T.setRequestHeader("Content-Type",i.contentType),i.ifModified&&(h=h||i.url,H.lastModified[h]&&T.setRequestHeader("If-Modified-Since",H.lastModified[h]),H.etag[h]&&T.setRequestHeader("If-None-Match",H.etag[h])),T.setRequestHeader("Accept",i.dataTypes[0]&&i.accepts[i.dataTypes[0]]?i.accepts[i.dataTypes[0]]+(i.dataTypes[0]!=="*"?", "+an+"; q=0.01":""):i.accepts["*"]);for(x in i.headers)T.setRequestHeader(x,i.headers[x]);if(!i.beforeSend||i.beforeSend.call(s,T,i)!==!1&&E!==2){for(x in{success:1,error:1,complete:1})T[x](i[x]);y=p(sn,i,n,T);if(!y)r(-1,"No Transport");else{T.readyState=1,S&&o.trigger("ajaxSend",[T,i]),i.async&&i.timeout>0&&(b=setTimeout(function(){T.abort("timeout")},i.timeout));try{E=1,y.send(d,r)}catch(k){if(!(E<2))throw k;r(-1,k)}}return T}return T.abort(),!1},param:function(e,n){var r=[],i=function(e,t){t=H.isFunction(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=H.ajaxSettings.traditional);if(H.isArray(e)||e.jquery&&!H.isPlainObject(e))H.each(e,function(){i(this.name,this.value)});else for(var s in e)c(s,e[s],n,i);return r.join("&").replace(Rt,"+")}}),H.extend({active:0,lastModified:{},etag:{}});var ln=H.now(),cn=/(\=)\?(&|$)|\?\?/i;H.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return H.expando+"_"+ln++}}),H.ajaxPrefilter("json jsonp",function(t,n,r){var i=typeof t.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(t.contentType);if(t.dataTypes[0]==="jsonp"||t.jsonp!==!1&&(cn.test(t.url)||i&&cn.test(t.data))){var s,o=t.jsonpCallback=H.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,u=e[o],a=t.url,f=t.data,l="$1"+o+"$2";return t.jsonp!==!1&&(a=a.replace(cn,l),t.url===a&&(i&&(f=f.replace(cn,l)),t.data===f&&(a+=(/\?/.test(a)?"&":"?")+t.jsonp+"="+o))),t.url=a,t.data=f,e[o]=function(e){s=[e]},r.always(function(){e[o]=u,s&&H.isFunction(u)&&e[o](s[0])}),t.converters["script json"]=function(){return s||H.error(o+" was not called"),s[0]},t.dataTypes[0]="json","script"}}),H.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return H.globalEval(e),e}}}),H.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),H.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=_.head||_.getElementsByTagName("head")[0]||_.documentElement;return{send:function(i,s){n=_.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||s(200,"success")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var hn=e.ActiveXObject?function(){for(var e in dn)dn[e](0,1)}:!1,pn=0,dn;H.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&a()||u()}:a,function(e){H.extend(H.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(H.ajaxSettings.xhr()),H.support.ajax&&H.ajaxTransport(function(n){if(!n.crossDomain||H.support.cors){var r;return{send:function(i,s){var o=n.xhr(),u,a;n.username?o.open(n.type,n.url,n.async,n.username,n.password):o.open(n.type,n.url,n.async);if(n.xhrFields)for(a in n.xhrFields)o[a]=n.xhrFields[a];n.mimeType&&o.overrideMimeType&&o.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(a in i)o.setRequestHeader(a,i[a])}catch(f){}o.send(n.hasContent&&n.data||null),r=function(e,i){var a,f,l,c,h;try{if(r&&(i||o.readyState===4)){r=t,u&&(o.onreadystatechange=H.noop,hn&&delete dn[u]);if(i)o.readyState!==4&&o.abort();else{a=o.status,l=o.getAllResponseHeaders(),c={},h=o.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=o.responseText}catch(e){}try{f=o.statusText}catch(p){f=""}!a&&n.isLocal&&!n.crossDomain?a=c.text?200:404:a===1223&&(a=204)}}}catch(d){i||s(-1,d)}c&&s(a,f,c,l)},!n.async||o.readyState===4?r():(u=++pn,hn&&(dn||(dn={},H(e).unload(hn)),dn[u]=r),o.onreadystatechange=r)},abort:function(){r&&r(0,1)}}}});var vn={},mn,gn,yn=/^(?:toggle|show|hide)$/,bn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,wn,En=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],Sn;H.fn.extend({show:function(e,t,n){var s,o;if(e||e===0)return this.animate(i("show",3),e,t,n);for(var u=0,a=this.length;u<a;u++)s=this[u],s.style&&(o=s.style.display,!H._data(s,"olddisplay")&&o==="none"&&(o=s.style.display=""),(o===""&&H.css(s,"display")==="none"||!H.contains(s.ownerDocument.documentElement,s))&&H._data(s,"olddisplay",r(s.nodeName)));for(u=0;u<a;u++){s=this[u];if(s.style){o=s.style.display;if(o===""||o==="none")s.style.display=H._data(s,"olddisplay")||""}}return this},hide:function(e,t,n){if(e||e===0)return this.animate(i("hide",3),e,t,n);var r,s,o=0,u=this.length;for(;o<u;o++)r=this[o],r.style&&(s=H.css(r,"display"),s!=="none"&&!H._data(r,"olddisplay")&&H._data(r,"olddisplay",s));for(o=0;o<u;o++)this[o].style&&(this[o].style.display="none");return this},_toggle:H.fn.toggle,toggle:function(e,t,n){var r=typeof e=="boolean";return H.isFunction(e)&&H.isFunction(t)?this._toggle.apply(this,arguments):e==null||r?this.each(function(){var t=r?e:H(this).is(":hidden");H(this)[t?"show":"hide"]()}):this.animate(i("toggle",3),e,t,n),this},fadeTo:function(e,t,n,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,i){function s(){o.queue===!1&&H._mark(this);var t=H.extend({},o),n=this.nodeType===1,i=n&&H(this).is(":hidden"),s,u,a,f,l,c,h,p,d,v,m;t.animatedProperties={};for(a in e){s=H.camelCase(a),a!==s&&(e[s]=e[a],delete e[a]);if((l=H.cssHooks[s])&&"expand"in l){c=l.expand(e[s]),delete e[s];for(a in c)a in e||(e[a]=c[a])}}for(s in e){u=e[s],H.isArray(u)?(t.animatedProperties[s]=u[1],u=e[s]=u[0]):t.animatedProperties[s]=t.specialEasing&&t.specialEasing[s]||t.easing||"swing";if(u==="hide"&&i||u==="show"&&!i)return t.complete.call(this);n&&(s==="height"||s==="width")&&(t.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],H.css(this,"display")==="inline"&&H.css(this,"float")==="none"&&(!H.support.inlineBlockNeedsLayout||r(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}t.overflow!=null&&(this.style.overflow="hidden");for(a in e)f=new H.fx(this,t,a),u=e[a],yn.test(u)?(m=H._data(this,"toggle"+a)||(u==="toggle"?i?"show":"hide":0),m?(H._data(this,"toggle"+a,m==="show"?"hide":"show"),f[m]()):f[u]()):(h=bn.exec(u),p=f.cur(),h?(d=parseFloat(h[2]),v=h[3]||(H.cssNumber[a]?"":"px"),v!=="px"&&(H.style(this,a,(d||1)+v),p=(d||1)/f.cur()*p,H.style(this,a,p+v)),h[1]&&(d=(h[1]==="-="?-1:1)*d+p),f.custom(p,d,v)):f.custom(p,u,""));return!0}var o=H.speed(t,n,i);return H.isEmptyObject(e)?this.each(o.complete,[!1]):(e=H.extend({},e),o.queue===!1?this.each(s):this.queue(o.queue,s))},stop:function(e,n,r){return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function t(e,t,n){var i=t[n];H.removeData(e,n,!0),i.stop(r)}var n,i=!1,s=H.timers,o=H._data(this);r||H._unmark(!0,this);if(e==null)for(n in o)o[n]&&o[n].stop&&n.indexOf(".run")===n.length-4&&t(this,o,n);else o[n=e+".run"]&&o[n].stop&&t(this,o,n);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(r?s[n](!0):s[n].saveState(),i=!0,s.splice(n,1));(!r||!i)&&H.dequeue(this,e)})}}),H.each({slideDown:i("show",1),slideUp:i("hide",1),slideToggle:i("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){H.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),H.extend({speed:function(e,t,n){var r=e&&typeof e=="object"?H.extend({},e):{complete:n||!n&&t||H.isFunction(e)&&e,duration:e,easing:n&&t||t&&!H.isFunction(t)&&t};r.duration=H.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in H.fx.speeds?H.fx.speeds[r.duration]:H.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(e){H.isFunction(r.old)&&r.old.call(this),r.queue?H.dequeue(this,r.queue):e!==!1&&H._unmark(this)},r},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),H.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(H.fx.step[this.prop]||H.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var e,t=H.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?!t||t==="auto"?0:t:e}return this.elem[this.prop]},custom:function(e,n,r){function i(e){return s.step(e)}var s=this,u=H.fx;this.startTime=Sn||o(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=r||this.unit||(H.cssNumber[this.prop]?"":"px"),i.queue=this.options.queue,i.elem=this.elem,i.saveState=function(){H._data(s.elem,"fxshow"+s.prop)===t&&(s.options.hide?H._data(s.elem,"fxshow"+s.prop,s.start):s.options.show&&H._data(s.elem,"fxshow"+s.prop,s.end))},i()&&H.timers.push(i)&&!wn&&(wn=setInterval(u.tick,u.interval))},show:function(){var e=H._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||H.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),H(this.elem).show()},hide:function(){this.options.orig[this.prop]=H._data(this.elem,"fxshow"+this.prop)||H.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,r,i=Sn||o(),s=!0,u=this.elem,a=this.options;if(e||i>=a.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),a.animatedProperties[this.prop]=!0;for(t in a.animatedProperties)a.animatedProperties[t]!==!0&&(s=!1);if(s){a.overflow!=null&&!H.support.shrinkWrapBlocks&&H.each(["","X","Y"],function(e,t){u.style["overflow"+t]=a.overflow[e]}),a.hide&&H(u).hide();if(a.hide||a.show)for(t in a.animatedProperties)H.style(u,t,a.orig[t]),H.removeData(u,"fxshow"+t,!0),H.removeData(u,"toggle"+t,!0);r=a.complete,r&&(a.complete=!1,r.call(u))}return!1}return a.duration==Infinity?this.now=i:(n=i-this.startTime,this.state=n/a.duration,this.pos=H.easing[a.animatedProperties[this.prop]](this.state,n,0,1,a.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},H.extend(H.fx,{tick:function(){var e,t=H.timers,n=0;for(;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||H.fx.stop()},interval:13,stop:function(){clearInterval(wn),wn=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){H.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&e.elem.style[e.prop]!=null?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),H.each(En.concat.apply([],En),function(e,t){t.indexOf("margin")&&(H.fx.step[t]=function(e){H.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),H.expr&&H.expr.filters&&(H.expr.filters.animated=function(e){return H.grep(H.timers,function(t){return e===t.elem}).length});var xn,Tn=/^t(?:able|d|h)$/i,Nn=/^(?:body|html)$/i;"getBoundingClientRect"in _.documentElement?xn=function(e,t,r,i){try{i=e.getBoundingClientRect()}catch(s){}if(!i||!H.contains(r,e))return i?{top:i.top,left:i.left}:{top:0,left:0};var o=t.body,u=n(t),a=r.clientTop||o.clientTop||0,f=r.clientLeft||o.clientLeft||0,l=u.pageYOffset||H.support.boxModel&&r.scrollTop||o.scrollTop,c=u.pageXOffset||H.support.boxModel&&r.scrollLeft||o.scrollLeft,h=i.top+l-a,p=i.left+c-f;return{top:h,left:p}}:xn=function(e,t,n){var r,i=e.offsetParent,s=e,o=t.body,u=t.defaultView,a=u?u.getComputedStyle(e,null):e.currentStyle,f=e.offsetTop,l=e.offsetLeft;while((e=e.parentNode)&&e!==o&&e!==n){if(H.support.fixedPosition&&a.position==="fixed")break;r=u?u.getComputedStyle(e,null):e.currentStyle,f-=e.scrollTop,l-=e.scrollLeft,e===i&&(f+=e.offsetTop,l+=e.offsetLeft,H.support.doesNotAddBorder&&(!H.support.doesAddBorderForTableAndCells||!Tn.test(e.nodeName))&&(f+=parseFloat(r.borderTopWidth)||0,l+=parseFloat(r.borderLeftWidth)||0),s=i,i=e.offsetParent),H.support.subtractsBorderForOverflowNotVisible&&r.overflow!=="visible"&&(f+=parseFloat(r.borderTopWidth)||0,l+=parseFloat(r.borderLeftWidth)||0),a=r}if(a.position==="relative"||a.position==="static")f+=o.offsetTop,l+=o.offsetLeft;return H.support.fixedPosition&&a.position==="fixed"&&(f+=Math.max(n.scrollTop,o.scrollTop),l+=Math.max(n.scrollLeft,o.scrollLeft)),{top:f,left:l}},H.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){H.offset.setOffset(this,e,t)});var n=this[0],r=n&&n.ownerDocument;return r?n===r.body?H.offset.bodyOffset(n):xn(n,r,r.documentElement):null},H.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return H.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(H.css(e,"marginTop"))||0,n+=parseFloat(H.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=H.css(e,"position");r==="static"&&(e.style.position="relative");var i=H(e),s=i.offset(),o=H.css(e,"top"),u=H.css(e,"left"),a=(r==="absolute"||r==="fixed")&&H.inArray("auto",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),H.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),"using"in t?t.using.call(e,f):i.css(f)}},H.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),r=Nn.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(H.css(e,"marginTop"))||0,n.left-=parseFloat(H.css(e,"marginLeft"))||0,r.top+=parseFloat(H.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(H.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||_.body;while(e&&!Nn.test(e.nodeName)&&H.css(e,"position")==="static")e=e.offsetParent;return e})}}),H.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,r){var i=/Y/.test(r);H.fn[e]=function(s){return H.access(this,function(e,s,o){var u=n(e);if(o===t)return u?r in u?u[r]:H.support.boxModel&&u.document.documentElement[s]||u.document.body[s]:e[s];u?u.scrollTo(i?H(u).scrollLeft():o,i?o:H(u).scrollTop()):e[s]=o},e,s,arguments.length,null)}}),H.each({Height:"height",Width:"width"},function(e,n){var r="client"+e,i="scroll"+e,s="offset"+e;H.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(H.css(e,n,"padding")):this[n]():null},H.fn["outer"+e]=function(e){var t=this[0];return t?t.style?parseFloat(H.css(t,n,e?"margin":"border")):this[n]():null},H.fn[n]=function(e){return H.access(this,function(e,n,o){var u,a,f,l;if(H.isWindow(e))return u=e.document,a=u.documentElement[r],H.support.boxModel&&a||u.body&&u.body[r]||a;if(e.nodeType===9)return u=e.documentElement,u[r]>=u[i]?u[r]:Math.max(e.body[i],u[i],e.body[s],u[s]);if(o===t)return f=H.css(e,n),l=parseFloat(f),H.isNumeric(l)?l:f;H(e).css(n,o)},n,e,arguments.length,null)}}),e.jQuery=e.$=H,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return H})})(window),function(){function e(t,n,r){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;t._chain&&(t=t._wrapped),n._chain&&(n=n._wrapped);if(t.isEqual&&E.isFunction(t.isEqual))return t.isEqual(n);if(n.isEqual&&E.isFunction(n.isEqual))return n.isEqual(t);var i=a.call(t);if(i!=a.call(n))return!1;switch(i){case"[object String]":return t==""+n;case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var s=r.length;s--;)if(r[s]==t)return!0;r.push(t);var s=0,o=!0;if("[object Array]"==i){if(s=t.length,o=s==n.length)for(;s--&&(o=s in t==s in n&&e(t[s],n[s],r)););}else{if("constructor"in t!="constructor"in n||t.constructor!=n.constructor)return!1;for(var u in t)if(E.has(t,u)&&(s++,!(o=E.has(n,u)&&e(t[u],n[u],r))))break;if(o){for(u in n)if(E.has(n,u)&&!(s--))break;o=!s}}return r.pop(),o}var t=this,n=t._,r={},i=Array.prototype,s=Object.prototype,o=i.slice,u=i.unshift,a=s.toString,f=s.hasOwnProperty,l=i.forEach,c=i.map,h=i.reduce,p=i.reduceRight,d=i.filter,v=i.every,m=i.some,g=i.indexOf,y=i.lastIndexOf,s=Array.isArray,b=Object.keys,w=Function.prototype.bind,E=function(e){return new _(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=E),exports._=E):t._=E,E.VERSION="1.3.3";var S=E.each=E.forEach=function(e,t,n){if(e!=null)if(l&&e.forEach===l)e.forEach(t,n);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(i in e&&t.call(n,e[i],i,e)===r)break}else for(i in e)if(E.has(e,i)&&t.call(n,e[i],i,e)===r)break};E.map=E.collect=function(e,t,n){var r=[];return e==null?r:c&&e.map===c?e.map(t,n):(S(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),e.length===+e.length&&(r.length=e.length),r)},E.reduce=E.foldl=E.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(h&&e.reduce===h)return r&&(t=E.bind(t,r)),i?e.reduce(t,n):e.reduce(t);S(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},E.reduceRight=E.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduceRight===p)return r&&(t=E.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=E.toArray(e).reverse();return r&&!i&&(t=E.bind(t,r)),i?E.reduce(s,t,n,r):E.reduce(s,t)},E.find=E.detect=function(e,t,n){var r;return x(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},E.filter=E.select=function(e,t,n){var r=[];return e==null?r:d&&e.filter===d?e.filter(t,n):(S(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},E.reject=function(e,t,n){var r=[];return e==null?r:(S(e,function(e,i,s){t.call(n,e,i,s)||(r[r.length]=e)}),r)},E.every=E.all=function(e,t,n){var i=!0;return e==null?i:v&&e.every===v?e.every(t,n):(S(e,function(e,s,o){if(!(i=i&&t.call(n,e,s,o)))return r}),!!i)};var x=E.some=E.any=function(e,t,n){t||(t=E.identity);var i=!1;return e==null?i:m&&e.some===m?e.some(t,n):(S(e,function(e,s,o){if(i||(i=t.call(n,e,s,o)))return r}),!!i)};E.include=E.contains=function(e,t){var n=!1;return e==null?n:g&&e.indexOf===g?e.indexOf(t)!=-1:n=x(e,function(e){return e===t})},E.invoke=function(e,t){var n=o.call(arguments,2);return E.map(e,function(e){return(E.isFunction(t)?t||e:e[t]).apply(e,n)})},E.pluck=function(e,t){return E.map(e,function(e){return e[t]})},E.max=function(e,t,n){if(!t&&E.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&E.isEmpty(e))return-Infinity;var r={computed:-Infinity};return S(e,function(e,i,s){i=t?t.call(n,e,i,s):e,i>=r.computed&&(r={value:e,computed:i})}),r.value},E.min=function(e,t,n){if(!t&&E.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&E.isEmpty(e))return Infinity;var r={computed:Infinity};return S(e,function(e,i,s){i=t?t.call(n,e,i,s):e,i<r.computed&&(r={value:e,computed:i})}),r.value},E.shuffle=function(e){var t=[],n;return S(e,function(e,r){n=Math.floor(Math.random()*(r+1)),t[r]=t[n],t[n]=e}),t},E.sortBy=function(e,t,n){var r=E.isFunction(t)?t:function(e){return e[t]};return E.pluck(E.map(e,function(e,t,i){return{value:e,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;return n===void 0?1:r===void 0?-1:n<r?-1:n>r?1:0}),"value")},E.groupBy=function(e,t){var n={},r=E.isFunction(t)?t:function(e){return e[t]};return S(e,function(e,t){var i=r(e,t);(n[i]||(n[i]=[])).push(e)}),n},E.sortedIndex=function(e,t,n){n||(n=E.identity);for(var r=0,i=e.length;r<i;){var s=r+i>>1;n(e[s])<n(t)?r=s+1:i=s}return r},E.toArray=function(e){return e?E.isArray(e)||E.isArguments(e)?o.call(e):e.toArray&&E.isFunction(e.toArray)?e.toArray():E.values(e):[]},E.size=function(e){return E.isArray(e)?e.length:E.keys(e).length},E.first=E.head=E.take=function(e,t,n){return t!=null&&!n?o.call(e,0,t):e[0]},E.initial=function(e,t,n){return o.call(e,0,e.length-(t==null||n?1:t))},E.last=function(e,t,n){return t!=null&&!n?o.call(e,Math.max(e.length-t,0)):e[e.length-1]},E.rest=E.tail=function(e,t,n){return o.call(e,t==null||n?1:t)},E.compact=function(e){return E.filter(e,function(e){return!!e})},E.flatten=function(e,t){return E.reduce(e,function(e,n){return E.isArray(n)?e.concat(t?n:E.flatten(n)):(e[e.length]=n,e)},[])},E.without=function(e){return E.difference(e,o.call(arguments,1))},E.uniq=E.unique=function(e,t,n){var n=n?E.map(e,n):e,r=[];return e.length<3&&(t=!0),E.reduce(n,function(n,i,s){if(t?E.last(n)!==i||!n.length:!E.include(n,i))n.push(i),r.push(e[s]);return n},[]),r},E.union=function(){return E.uniq(E.flatten(arguments,!0))},E.intersection=E.intersect=function(e){var t=o.call(arguments,1);return E.filter(E.uniq(e),function(e){return E.every(t,function(t){return E.indexOf(t,e)>=0})})},E.difference=function(e){var t=E.flatten(o.call(arguments,1),!0);return E.filter(e,function(e){return!E.include(t,e)})},E.zip=function(){for(var e=o.call(arguments),t=E.max(E.pluck(e,"length")),n=Array(t),r=0;r<t;r++)n[r]=E.pluck(e,""+r);return n},E.indexOf=function(e,t,n){if(e==null)return-1;var r;if(n)return n=E.sortedIndex(e,t),e[n]===t?n:-1;if(g&&e.indexOf===g)return e.indexOf(t);n=0;for(r=e.length;n<r;n++)if(n in e&&e[n]===t)return n;return-1},E.lastIndexOf=function(e,t){if(e==null)return-1;if(y&&e.lastIndexOf===y)return e.lastIndexOf(t);for(var n=e.length;n--;)if(n in e&&e[n]===t)return n;return-1},E.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0);for(var n=arguments[2]||1,r=Math.max(Math.ceil((t-e)/n),0),i=0,s=Array(r);i<r;)s[i++]=e,e+=n;return s};var T=function(){};E.bind=function(e,t){var n,r;if(e.bind===w&&w)return w.apply(e,o.call(arguments,1));if(!E.isFunction(e))throw new TypeError;return r=o.call(arguments,2),n=function(){if(this instanceof n){T.prototype=e.prototype;var i=new T,s=e.apply(i,r.concat(o.call(arguments)));return Object(s)===s?s:i}return e.apply(t,r.concat(o.call(arguments)))}},E.bindAll=function(e){var t=o.call(arguments,1);return t.length==0&&(t=E.functions(e)),S(t,function(t){e[t]=E.bind(e[t],e)}),e},E.memoize=function(e,t){var n={};return t||(t=E.identity),function(){var r=t.apply(this,arguments);return E.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},E.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},E.defer=function(e){return E.delay.apply(E,[e,1].concat(o.call(arguments,1)))},E.throttle=function(e,t){var n,r,i,s,o,u,a=E.debounce(function(){o=s=!1},t);return function(){return n=this,r=arguments,i||(i=setTimeout(function(){i=null,o&&e.apply(n,r),a()},t)),s?o=!0:u=e.apply(n,r),a(),s=!0,u}},E.debounce=function(e,t,n){var r;return function(){var i=this,s=arguments;n&&!r&&e.apply(i,s),clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(i,s)},t)}},E.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments))}},E.wrap=function(e,t){return function(){var n=[e].concat(o.call(arguments,0));return t.apply(this,n)}},E.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},E.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},E.keys=b||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[],n;for(n in e)E.has(e,n)&&(t[t.length]=n);return t},E.values=function(e){return E.map(e,E.identity)},E.functions=E.methods=function(e){var t=[],n;for(n in e)E.isFunction(e[n])&&t.push(n);return t.sort()},E.extend=function(e){return S(o.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},E.pick=function(e){var t={};return S(E.flatten(o.call(arguments,1)),function(n){n in e&&(t[n]=e[n])}),t},E.defaults=function(e){return S(o.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])}),e},E.clone=function(e){return E.isObject(e)?E.isArray(e)?e.slice():E.extend({},e):e},E.tap=function(e,t){return t(e),e},E.isEqual=function(t,n){return e(t,n,[])},E.isEmpty=function(e){if(e==null)return!0;if(E.isArray(e)||E.isString(e))return e.length===0;for(var t in e)if(E.has(e,t))return!1;return!0},E.isElement=function(e){return!!e&&e.nodeType==1},E.isArray=s||function(e){return a.call(e)=="[object Array]"},E.isObject=function(e){return e===Object(e)},E.isArguments=function(e){return a.call(e)=="[object Arguments]"},E.isArguments(arguments)||(E.isArguments=function(e){return!!e&&!!E.has(e,"callee")}),E.isFunction=function(e){return a.call(e)=="[object Function]"},E.isString=function(e){return a.call(e)=="[object String]"},E.isNumber=function(e){return a.call(e)=="[object Number]"},E.isFinite=function(e){return E.isNumber(e)&&isFinite(e)},E.isNaN=function(e){return e!==e},E.isBoolean=function(e){return e===!0||e===!1||a.call(e)=="[object Boolean]"},E.isDate=function(e){return a.call(e)=="[object Date]"},E.isRegExp=function(e){return a.call(e)=="[object RegExp]"},E.isNull=function(e){return e===null},E.isUndefined=function(e){return e===void 0},E.has=function(e,t){return f.call(e,t)},E.noConflict=function(){return t._=n,this},E.identity=function(e){return e},E.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)},E.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},E.result=function(e,t){if(e==null)return null;var n=e[t];return E.isFunction(n)?n.call(e):n},E.mixin=function(e){S(E.functions(e),function(t){P(t,E[t]=e[t])})};var N=0;E.uniqueId=function(e){var t=N++;return e?e+t:t},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var C=/.^/,k={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"},L;for(L in k)k[k[L]]=L;var A=/\\|'|\r|\n|\t|\u2028|\u2029/g,O=/\\(\\|'|r|n|t|u2028|u2029)/g,M=function(e){return e.replace(O,function(e,t){return k[t]})};E.template=function(e,t,n){n=E.defaults(n||{},E.templateSettings),e="__p+='"+e.replace(A,function(e){return"\\"+k[e]}).replace(n.escape||C,function(e,t){return"'+\n_.escape("+M(t)+")+\n'"}).replace(n.interpolate||C,function(e,t){return"'+\n("+M(t)+")+\n'"}).replace(n.evaluate||C,function(e,t){return"';\n"+M(t)+"\n;__p+='"})+"';\n",n.variable||(e="with(obj||{}){\n"+e+"}\n");var e="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+e+"return __p;\n",r=new Function(n.variable||"obj","_",e);return t?r(t,E):(t=function(e){return r.call(this,e,E)},t.source="function("+(n.variable||"obj")+"){\n"+e+"}",t)},E.chain=function(e){return E(e).chain()};var _=function(e){this._wrapped=e};E.prototype=_.prototype;var D=function(e,t){return t?E(e).chain():e},P=function(e,t){_.prototype[e]=function(){var e=o.call(arguments);return u.call(e,this._wrapped),D(t.apply(E,e),this._chain)}};E.mixin(E),S("pop,push,reverse,shift,sort,splice,unshift".split(","),function(e){var t=i[e];_.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var r=n.length;return(e=="shift"||e=="splice")&&r===0&&delete n[0],D(n,this._chain)}}),S(["concat","join","slice"],function(e){var t=i[e];_.prototype[e]=function(){return D(t.apply(this._wrapped,arguments),this._chain)}}),_.prototype.chain=function(){return this._chain=!0,this},_.prototype.value=function(){return this._wrapped}}.call(this),define("underscore",function(e){return function(){var t,n;return t||e._}}(this)),function(){var e=this,t=e.Backbone,n=Array.prototype.slice,r=Array.prototype.splice,i;i="undefined"!=typeof exports?exports:e.Backbone={},i.VERSION="0.9.2";var s=e._;!s&&"undefined"!=typeof require&&(s=require("underscore"));var o=e.jQuery||e.Zepto||e.ender;i.setDomLibrary=function(e){o=e},i.noConflict=function(){return e.Backbone=t,this},i.emulateHTTP=!1,i.emulateJSON=!1;var u=/\s+/,a=i.Events={on:function(e,t,n){var r,i,s,o,a;if(!t)return this;e=e.split(u);for(r=this._callbacks||(this._callbacks={});i=e.shift();)s=(a=r[i])?a.tail:{},s.next=o={},s.context=n,s.callback=t,r[i]={tail:o,next:a?a.next:s};return this},off:function(e,t,n){var r,i,o,a,f,l;if(i=this._callbacks){if(!e&&!t&&!n)return delete this._callbacks,this;for(e=e?e.split(u):s.keys(i);r=e.shift();)if(o=i[r],delete i[r],o&&(t||n))for(a=o.tail;(o=o.next)!==a;)(f=o.callback,l=o.context,t&&f!==t||n&&l!==n)&&this.on(r,f,l);return this}},trigger:function(e){var t,r,i,s,o,a;if(!(i=this._callbacks))return this;o=i.all,e=e.split(u);for(a=n.call(arguments,1);t=e.shift();){if(r=i[t])for(s=r.tail;(r=r.next)!==s;)r.callback.apply(r.context||this,a);if(r=o){s=r.tail;for(t=[t].concat(a);(r=r.next)!==s;)r.callback.apply(r.context||this,t)}}return this}};a.bind=a.on,a.unbind=a.off;var f=i.Model=function(e,t){var n;e||(e={}),t&&t.parse&&(e=this.parse(e));if(n=T(this,"defaults"))e=s.extend({},n,e);t&&t.collection&&(this.collection=t.collection),this.attributes={},this._escapedAttributes={},this.cid=s.uniqueId("c"),this.changed={},this._silent={},this._pending={},this.set(e,{silent:!0}),this.changed={},this._silent={},this._pending={},this._previousAttributes=s.clone(this.attributes),this.initialize.apply(this,arguments)};s.extend(f.prototype,a,{changed:null,_silent:null,_pending:null,idAttribute:"id",initialize:function(){},toJSON:function(){return s.clone(this.attributes)},get:function(e){return this.attributes[e]},escape:function(e){var t;return(t=this._escapedAttributes[e])?t:(t=this.get(e),this._escapedAttributes[e]=s.escape(null==t?"":""+t))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var r,i;s.isObject(e)||null==e?(r=e,n=t):(r={},r[e]=t),n||(n={});if(!r)return this;r instanceof f&&(r=r.attributes);if(n.unset)for(i in r)r[i]=void 0;if(!this._validate(r,n))return!1;this.idAttribute in r&&(this.id=r[this.idAttribute]);var t=n.changes={},o=this.attributes,u=this._escapedAttributes,a=this._previousAttributes||{};for(i in r){e=r[i];if(!s.isEqual(o[i],e)||n.unset&&s.has(o,i))delete u[i],(n.silent?this._silent:t)[i]=!0;n.unset?delete o[i]:o[i]=e,!s.isEqual(a[i],e)||s.has(o,i)!=s.has(a,i)?(this.changed[i]=e,n.silent||(this._pending[i]=!0)):(delete this.changed[i],delete this._pending[i])}return n.silent||this.change(n),this},unset:function(e,t){return(t||(t={})).unset=!0,this.set(e,null,t)},clear:function(e){return(e||(e={})).unset=!0,this.set(s.clone(this.attributes),e)},fetch:function(e){var e=e?s.clone(e):{},t=this,n=e.success;return e.success=function(r,i,s){if(!t.set(t.parse(r,s),e))return!1;n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},save:function(e,t,n){var r,o;s.isObject(e)||null==e?(r=e,n=t):(r={},r[e]=t),n=n?s.clone(n):{};if(n.wait){if(!this._validate(r,n))return!1;o=s.clone(this.attributes)}e=s.extend({},n,{silent:!0});if(r&&!this.set(r,n.wait?e:n))return!1;var u=this,a=n.success;return n.success=function(e,t,i){t=u.parse(e,i),n.wait&&(delete n.wait,t=s.extend(r||{},t));if(!u.set(t,n))return!1;a?a(u,e):u.trigger("sync",u,e,n)},n.error=i.wrapError(n.error,u,n),t=this.isNew()?"create":"update",t=(this.sync||i.sync).call(this,t,this,n),n.wait&&this.set(o,e),t},destroy:function(e){var e=e?s.clone(e):{},t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(this.isNew())return r(),!1;e.success=function(i){e.wait&&r(),n?n(t,i):t.trigger("sync",t,i,e)},e.error=i.wrapError(e.error,t,e);var o=(this.sync||i.sync).call(this,"delete",this,e);return e.wait||r(),o},url:function(){var e=T(this,"urlRoot")||T(this.collection,"url")||N();return this.isNew()?e:e+("/"==e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},change:function(e){e||(e={});var t=this._changing;this._changing=!0;for(var n in this._silent)this._pending[n]=!0;var r=s.extend({},e.changes,this._silent);this._silent={};for(n in r)this.trigger("change:"+n,this,this.get(n),e);if(t)return this;for(;!s.isEmpty(this._pending);){this._pending={},this.trigger("change",this,e);for(n in this.changed)!this._pending[n]&&!this._silent[n]&&delete this.changed[n];this._previousAttributes=s.clone(this.attributes)}return this._changing=!1,this},hasChanged:function(e){return arguments.length?s.has(this.changed,e):!s.isEmpty(this.changed)},changedAttributes:function(e){if(!e)return this.hasChanged()?s.clone(this.changed):!1;var t,n=!1,r=this._previousAttributes,i;for(i in e)s.isEqual(r[i],t=e[i])||((n||(n={}))[i]=t);return n},previous:function(e){return!arguments.length||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return s.clone(this._previousAttributes)},isValid:function(){return!this.validate(this.attributes)},_validate:function(e,t){if(t.silent||!this.validate)return!0;var e=s.extend({},this.attributes,e),n=this.validate(e,t);return n?(t&&t.error?t.error(this,n,t):this.trigger("error",this,n,t),!1):!0}});var l=i.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,{silent:!0,parse:t.parse})};s.extend(l.prototype,a,{model:f,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},add:function(e,t){var n,i,o,u,a,f={},l={},c=[];t||(t={}),e=s.isArray(e)?e.slice():[e],n=0;for(i=e.length;n<i;n++){if(!(o=e[n]=this._prepareModel(e[n],t)))throw Error("Can't add an invalid model to a collection");u=o.cid,a=o.id,f[u]||this._byCid[u]||null!=a&&(l[a]||this._byId[a])?c.push(n):f[u]=l[a]=o}for(n=c.length;n--;)e.splice(c[n],1);n=0;for(i=e.length;n<i;n++)(o=e[n]).on("all",this._onModelEvent,this),this._byCid[o.cid]=o,null!=o.id&&(this._byId[o.id]=o);this.length+=i,r.apply(this.models,[null!=t.at?t.at:this.models.length,0].concat(e)),this.comparator&&this.sort({silent:!0});if(t.silent)return this;n=0;for(i=this.models.length;n<i;n++)f[(o=this.models[n]).cid]&&(t.index=n,o.trigger("add",o,this,t));return this},remove:function(e,t){var n,r,i,o;t||(t={}),e=s.isArray(e)?e.slice():[e],n=0;for(r=e.length;n<r;n++)if(o=this.getByCid(e[n])||this.get(e[n]))delete this._byId[o.id],delete this._byCid[o.cid],i=this.indexOf(o),this.models.splice(i,1),this.length--,t.silent||(t.index=i,o.trigger("remove",o,this,t)),this._removeReference(o);return this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,t),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},get:function(e){return null==e?void 0:this._byId[null!=e.id?e.id:e]},getByCid:function(e){return e&&this._byCid[e.cid||e]},at:function(e){return this.models[e]},where:function(e){return s.isEmpty(e)?[]:this.filter(function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},sort:function(e){e||(e={});if(!this.comparator)throw Error("Cannot sort a set without a comparator");var t=s.bind(this.comparator,this);return 1==this.comparator.length?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("reset",this,e),this},pluck:function(e){return s.map(this.models,function(t){return t.get(e)})},reset:function(e,t){e||(e=[]),t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return this._reset(),this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},fetch:function(e){e=e?s.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r,i,s){t[e.add?"add":"reset"](t.parse(r,s),e),n&&n(t,r)},e.error=i.wrapError(e.error,t,e),(this.sync||i.sync).call(this,"read",this,e)},create:function(e,t){var n=this,t=t?s.clone(t):{},e=this._prepareModel(e,t);if(!e)return!1;t.wait||n.add(e,t);var r=t.success;return t.success=function(i,s){t.wait&&n.add(i,t),r?r(i,s):i.trigger("sync",e,s,t)},e.save(null,t),e},parse:function(e){return e},chain:function(){return s(this.models).chain()},_reset:function(){this.length=0,this.models=[],this._byId={},this._byCid={}},_prepareModel:function(e,t){return t||(t={}),e instanceof f?e.collection||(e.collection=this):(t.collection=this,e=new this.model(e,t),e._validate(e.attributes,t)||(e=!1)),e},_removeReference:function(e){this==e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"==e||"remove"==e)&&n!=this||("destroy"==e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],this._byId[t.id]=t),this.trigger.apply(this,arguments))}}),s.each("forEach,each,map,reduce,reduceRight,find,detect,filter,select,reject,every,all,some,any,include,contains,invoke,max,min,sortBy,sortedIndex,toArray,size,first,initial,rest,last,without,indexOf,shuffle,lastIndexOf,isEmpty,groupBy".split(","),function(e){l.prototype[e]=function(){return s[e].apply(s,[this.models].concat(s.toArray(arguments)))}});var c=i.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},h=/:\w+/g,p=/\*\w+/g,d=/[-[\]{}()+?.,\\^$|#\s]/g;s.extend(c.prototype,a,{initialize:function(){},route:function(e,t,n){return i.history||(i.history=new v),s.isRegExp(e)||(e=this._routeToRegExp(e)),n||(n=this[t]),i.history.route(e,s.bind(function(r){r=this._extractParameters(e,r),n&&n.apply(this,r),this.trigger.apply(this,["route:"+t].concat(r)),i.history.trigger("route",this,t,r)},this)),this},navigate:function(e,t){i.history.navigate(e,t)},_bindRoutes:function(){if(this.routes){var e=[],t;for(t in this.routes)e.unshift([t,this.routes[t]]);t=0;for(var n=e.length;t<n;t++)this.route(e[t][0],e[t][1],this[e[t][1]])}},_routeToRegExp:function(e){return e=e.replace(d,"\\$&").replace(h,"([^/]+)").replace(p,"(.*?)"),RegExp("^"+e+"$")},_extractParameters:function(e,t){return e.exec(t).slice(1)}});var v=i.History=function(){this.handlers=[],s.bindAll(this,"checkUrl")},m=/^[#\/]/,g=/msie [\w.]+/;v.started=!1,s.extend(v.prototype,a,{interval:50,getHash:function(e){return(e=(e?e.location:window.location).href.match(/#(.*)$/))?e[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||t){var e=window.location.pathname,n=window.location.search;n&&(e+=n)}else e=this.getHash();return e.indexOf(this.options.root)||(e=e.substr(this.options.root.length)),e.replace(m,"")},start:function(e){if(v.started)throw Error("Backbone.history has already been started");v.started=!0,this.options=s.extend({},{root:"/"},this.options,e),this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.options.pushState||!window.history||!window.history.pushState);var e=this.getFragment(),t=document.documentMode;if(t=g.exec(navigator.userAgent.toLowerCase())&&(!t||7>=t))this.iframe=o('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(e);this._hasPushState?o(window).bind("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!t?o(window).bind("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=e,e=window.location,t=e.pathname==this.options.root;if(this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!t)return this.fragment=this.getFragment(null,!0),window.location.replace(this.options.root+"#"+this.fragment),!0;this._wantsPushState&&this._hasPushState&&t&&e.hash&&(this.fragment=this.getHash().replace(m,""),window.history.replaceState({},document.title,e.protocol+"//"+e.host+this.options.root+this.fragment));if(!this.options.silent)return this.loadUrl()},stop:function(){o(window).unbind("popstate",this.checkUrl).unbind("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),v.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();e==this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe)));if(e==this.fragment)return!1;this.iframe&&this.navigate(e),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e);return s.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0})},navigate:function(e,t){if(!v.started)return!1;if(!t||!0===t)t={trigger:t};var n=(e||"").replace(m,"");this.fragment!=n&&(this._hasPushState?(0!=n.indexOf(this.options.root)&&(n=this.options.root+n),this.fragment=n,window.history[t.replace?"replaceState":"pushState"]({},document.title,n)):this._wantsHashChange?(this.fragment=n,this._updateHash(window.location,n,t.replace),this.iframe&&n!=this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,n,t.replace))):window.location.assign(this.options.root+e),t.trigger&&this.loadUrl(e))},_updateHash:function(e,t,n){n?e.replace(e.toString().replace(/(javascript:|#).*$/,"")+"#"+t):e.hash=t}});var y=i.View=function(e){this.cid=s.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},b=/^(\S+)\s*(.*)$/,w="model,collection,el,id,attributes,className,tagName".split(",");s.extend(y.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this},make:function(e,t,n){return e=document.createElement(e),t&&o(e).attr(t),n&&o(e).html(n),e},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o?e:o(e),this.el=this.$el[0],!1!==t&&this.delegateEvents(),this},delegateEvents:function(e){if(e||(e=T(this,"events"))){this.undelegateEvents();for(var t in e){var n=e[t];s.isFunction(n)||(n=this[e[t]]);if(!n)throw Error('Method "'+e[t]+'" does not exist');var r=t.match(b),i=r[1],r=r[2],n=s.bind(n,this),i=i+(".delegateEvents"+this.cid);""===r?this.$el.bind(i,n):this.$el.delegate(r,i,n)}}},undelegateEvents:function(){this.$el.unbind(".delegateEvents"+this.cid)},_configure:function(e){this.options&&(e=s.extend({},this.options,e));for(var t=0,n=w.length;t<n;t++){var r=w[t];e[r]&&(this[r]=e[r])}this.options=e},_ensureElement:function(){if(this.el)this.setElement(this.el,!1);else{var e=T(this,"attributes")||{};this.id&&(e.id=this.id),this.className&&(e["class"]=this.className),this.setElement(this.make(this.tagName,e),!1)}}}),f.extend=l.extend=c.extend=y.extend=function(e,t){var n=x(this,e,t);return n.extend=this.extend,n};var E={create:"POST",update:"PUT","delete":"DELETE",read:"GET"};i.sync=function(e,t,n){var r=E[e];n||(n={});var u={type:r,dataType:"json"};return n.url||(u.url=T(t,"url")||N()),!n.data&&t&&("create"==e||"update"==e)&&(u.contentType="application/json",u.data=JSON.stringify(t.toJSON())),i.emulateJSON&&(u.contentType="application/x-www-form-urlencoded",u.data=u.data?{model:u.data}:{}),i.emulateHTTP&&("PUT"===r||"DELETE"===r)&&(i.emulateJSON&&(u.data._method=r),u.type="POST",u.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r)}),"GET"!==u.type&&!i.emulateJSON&&(u.processData=!1),o.ajax(s.extend(u,n))},i.wrapError=function(e,t,n){return function(r,i){i=r===t?i:r,e?e(t,i,n):t.trigger("error",t,i,n)}};var S=function(){},x=function(e,t,n){var r;return r=t&&t.hasOwnProperty("constructor")?t.constructor:function(){e.apply(this,arguments)},s.extend(r,e),S.prototype=e.prototype,r.prototype=new S,t&&s.extend(r.prototype,t),n&&s.extend(r,n),r.prototype.constructor=r,r.__super__=e.prototype,r},T=function(e,t){return!e||!e[t]?null:s.isFunction(e[t])?e[t]():e[t]},N=function(){throw Error('A "url" property or function must be specified')}}.call(this),define("backbone",["underscore","jquery"],function(e){return function(){var t,n;return t||e.Backbone}}(this)),define("models/session",["underscore","backbone"],function(e,t){var n=t.Model.extend({defaults:{id:null,name:null,access_token:null},initialize:function(){FB.init({appId:"119834638185495",status:!0,cookie:!0,xfbml:!0})},getLoginStatus:function(e){var t=this;FB.getLoginStatus(function(n){t.handleLogin(n,e)})},handleLogin:function(e,t){console.log(this);var n=this;if(e.status==="connected"){var r=e.authResponse.userID,i=e.authResponse.accessToken;n.set({access_token:i,id:r}),FB.api("/me",function(e){console.log("Good to see you, "+e.name+"."),n.set({name:e.name}),t()})}else e.status==="not_authorized"},isAuthorized:function(){return Boolean(this.get("id"))},logout:function(){this.clear(),this.set({id:null}),FB.logout(),console.log("logout done!")},login:function(e){var t=this;FB.login(function(n){t.handleLogin(n,e)})}});return n}),define("models/video",["underscore","backbone"],function(e,t){var n=t.Model.extend({defaults:{active:!1},initialize:function(){console.log("video.init"),this.set({video_id:this.getVideoIdByUrl(this.get("source"))})},validate:function(e){if(e.name=="")return{name:"Name "}},getVideoIdByUrl:function(e){var t=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=)([^#\&\?]*).*/,n=e.match(t);return n&&n[2].length==11?n[2]:e},activate:function(){this.set("active",!0)},deactivate:function(){this.set("active",!1)},markAsWatched:function(){console.log("markAsWatched"),t.sync("create",this,{method:"POST",url:"/ply/me/video/"+this.get("id")+"/watched"})}});return n}),define("collections/videos",["underscore","backbone","models/video"],function(e,t,n){var r=t.Collection.extend({model:n,url:"/ply/me/videos"});return new r});try{window.FB||function(e){function o(){}var t=e,n=e.document,r=e.setTimeout,i=e.setInterval,s=0,u,a;(function(e){var t={},n={},r=["global","require","requireDynamic","requireLazy","module","exports"];u=function(r,i){if(n.hasOwnProperty(r))return n[r];if(!t.hasOwnProperty(r)){if(i)return null;throw new Error("Module "+r+" has not been defined")}var s=t[r],o=s.deps,a=o.length,f,l=[];for(var h=0;h<a;h++){switch(o[h]){case"module":f=s;break;case"exports":f=s.exports;break;case"global":f=e;break;case"require":f=u;break;case"requireDynamic":f=u;break;case"requireLazy":f=null;break;default:f=u(o[h])}l.push(f)}return s.factory.apply(e,l),n[r]=s.exports,s.exports},a=function(e,i,s,o){switch(typeof s){case"function":t[e]={factory:s,deps:r.concat(i),exports:{}},o===3&&u(e);break;case"object":n[e]=s;break;default:throw new TypeError("Wrong type for factory object")}}})(this);var f=function(){return a("ES5ArrayPrototype",[],function(e,t,n,r,i,s){var o={};o.map=function(e,t){if(typeof e!="function")throw new TypeError;var n,r=this.length,i=new Array(r);for(n=0;n<r;++n)n in this&&(i[n]=e.call(t,this[n],n,this));return i},o.forEach=function(e,t){o.map.call(this,e,t)},o.filter=function(e,t){if(typeof e!="function")throw new TypeError;var n,r,i=this.length,s=[];for(n=0;n<i;++n)n in this&&(r=this[n],e.call(t,r,n,this)&&s.push(r));return s},o.every=function(e,t){if(typeof e!="function")throw new TypeError;var n=new Object(this),r=n.length;for(var i=0;i<r;i++)if(i in n&&!e.call(t,n[i],i,n))return!1;return!0},o.some=function(e,t){if(typeof e!="function")throw new TypeError;var n=new Object(this),r=n.length;for(var i=0;i<r;i++)if(i in n&&e.call(t,n[i],i,n))return!0;return!1},o.indexOf=function(e,t){var n=this.length;t|=0,t<0&&(t+=n);for(;t<n;t++)if(t in this&&this[t]===e)return t;return-1},i.exports=o}),a("ES5FunctionPrototype",[],function(e,t,n,r,i,s){var o={};o.bind=function(e){function r(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}if(typeof this!="function")throw new TypeError("Bind must be called on a function");var t=this,n=Array.prototype.slice.call(arguments,1);return r.displayName="bound:"+(t.displayName||t.name||"(?)"),r.toString=function(){return"bound: "+t},r},i.exports=o}),a("ES5StringPrototype",[],function(e,t,n,r,i,s){var o={};o.trim=function(){if(this==null)throw new TypeError("String.prototype.trim called on null or undefined");return String.prototype.replace.call(this,/^\s+|\s+$/g,"")},i.exports=o}),a("ES5Array",[],function(e,t,n,r,i,s){var o={};o.isArray=function(e){return Object.prototype.toString.call(e)=="[object Array]"},i.exports=o}),a("ES5Object",[],function(e,t,n,r,i,s){var o={};o.create=function(e){var t=typeof e;if(t!="object"&&t!="function")throw new TypeError("Object prototype may only be a Object or null");var n=new Function;return n.prototype=e,new n},o.keys=function(e){var t=typeof e;if(t!="object"&&t!="function"||e===null)throw new TypeError("Object.keys called on non-object");var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(r);var i=!{toString:!0}.propertyIsEnumerable("toString"),s=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","prototypeIsEnumerable","constructor"];if(i)for(var o=0;o<s.length;o++){var u=s[o];Object.prototype.hasOwnProperty.call(e,u)&&n.push(u)}return n},i.exports=o}),a("ES5Date",[],function(e,t,n,r,i,s){var o={};o.now=function(){return(new Date).getTime()},i.exports=o}),a("JSON3",[],function(e,t,n,r,i,s){(function(){var e={}.toString,t,n,r,s=i.exports={},o='{"A":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}',u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S=new Date(-0xc782b5b800cec),x,T,N;try{S=S.getUTCFullYear()==-109252&&S.getUTCMonth()===0&&S.getUTCDate()==1&&S.getUTCHours()==10&&S.getUTCMinutes()==37&&S.getUTCSeconds()==6&&S.getUTCMilliseconds()==708}catch(C){}S||(x=Math.floor,T=[0,31,59,90,120,151,181,212,243,273,304,334],N=function(e,t){return T[t]+365*(e-1970)+x((e-1969+(t=+(t>1)))/4)-x((e-1901+t)/100)+x((e-1601+t)/400)}),typeof JSON=="object"&&JSON&&(s.stringify=JSON.stringify,s.parse=JSON.parse);if(u=typeof s.stringify=="function"&&!N){(S=function(){return 1}).toJSON=S;try{u=s.stringify(0)==="0"&&s.stringify(new Number)==="0"&&s.stringify(new String)=='""'&&s.stringify(e)===r&&s.stringify(r)===r&&s.stringify()===r&&s.stringify(S)==="1"&&s.stringify([S])=="[1]"&&s.stringify([r])=="[null]"&&s.stringify(null)=="null"&&s.stringify([r,e,null])=="[null,null,null]"&&s.stringify({result:[S,true,false,null,"\0\b\n\f\r	"]})==o&&s.stringify(null,S)==="1"&&s.stringify([1,2],null,1)=="[\n 1,\n 2\n]"&&s.stringify(new Date(-864e13))=='"-271821-04-20T00:00:00.000Z"'&&s.stringify(new Date(864e13))=='"+275760-09-13T00:00:00.000Z"'&&s.stringify(new Date(-621987552e5))=='"-000001-01-01T00:00:00.000Z"'&&s.stringify(new Date(-1))=='"1969-12-31T23:59:59.999Z"'}catch(C){u=!1}}if(typeof s.parse=="function")try{if(s.parse("0")===0&&!s.parse(!1)){S=s.parse(o);if(h=S.A.length==5&&S.A[0]==1){try{h=!s.parse('"	"')}catch(C){}if(h)try{h=s.parse("01")!=1}catch(C){}}}}catch(C){h=!1}S=o=null;if(!u||!h)(t={}.hasOwnProperty)||(t=function(n){var r={},i;return(r.__proto__=null,r.__proto__={toString:1},r).toString!=e?t=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(i=r.constructor,t=function(e){var t=(this.constructor||i).prototype;return e in this&&!(e in t&&this[e]===t[e])}),r=null,t.call(this,n)}),n=function(n,r){var i=0,s,o,u,a;(s=function(){this.valueOf=0}).prototype.valueOf=0,o=new s;for(u in o)t.call(o,u)&&i++;return s=o=null,i?i==2?a=function(n,r){var i={},s=e.call(n)=="[object Function]",o;for(o in n)(!s||o!="prototype")&&!t.call(i,o)&&(i[o]=1)&&t.call(n,o)&&r(o)}:a=function(n,r){var i=e.call(n)=="[object Function]",s,o;for(s in n)(!i||s!="prototype")&&t.call(n,s)&&!(o=s==="constructor")&&r(s);(o||t.call(n,s="constructor"))&&r(s)}:(o=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],a=function(n,r){var i=e.call(n)=="[object Function]",s,u;for(s in n)(!i||s!="prototype")&&t.call(n,s)&&r(s);for(u=o.length;s=o[--u];t.call(n,s)&&r(s));}),a(n,r)},u||(a={"\\":"\\\\",'"':'\\"',"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},f=function(e,t){return("000000"+(t||0)).slice(-e)},l=function(e){var t='"',n=0,r;for(;r=e.charAt(n);n++)t+='\\"\b\f\n\r	'.indexOf(r)>-1?a[r]:r<" "?"\\u00"+f(2,r.charCodeAt(0).toString(16)):r;return t+'"'},c=function(i,s,o,u,a,h,p){var d=s[i],v,m,g,y,b,w,E,S,T,C,k,L,A,O,M;if(typeof d=="object"&&d){v=e.call(d);if(v=="[object Date]"&&!t.call(d,"toJSON"))if(d>-1/0&&d<1/0){if(N){y=x(d/864e5);for(m=x(y/365.2425)+1970-1;N(m+1,0)<=y;m++);for(g=x((y-N(m,0))/30.42);N(m,g+1)<=y;g++);y=1+y-N(m,g),b=(d%864e5+864e5)%864e5,w=x(b/36e5)%24,E=x(b/6e4)%60,S=x(b/1e3)%60,T=b%1e3}else m=d.getUTCFullYear(),g=d.getUTCMonth(),y=d.getUTCDate(),w=d.getUTCHours(),E=d.getUTCMinutes(),S=d.getUTCSeconds(),T=d.getUTCMilliseconds();d=(m<=0||m>=1e4?(m<0?"-":"+")+f(6,m<0?-m:m):f(4,m))+"-"+f(2,g+1)+"-"+f(2,y)+"T"+f(2,w)+":"+f(2,E)+":"+f(2,S)+"."+f(3,T)+"Z"}else d=null;else typeof d.toJSON=="function"&&(v!="[object Number]"&&v!="[object String]"&&v!="[object Array]"||t.call(d,"toJSON"))&&(d=d.toJSON(i))}o&&(d=o.call(s,i,d));if(d===null)return"null";v=e.call(d);if(v=="[object Boolean]")return""+d;if(v=="[object Number]")return d>-1/0&&d<1/0?""+d:"null";if(v=="[object String]")return l(d);if(typeof d=="object"){for(A=p.length;A--;)if(p[A]===d)throw TypeError();p.push(d),C=[],O=h,h+=a;if(v=="[object Array]"){for(L=0,A=d.length;L<A;M||(M=!0),L++)k=c(L,d,o,u,a,h,p),C.push(k===r?"null":k);return M?a?"[\n"+h+C.join(",\n"+h)+"\n"+O+"]":"["+C.join(",")+"]":"[]"}return n(u||d,function(e){var t=c(e,d,o,u,a,h,p);t!==r&&C.push(l(e)+":"+(a?" ":"")+t),M||(M=!0)}),M?a?"{\n"+h+C.join(",\n"+h)+"\n"+O+"}":"{"+C.join(",")+"}":"{}"}},s.stringify=function(t,n,r){var i,s,o,u,a,f;if(typeof n=="function"||typeof n=="object"&&n)if(e.call(n)=="[object Function]")s=n;else if(e.call(n)=="[object Array]"){o={};for(u=0,a=n.length;u<a;f=n[u++],(e.call(f)=="[object String]"||e.call(f)=="[object Number]")&&(o[f]=1));}if(r)if(e.call(r)=="[object Number]"){if((r-=r%1)>0)for(i="",r>10&&(r=10);i.length<r;i+=" ");}else e.call(r)=="[object String]"&&(i=r.length<=10?r:r.slice(0,10));return c("",(f={},f[""]=t,f),s,o,i,"",[])}),h||(p=String.fromCharCode,d={"\\":"\\",'"':'"',"/":"/",b:"\b",t:"	",n:"\n",f:"\f",r:"\r"},v=function(){throw w=E=null,SyntaxError()},m=function(){var e=E,t=e.length,n,r,i,s,o;while(w<t){n=e.charAt(w);if("	\r\n ".indexOf(n)>-1)w++;else{if("{}[]:,".indexOf(n)>-1)return w++,n;if(n=='"'){for(r="@",w++;w<t;){n=e.charAt(w);if(n<" ")v();else if(n=="\\"){n=e.charAt(++w);if('\\"/btnfr'.indexOf(n)>-1)r+=d[n],w++;else if(n=="u"){i=++w;for(s=w+4;w<s;w++)n=e.charAt(w),n>="0"&&n<="9"||n>="a"&&n<="f"||n>="A"&&n<="F"||v();r+=p("0x"+e.slice(i,w))}else v()}else{if(n=='"')break;r+=n,w++}}if(e.charAt(w)=='"')return w++,r;v()}else{i=w,n=="-"&&(o=!0,n=e.charAt(++w));if(n>="0"&&n<="9"){n=="0"&&(n=e.charAt(w+1),n>="0"&&n<="9")&&v(),o=!1;for(;w<t&&(n=e.charAt(w),n>="0"&&n<="9");w++);if(e.charAt(w)=="."){s=++w;for(;s<t&&(n=e.charAt(s),n>="0"&&n<="9");s++);s==w&&v(),w=s}n=e.charAt(w);if(n=="e"||n=="E"){n=e.charAt(++w),(n=="+"||n=="-")&&w++;for(s=w;s<t&&(n=e.charAt(s),n>="0"&&n<="9");s++);s==w&&v(),w=s}return+e.slice(i,w)}o&&v();if(e.slice(w,w+4)=="true")return w+=4,!0;if(e.slice(w,w+5)=="false")return w+=5,!1;if(e.slice(w,w+4)=="null")return w+=4,null;v()}}}return"$"},g=function(e){var t,n,r;e=="$"&&v();if(typeof e=="string"){if(e.charAt(0)=="@")return e.slice(1);if(e=="["){t=[];for(;;n||(n=!0)){e=m();if(e=="]")break;n&&(e==","?(e=m(),e=="]"&&v()):v()),e==","&&v(),t.push(g(e))}return t}if(e=="{"){t={};for(;;n||(n=!0)){e=m();if(e=="}")break;n&&(e==","?(e=m(),e=="}"&&v()):v()),(e==","||typeof e!="string"||e.charAt(0)!="@"||m()!=":")&&v(),t[e.slice(1)]=g(m())}return t}v()}return e},b=function(e,t,n){var i=y(e,t,n);i===r?delete e[t]:e[t]=i},y=function(t,r,i){var s=t[r],o;if(typeof s=="object"&&s)if(e.call(s)=="[object Array]")for(o=s.length;o--;)b(s,o,i);else n(s,function(e){b(s,e,i)});return i.call(t,r,s)},s.parse=function(t,n){w=0,E=t;var r=g(m());return m()!="$"&&v(),w=E=null,n&&e.call(n)=="[object Function]"?y((S={},S[""]=r,S),"",n):r})}).call(this)}),a("ES5",["ES5ArrayPrototype","ES5FunctionPrototype","ES5StringPrototype","ES5Array","ES5Object","ES5Date","JSON3"],function(t,n,r,i,s,o){function x(e,t,n){var r=d.call(arguments,3),i=n?/\s(.*)\]/.exec(v.call(e).toLowerCase())[1]:e,s=m[i+"."+t]||e[t];if(typeof s=="function")return s.apply(e,r)}var u=n("ES5ArrayPrototype"),a=n("ES5FunctionPrototype"),f=n("ES5StringPrototype"),l=n("ES5Array"),c=n("ES5Object"),h=n("ES5Date"),p=n("JSON3"),d=Array.prototype.slice,v=Object.prototype.toString,m={"JSON.stringify":p.stringify,"JSON.parse":p.parse},g={array:u,"function":a,string:f,Object:c,Array:l,Date:h};for(var y in g){if(!g.hasOwnProperty(y))continue;var b=g[y],w=y===y.toLowerCase()?e[y.replace(/^\w/,function(e){return e.toUpperCase()})].prototype:e[y];for(var E in b){if(!b.hasOwnProperty(E))continue;var S=w[E];m[y+"."+E]=S&&/\{\s+\[native code\]\s\}/.test(S)?S:b[E]}}s.exports=x}),f=u("ES5"),f.apply(null,arguments)};a("sdk.RuntimeConfig",[],{locale:"en_US",rtl:!1}),a("UrlMapConfig",[],{www:"www.facebook.com",m:"m.facebook.com",connect:"connect.facebook.net",api_https:"api.facebook.com",api_read_https:"api-read.facebook.com",graph_https:"graph.facebook.com",fbcdn_http:"static.ak.fbcdn.net",fbcdn_https:"fbstatic-a.akamaihd.net",cdn_http:"static.ak.facebook.com",cdn_https:"s-static.ak.facebook.com"}),a("XDConfig",[],{XdUrl:"connect/xd_arbiter.php?version=18",Flash:{path:"https://connect.facebook.net/rsrc.php/v1/ys/r/WON-TVLCpDP.swf"},useCdn:!0}),a("SDKConfig",[],{bustCache:!0,tagCountLogRate:.01,errorHandling:{rate:4},usePluginPipe:!0,api:{mode:"warn",whitelist:["Canvas","Canvas.Prefetcher","Canvas.Prefetcher.addStaticResource","Canvas.Prefetcher.setCollectionMode","Canvas.getPageInfo","Canvas.hideFlashElement","Canvas.scrollTo","Canvas.setAutoGrow","Canvas.setDoneLoading","Canvas.setSize","Canvas.setUrlHandler","Canvas.showFlashElement","Canvas.startTimer","Canvas.stopTimer","Data","Data.process","Data.query","Data.query:wait","Data.waitOn","Data.waitOn:wait","Event","Event.subscribe","Event.unsubscribe","Music.flashCallback","Music.init","Music.send","Payment","Payment.init","Payment.setSize","ThirdPartyProvider","ThirdPartyProvider.init","ThirdPartyProvider.sendData","UA","UA.nativeApp","XFBML","XFBML.RecommendationsBar","XFBML.RecommendationsBar.markRead","XFBML.parse","addFriend","api","getAccessToken","getAuthResponse","getLoginStatus","getUserID","init","login","logout","publish","share","ui","ui:subscribe"]},initSitevars:{enableMobileComments:1,iframePermissions:{read_stream:!1,manage_mailbox:!1,manage_friendlists:!1,read_mailbox:!1,publish_checkins:!0,status_update:!0,photo_upload:!0,video_upload:!0,sms:!1,create_event:!0,rsvp_event:!0,offline_access:!0,email:!0,xmpp_login:!1,create_note:!0,share_item:!0,export_stream:!1,publish_stream:!0,publish_likes:!0,ads_management:!1,contact_email:!0,access_private_data:!1,read_insights:!1,read_requests:!1,read_friendlists:!0,manage_pages:!1,physical_login:!1,manage_groups:!1,read_deals:!1}}}),a("CssConfig",[],{rules:'.fb_hidden{position:absolute;top:-10000px;z-index:10001}\n.fb_invisible{display:none}\n.fb_reset{background:none;border-spacing:0;border:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}\n.fb_link img{border:none}\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}\n.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}\n.fb_dialog_content{background:#fff;color:#333}\n.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yA/x/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/y6/x/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px;top:8px\\9;right:7px\\9}\n.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}\n.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}\n.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yA/x/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/y6/x/s816eWC-2sl.gif)}\n.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yA/x/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/y6/x/s816eWC-2sl.gif)}\n.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}\n.fb_dialog_top_left,\n.fb_dialog_top_right,\n.fb_dialog_bottom_left,\n.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}\n/* @noflip */\n.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yR/x/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}\n/* @noflip */\n.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yR/x/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}\n/* @noflip */\n.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yR/x/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}\n/* @noflip */\n.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yR/x/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}\n.fb_dialog_vert_left,\n.fb_dialog_vert_right,\n.fb_dialog_horiz_top,\n.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}\n.fb_dialog_vert_left,\n.fb_dialog_vert_right{width:10px;height:100%}\n.fb_dialog_vert_left{margin-left:-10px}\n.fb_dialog_vert_right{right:0;margin-right:-10px}\n.fb_dialog_horiz_top,\n.fb_dialog_horiz_bottom{width:100%;height:10px}\n.fb_dialog_horiz_top{margin-top:-10px}\n.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}\n.fb_dialog_iframe{line-height:0}\n.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}\n.fb_dialog_content .dialog_title > span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yD/x/Cou7n-nqK52.gif)\nno-repeat 5px 50%;float:left;padding:5px 0 7px 26px}\nbody.fb_hidden{-webkit-transform:none;height:100%;margin:0;left:-10000px;overflow:visible;position:absolute;top:-10000px;width:100%\n}\n.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yc/x/3rhSv5V8j3o.gif)\nwhite no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}\n.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}\n#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}\n#fb-root #fb_dialog_ipad_overlay.hidden{display:none}\n.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}\n.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0 0, 0 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}\n.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%\n}\n.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px\n}\n.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px\n}\n.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0 0, 0 100%, from(#4966A6),\ncolor-stop(0.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset,\nrgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}\n.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}\n.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}\n.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yJ/x/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}\n.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}\n#fb_dialog_loader_close{float:left}\n.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}\n.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}\n.fb_iframe_widget{position:relative;display:-moz-inline-block;display:inline-block}\n.fb_iframe_widget iframe{position:absolute}\n.fb_iframe_widget_lift{z-index:1}\n.fb_iframe_widget span{position:relative;display:inline-block;vertical-align:text-bottom;text-align:justify}\n.fb_hide_iframes iframe{position:relative;left:-10000px}\n.fb_iframe_widget_loader{position:relative;display:inline-block}\n.fb_iframe_widget_fluid{display:inline}\n.fb_iframe_widget_fluid span{width:100%}\n.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}\n.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yJ/x/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}\n.fb_button_simple,\n.fb_button_simple_rtl{background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yH/x/eIpbnVKI9lR.png);background-repeat:no-repeat;cursor:pointer;outline:none;text-decoration:none}\n.fb_button_simple_rtl{background-position:right 0}\n.fb_button_simple .fb_button_text{margin:0 0 0 20px;padding-bottom:1px}\n.fb_button_simple_rtl .fb_button_text{margin:0 10px 0 0}\na.fb_button_simple:hover .fb_button_text,\na.fb_button_simple_rtl:hover .fb_button_text,\n.fb_button_simple:hover .fb_button_text,\n.fb_button_simple_rtl:hover .fb_button_text{text-decoration:underline}\n.fb_button,\n.fb_button_rtl{background:#29447e url(http://static.ak.fbcdn.net/rsrc.php/v2/yl/x/FGFbc80dUKj.png);background-repeat:no-repeat;cursor:pointer;display:inline-block;padding:0 0 0 1px;text-decoration:none;outline:none}\n.fb_button .fb_button_text,\n.fb_button_rtl .fb_button_text{background:#5f78ab url(http://static.ak.fbcdn.net/rsrc.php/v2/yl/x/FGFbc80dUKj.png);border-top:solid 1px #879ac0;border-bottom:solid 1px #1a356e;color:#fff;display:block;font-family:"lucida grande",tahoma,verdana,arial,sans-serif;font-weight:bold;padding:2px 6px 3px 6px;margin:1px 1px 0 21px;text-shadow:none}\na.fb_button,\na.fb_button_rtl,\n.fb_button,\n.fb_button_rtl{text-decoration:none}\na.fb_button:active .fb_button_text,\na.fb_button_rtl:active .fb_button_text,\n.fb_button:active .fb_button_text,\n.fb_button_rtl:active .fb_button_text{border-bottom:solid 1px #29447e;border-top:solid 1px #45619d;background:#4f6aa3;text-shadow:none}\n.fb_button_xlarge,\n.fb_button_xlarge_rtl{background-position:left -60px;font-size:24px;line-height:30px}\n.fb_button_xlarge .fb_button_text{padding:3px 8px 3px 12px;margin-left:38px}\na.fb_button_xlarge:active{background-position:left -99px}\n.fb_button_xlarge_rtl{background-position:right -268px}\n.fb_button_xlarge_rtl .fb_button_text{padding:3px 8px 3px 12px;margin-right:39px}\na.fb_button_xlarge_rtl:active{background-position:right -307px}\n.fb_button_large,\n.fb_button_large_rtl{background-position:left -138px;font-size:13px;line-height:16px}\n.fb_button_large .fb_button_text{margin-left:24px;padding:2px 6px 4px 6px}\na.fb_button_large:active{background-position:left -163px}\n.fb_button_large_rtl{background-position:right -346px}\n.fb_button_large_rtl .fb_button_text{margin-right:25px}\na.fb_button_large_rtl:active{background-position:right -371px}\n.fb_button_medium,\n.fb_button_medium_rtl{background-position:left -188px;font-size:11px;line-height:14px}\na.fb_button_medium:active{background-position:left -210px}\n.fb_button_medium_rtl{background-position:right -396px}\n.fb_button_text_rtl,\n.fb_button_medium_rtl .fb_button_text{padding:2px 6px 3px 6px;margin-right:22px}\na.fb_button_medium_rtl:active{background-position:right -418px}\n.fb_button_small,\n.fb_button_small_rtl{background-position:left -232px;font-size:10px;line-height:10px}\n.fb_button_small .fb_button_text{padding:2px 6px 3px;margin-left:17px}\na.fb_button_small:active,\n.fb_button_small:active{background-position:left -250px}\n.fb_button_small_rtl{background-position:right -440px}\n.fb_button_small_rtl .fb_button_text{padding:2px 6px;margin-right:18px}\na.fb_button_small_rtl:active{background-position:right -458px}\n.fb_share_count_wrapper{position:relative;float:left}\n.fb_share_count{background:#b0b9ec none repeat scroll 0 0;color:#333;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;text-align:center}\n.fb_share_count_inner{background:#e8ebf2;display:block}\n.fb_share_count_right{margin-left:-1px;display:inline-block}\n.fb_share_count_right .fb_share_count_inner{border-top:solid 1px #e8ebf2;border-bottom:solid 1px #b0b9ec;margin:1px 1px 0 1px;font-size:10px;line-height:10px;padding:2px 6px 3px;font-weight:bold}\n.fb_share_count_top{display:block;letter-spacing:-1px;line-height:34px;margin-bottom:7px;font-size:22px;border:solid 1px #b0b9ec}\n.fb_share_count_nub_top{border:none;display:block;position:absolute;left:7px;top:35px;margin:0;padding:0;width:6px;height:7px;background-repeat:no-repeat;background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yP/x/bSOHtKbCGYI.png)}\n.fb_share_count_nub_right{border:none;display:inline-block;padding:0;width:5px;height:10px;background-repeat:no-repeat;background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/x/i_oIVTKMYsL.png);vertical-align:top;background-position:right 5px;z-index:10;left:2px;margin:0 2px 0 0;position:relative}\n.fb_share_no_count{display:none}\n.fb_share_size_Small .fb_share_count_right .fb_share_count_inner{font-size:10px}\n.fb_share_size_Medium .fb_share_count_right .fb_share_count_inner{font-size:11px;padding:2px 6px 3px;letter-spacing:-1px;line-height:14px}\n.fb_share_size_Large .fb_share_count_right .fb_share_count_inner{font-size:13px;line-height:16px;padding:2px 6px 4px;font-weight:normal;letter-spacing:-1px}\n.fb_share_count_hidden .fb_share_count_nub_top,\n.fb_share_count_hidden .fb_share_count_top,\n.fb_share_count_hidden .fb_share_count_nub_right,\n.fb_share_count_hidden .fb_share_count_right{visibility:hidden}\n.fb_connect_bar_container div,\n.fb_connect_bar_container span,\n.fb_connect_bar_container a,\n.fb_connect_bar_container img,\n.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}\n.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}\n.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode=="CSS1Compat"? document.documentElement.scrollTop+"px":body.scrollTop+"px")}\n.fb_connect_bar{position:relative;margin:auto;height:100%;width:100%;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:"lucida grande", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}\n.fb_connect_bar a:hover{color:#fff}\n.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}\n.fb_connect_bar div a,\n.fb_connect_bar span,\n.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}\n.fb_connect_bar .fb_buttons{float:right;margin-top:7px}\n.fb_edge_widget_with_comment{position:relative;*z-index:1000}\n.fb_edge_widget_with_comment span.fb_edge_comment_widget{position:absolute}\n.fb_edge_widget_with_comment span.fb_send_button_form_widget{z-index:1}\n.fb_edge_widget_with_comment span.fb_send_button_form_widget .FB_Loader{left:0;top:1px;margin-top:6px;margin-left:0;background-position:50% 50%;background-color:#fff;height:150px;width:394px;border:1px #666 solid;border-bottom:2px solid #283e6c;z-index:1}\n.fb_edge_widget_with_comment span.fb_send_button_form_widget.dark .FB_Loader{background-color:#000;border-bottom:2px solid #ccc}\n.fb_edge_widget_with_comment span.fb_send_button_form_widget.siderender\n.FB_Loader{margin-top:0}\n.fbpluginrecommendationsbarleft,\n.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}\n/* @noflip */\n.fbpluginrecommendationsbarleft{left:10px}\n/* @noflip */\n.fbpluginrecommendationsbarright{right:10px}',components:["fb.css.base","fb.css.dialog","fb.css.iframewidget","fb.css.button","fb.css.sharebutton","fb.css.connectbarwidget","fb.css.edgecommentwidget","fb.css.sendbuttonformwidget","fb.css.plugin.recommendationsbar"]}),a("CanvasPrefetcherConfig",[],{blacklist:[0x83d70a64a992],sampleRate:500}),a("PluginPipeConfig",[],{threshold:0,enabledApps:{0xbec51e4718e7:1,0xaa568c1d5c06:1}}),a("ConnectBarConfig",[],{imgs:{buttonUrl:"rsrc.php/v2/yY/r/h_Y6u1wrZPW.png",missingProfileUrl:"rsrc.php/v2/yo/r/UlIqmHJn-SK.gif"}}),a("ProfilePicConfig",[],{defPicMap:{pic:"rsrc.php/v1/yh/r/C5yt7Cqf3zU.jpg",pic_big:"rsrc.php/v2/yL/r/HsTZSDw4avx.gif",pic_big_with_logo:"rsrc.php/v2/y5/r/SRDCaeCL7hM.gif",pic_small:"rsrc.php/v1/yi/r/odA9sNLrE86.jpg",pic_small_with_logo:"rsrc.php/v2/yD/r/k1xiRXKnlGd.gif",pic_square:"rsrc.php/v2/yo/r/UlIqmHJn-SK.gif",pic_square_with_logo:"rsrc.php/v2/yX/r/9dYJBPDHXwZ.gif",pic_with_logo:"rsrc.php/v2/yu/r/fPPR9f2FJ3t.gif"}}),a("ApiClientConfig",[],{FlashRequest:{swfUrl:"https://connect.facebook.net/rsrc.php/v1/y5/r/SrnvQJBTxo-.swf"}}),a("QueryString",[],function(e,t,n,r,i,s){function o(e){var t=[];return f(f("Object","keys",!1,e),"forEach",!0,function(n){var r=e[n];if(typeof r=="undefined")return;if(r===null){t.push(n);return}t.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}),t.join("&")}function u(e,t){var n={};if(e==="")return n;var r=e.split("&");for(var i=0;i<r.length;i++){var s=r[i].split("=",2),o=decodeURIComponent(s[0]);if(t&&n.hasOwnProperty(o))throw new URIError("Duplicate key: "+o);n[o]=s.length===2?decodeURIComponent(s[1]):null}return n}function a(e,t){return e+(~f(e,"indexOf",!0,"?")?"&":"?")+(typeof t=="string"?t:l.encode(t))}var l={encode:o,decode:u,appendToUrl:a};i.exports=l}),a("copyProperties",[],function(e,t,n,r,i,s){function o(e,t,n,r,i,s,o){e=e||{};var u=[t,n,r,i,s],a=0,f;while(u[a]){f=u[a++];for(var l in f)e[l]=f[l];f.hasOwnProperty&&f.hasOwnProperty("toString")&&typeof f.toString!="undefined"&&e.toString!==f.toString&&(e.toString=f.toString)}return e}i.exports=o}),a("ManagedError",[],function(e,t,n,r,i,s){function o(e,t){Error.prototype.constructor.call(this,e),this.message=e,this.innerError=t}o.prototype=new Error,o.prototype.constructor=o,i.exports=o}),a("AssertionError",["ManagedError"],function(e,t,n,r,i,s){function u(e){o.prototype.constructor.apply(this,arguments)}var o=t("ManagedError");u.prototype=new o,u.prototype.constructor=u,i.exports=u}),a("sprintf",[],function(e,t,n,r,i,s){function o(e,t){t=Array.prototype.slice.call(arguments,1);var n=0;return e.replace(/%s/g,function(e){return t[n++]})}i.exports=o}),a("Assert",["AssertionError","sprintf"],function(e,t,n,r,i,s){function a(e,t){if(!e)throw new o(t);return e}function l(e,t,n){var r;if(t===undefined)r="undefined";else if(t===null)r="null";else{var i=Object.prototype.toString.call(t);r=/\s(\w*)/.exec(i)[1].toLowerCase()}return a(f(e,"indexOf",!0,r)!==-1,n||u("Expression is of type %s, not %s",r,e)),t}function c(e,t,n){return a(t instanceof e,n||"Expression not instance of type"),t}function h(e,t){p["is"+e]=t,p["maybe"+e]=function(e,n){e!=null&&t(e,n)}}var o=t("AssertionError"),u=t("sprintf"),p={isInstanceOf:c,isTrue:a,isTruthy:function(e,t){return a(!!e,t)},type:l,define:function(e,t){e=e.substring(0,1).toUpperCase()+e.substring(1).toLowerCase(),h(e,function(e,n){a(t(e),n)})}};f(["Array","Boolean","Date","Function","Null","Number","Object","Regexp","String","Undefined"],"forEach",!0,function(e){h(e,f(l,"bind",!0,null,e.toLowerCase()))}),i.exports=p}),a("Type",["copyProperties","Assert"],function(e,t,n,r,i,s){function a(){var e=this.__mixins;if(e)for(var t=0;t<e.length;t++)e[t].apply(this,arguments)}function l(e,t){if(t instanceof e)return!0;if(t instanceof a)for(var n=0;n<t.__mixins.length;n++)if(t.__mixins[n]==e)return!0;return!1}function c(e,t){var n=e.prototype;f("Array","isArray",!1,t)||(t=[t]);for(var r=0;r<t.length;r++){var i=t[r];typeof i=="function"&&(n.__mixins.push(i),i=i.prototype),f(f("Object","keys",!1,i),"forEach",!0,function(e){n[e]=i[e]})}}function h(e,t,n){var r=t&&t.hasOwnProperty("constructor")?t.constructor:function(){this.parent.apply(this,arguments)};u.isFunction(r);if(e&&e.prototype instanceof a==0)throw new Error("parent type does not inherit from Type");e=e||a;var i=new Function;return i.prototype=e.prototype,r.prototype=new i,o(r.prototype,t),r.prototype.__mixins=e.prototype.__mixins?Array.prototype.slice.call(e.prototype.__mixins):[],n&&c(r,n),r.prototype.parent=function(){this.parent=e.prototype.parent,e.apply(this,arguments)},r.prototype.parentCall=function(t){return e.prototype[t].apply(this,Array.prototype.slice.call(arguments,1))},r.extend=function(e,t){return h(this,e,t)},r}var o=t("copyProperties"),u=t("Assert");o(a.prototype,{instanceOf:function(e){return l(e,this)}}),o(a,{extend:function(e,t){return typeof e=="function"?h.apply(null,arguments):h(null,e,t)},instanceOf:l}),i.exports=a}),a("ObservableMixin",[],function(e,t,n,i,s,o){function u(){this.__observableEvents={}}u.prototype={inform:function(e){var t=Array.prototype.slice.call(arguments,1),n=Array.prototype.slice.call(this.getSubscribers(e));for(var i=0;i<n.length;i++){if(n[i]===null)continue;try{n[i].apply(this,t)}catch(s){r(function(){throw s},0)}}return this},getSubscribers:function(e){return this.__observableEvents[e]||(this.__observableEvents[e]=[])},clearSubscribers:function(e){return e&&(this.__observableEvents[e]=[]),this},clearAllSubscribers:function(){return this.__observableEvents={},this},subscribe:function(e,t){var n=this.getSubscribers(e);return n.push(t),this},unsubscribe:function(e,t){var n=this.getSubscribers(e);for(var r=0;r<n.length;r++)if(n[r]===t){n.splice(r,1);break}return this},monitor:function(e,t){if(!t()){var n=f(function(r){t.apply(t,arguments)&&this.unsubscribe(e,n)},"bind",!0,this);this.subscribe(e,n)}return this}},s.exports=u}),a("sdk.Model",["Type","ObservableMixin"],function(e,t,n,r,i,s){var o=t("Type"),u=t("ObservableMixin"),a=o.extend({constructor:function(e){this.parent();var t={},n=this;f(f("Object","keys",!1,e),"forEach",!0,function(r){t[r]=e[r],n["set"+r]=function(e){return e===t[r]?this:(t[r]=e,n.inform(r+".change",e),n)},n["get"+r]=function(){return t[r]}})}},u);i.exports=a}),a("sdk.Runtime",["sdk.Model","copyProperties","sdk.RuntimeConfig"],function(t,n,r,i,s,o){var u=n("sdk.Model"),a=r("sdk.RuntimeConfig"),f=n("copyProperties"),l={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},c=new u({AccessToken:"",ClientID:"",Environment:l.UNKNOWN,Initialized:!1,Locale:a.locale,LoginStatus:undefined,Rtl:a.rtl,Scope:undefined,Secure:undefined,UseCookie:!1,UserID:""});f(c,{ENVIRONMENTS:l,isEnvironment:function(e){var t=this.getEnvironment();return(e|t)===t}}),function(){var t=/app_runner/.test(e.name)?l.PAGETAB:/iframe_canvas/.test(e.name)?l.CANVAS:l.UNKNOWN;(t|l.PAGETAB)===t&&(t|=l.CANVAS),c.setEnvironment(t)}(),s.exports=c}),a("sdk.Cookie",["QueryString","sdk.Runtime"],function(e,t,r,i,s,o){function l(e,t,r){e+=a.getClientID();var i=f&&f!==".";i&&(n.cookie=e+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;",n.cookie=e+"=; expires=Wed, 04 Feb 2004 08:00:00 GMT;"+"domain="+location.hostname+";");var s=(new Date(r)).toGMTString();n.cookie=e+"="+t+(t&&r===0?"":"; expires="+s)+"; path=/"+(i?"; domain="+f:"")}function c(e){e+=a.getClientID();var t=new RegExp("\\b"+e+"=([^;]*)\\b");return t.test(n.cookie)?RegExp.$1:null}var u=t("QueryString"),a=t("sdk.Runtime"),f=null,h={setDomain:function(e){f=e;var t=u.encode({base_domain:f&&f!=="."?f:""}),n=new Date;n.setFullYear(n.getFullYear()+1),l("fbm_",t,n.getTime())},getDomain:function(){return f},loadMeta:function(){var e=c("fbm_");if(e){var t=u.decode(e);return f||(f=t.base_domain),t}},loadSignedRequest:function(){return c("fbsr_")},setSignedRequestCookie:function(e,t){if(!e)throw new Error("Value passed to Cookie.setSignedRequestCookie was empty.");l("fbsr_",e,t)},clearSignedRequestCookie:function(){l("fbsr_","",0)},setRaw:l};s.exports=h}),a("guid",[],function(e,t,n,r,i,s){function o(){return"f"+(Math.random()*(1<<30)).toString(16).replace(".","")}i.exports=o}),a("hasNamePropertyBug",["guid"],function(e,t,r,i,s,o){function f(){var e=n.createElement("form"),t=e.appendChild(n.createElement("input"));return t.name=u(),a=t!==e.elements[t.name],e=t=null,a}function l(){return typeof a=="undefined"?f():a}var u=t("guid"),a;s.exports=l}),a("wrapFunction",[],function(e,t,n,r,i,s){function u(e,t,n){return t=t||"default",function(){var r=t in o?o[t](e,n):e;return r.apply(this,arguments)}}var o={};u.setWrapper=function(e,t){t=t||"default",o[t]=e},i.exports=u}),a("DOMEventListener",["wrapFunction"],function(t,n,r,i,s,o){var u=n("wrapFunction"),a,f;e.addEventListener?(a=function(e,t,n){n.wrapper=u(n,"entry",e+":"+t),e.addEventListener(t,n.wrapper,!1)},f=function(e,t,n){e.removeEventListener(t,n.wrapper,!1)}):e.attachEvent&&(a=function(e,t,n){n.wrapper=u(n,"entry",e+":"+t),e.attachEvent("on"+t,n.wrapper)},f=function(e,t,n){e.detachEvent("on"+t,n.wrapper)});var l={add:function(e,t,n){return a(e,t,n),{remove:function(){f(e,t,n),e=null}}},remove:f};s.exports=l}),a("sdk.createIframe",["copyProperties","guid","hasNamePropertyBug","DOMEventListener"],function(e,t,r,i,s,o){function c(e){e=u({},e);var t,r=e.name||a(),i=e.root,s=e.style||{border:"none"},o=e.url,c=e.onload;f()?t=n.createElement('<iframe name="'+r+'"/>'):(t=n.createElement("iframe"),t.name=r),delete e.style,delete e.name,delete e.url,delete e.root,delete e.onload;var p=u({frameBorder:0,allowtransparency:!0,scrolling:"no"},e);p.width&&(t.width=p.width+"px"),p.height&&(t.height=p.height+"px"),delete p.height,delete p.width,u(t,p),u(t.style,s),t.src="javascript:false",i.appendChild(t);if(c)var d=l.add(t,"load",function(){d.remove(),c()});return t.src=o,t}var u=t("copyProperties"),a=t("guid"),f=t("hasNamePropertyBug"),l=t("DOMEventListener");s.exports=c}),a("DOMWrapper",[],function(e,r,i,s,o,u){var a,f,l={setRoot:function(e){a=e},getRoot:function(){return a||n.body},setWindow:function(e){f=e},getWindow:function(){return f||t}};o.exports=l}),a("UserAgent",[],function(e,t,r,i,s,o){function S(){if(u)return;u=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))/.exec(e),r=/(Mac OS X)|(Windows)|(Linux)/.exec(e);y=/\b(iPhone|iP[ao]d)/.exec(e),b=/\b(iP[ao]d)/.exec(e),m=/Android/i.exec(e),w=/FBAN\/\w+;/i.exec(e),E=/Mobile/i.exec(e),g=!!/Win64/.exec(e),t?(a=t[1]?parseFloat(t[1]):NaN,a&&n.documentMode&&(a=n.documentMode),f=t[2]?parseFloat(t[2]):NaN,l=t[3]?parseFloat(t[3]):NaN,c=t[4]?parseFloat(t[4]):NaN,c?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),h=t&&t[1]?parseFloat(t[1]):NaN):h=NaN):a=f=l=h=c=NaN;if(r){if(r[1]){var i=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);p=i?parseFloat(i[1].replace("_",".")):!0}else p=!1;d=!!r[2],v=!!r[3]}else p=d=v=!1}var u=!1,a,f,l,c,h,p,d,v,m,g,y,b,w,E,x={ie:function(){return S()||a},ie64:function(){return x.ie()&&g},firefox:function(){return S()||f},opera:function(){return S()||l},webkit:function(){return S()||c},safari:function(){return x.webkit()},chrome:function(){return S()||h},windows:function(){return S()||d},osx:function(){return S()||p},linux:function(){return S()||v},iphone:function(){return S()||y},mobile:function(){return S()||y||b||m||E},nativeApp:function(){return S()||w},android:function(){return S()||m},ipad:function(){return S()||b}};s.exports=x}),a("sdk.getContextType",["UserAgent","sdk.Runtime"],function(e,t,n,r,i,s){function a(){return o.nativeApp()?3:o.mobile()?2:u.isEnvironment(u.ENVIRONMENTS.CANVAS)?5:1}var o=t("UserAgent"),u=t("sdk.Runtime");i.exports=a}),a("Log",["sprintf"],function(t,n,r,i,s,o){function l(t,n){var r=Array.prototype.slice.call(arguments,2),i=u.apply(null,r),s=e.console;s&&c.level>=t&&s[n in s?n:"log"](i)}var u=n("sprintf"),a={DEBUG:3,INFO:2,WARNING:1,ERROR:0},c={level:-1,Level:a,debug:f(l,"bind",!0,null,a.DEBUG,"debug"),info:f(l,"bind",!0,null,a.INFO,"debug"),warn:f(l,"bind",!0,null,a.WARNING,"debug"),error:f(l,"bind",!0,null,a.ERROR,"debug")};s.exports=c}),a("Base64",[],function(e,t,n,r,i,s){function u(e){return e=e.charCodeAt(0)<<16|e.charCodeAt(1)<<8|e.charCodeAt(2),String.fromCharCode(o.charCodeAt(e>>>18),o.charCodeAt(e>>>12&63),o.charCodeAt(e>>>6&63),o.charCodeAt(e&63))}function l(e){return e=a.charCodeAt(e.charCodeAt(0)-43)<<18|a.charCodeAt(e.charCodeAt(1)-43)<<12|a.charCodeAt(e.charCodeAt(2)-43)<<6|a.charCodeAt(e.charCodeAt(3)-43),String.fromCharCode(e>>>16,e>>>8&255,e&255)}var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=">___?456789:;<=_______\0\b	\n\f\r______ !\"#$%&'()*+,-./0123",c={encode:function(e){e=unescape(encodeURI(e));var t=(e.length+2)%3;return e=(e+"\0\0".slice(t)).replace(/[\s\S]{3}/g,u),e.slice(0,e.length+t-2)+"==".slice(t)},decode:function(e){e=e.replace(/[^A-Za-z0-9+\/]/g,"");var t=e.length+3&3;e=(e+"AAA".slice(t)).replace(/..../g,l),e=e.slice(0,e.length+t-3);try{return decodeURIComponent(escape(e))}catch(n){throw new Error("Not valid UTF-8")}},encodeObject:function(e){return c.encode(f("JSON","stringify",!1,e))},decodeObject:function(e){return f("JSON","parse",!1,c.decode(e))},encodeNums:function(e){return String.fromCharCode.apply(String,f(e,"map",!0,function(e){return o.charCodeAt((e|-(e>63))&-(e>0)&63)}))}};i.exports=c}),a("sdk.SignedRequest",["Base64"],function(e,t,n,r,i,s){function u(e){if(!e)return null;var t=e.split(".",2)[1].replace(/\-/g,"+").replace(/\_/g,"/");return o.decodeObject(t)}var o=t("Base64"),a={parse:u};i.exports=a}),a("UrlMap",["UrlMapConfig"],function(e,t,n,r,i,s){var o=t("UrlMapConfig"),u={resolve:function(e,t){var n=typeof t=="undefined"?location.protocol.replace(":",""):t?"https":"http";if(e in o)return n+"://"+o[e];if(typeof t=="undefined"&&e+"_"+n in o)return n+"://"+o[e+"_"+n];if(t!==!0&&e+"_http"in o)return"http://"+o[e+"_http"];if(t!==!1&&e+"_https"in o)return"https://"+o[e+"_https"]}};i.exports=u}),a("URL",["Assert","copyProperties","QueryString","Log"],function(e,t,r,i,s,o){function m(e){u.isString(e,"The passed argument was of invalid type.");if(h.test(e))throw new URIError("The passed argument could not be parsed as a url.");if(this instanceof m==0)return new m(e);var t=e.replace(p,function(t){return l.warn('Escaping unescaped character \\x%s from "%s"',t.charCodeAt(0).toString(16),e),encodeURIComponent(t)}).match(c);if(!e||!t)throw new URIError("The passed argument could not be parsed as a url.");var n=!!location.hostname;this.setProtocol(t[4]||(n?location.protocol.replace(/:/,""):"")),this.setDomain(t[6]||location.hostname),this.setPort(t[8]||(n&&!t[6]?location.port:"")),this.setPath(t[9]||""),this.setSearch(t[11]||""),this.setFragment(t[13]||""),this._path.substring(0,1)!="/"&&(this._path="/"+this._path);if(this._domain&&!d.test(decodeURIComponent(this._domain.toLowerCase())))throw l.error("Invalid characters found in domain name: %s",this._domain),new URIError("Domain contained invalid characters.")}var u=t("Assert"),a=t("copyProperties"),f=t("QueryString"),l=t("Log"),c=new RegExp("((((\\w+):)?//)(.*?@)?([^~/?#:]+)(:(\\d+))?)?([^\\?$#]+)?(\\?([^$#]+))?(#([^$]+))?"),h=/[\0\\]/,p=/[^\w\-\.,;\/?:@=&%#$~+!*'\[\]()]+/g,d=/^[a-z0-9.][a-z0-9\-\.]+[a-z0-9.]$/,v=/\.facebook\.com$/;a(m.prototype,{constructor:m,getProtocol:function(){return this._protocol},setProtocol:function(e){return this._protocol=e,this},getDomain:function(){return this._domain},setDomain:function(e){return this._domain=e,this},getPort:function(){return this._port},setPort:function(e){return this._port=e,this},getPath:function(){return this._path},setPath:function(e){return this._path=e,this},getSearch:function(){return this._search},setSearch:function(e){return this._search=e,this},getFragment:function(){return this._fragment},setFragment:function(e){return this._fragment=e,this},getParsedSearch:function(){return f.decode(this._search)},getParsedFragment:function(){return f.decode(this._fragment)},isFacebookURL:function(){return v.test(this._domain)},toString:function(){return(this._protocol?this._protocol+":":"")+(this._domain?"//"+this._domain:"")+(this._port?":"+this._port:"")+this._path+(this._search?"?"+this._search:"")+(this._fragment?"#"+this._fragment:"")},valueOf:function(){return this.toString()}}),a(m,{getCurrent:function(){return new m(location.href)},getReferrer:function(){return n.referrer?new m(n.referrer):null}}),s.exports=m}),a("sdk.domReady",[],function(t,i,s,o,u,a){function c(){if(!f)return;var e;while(e=f.shift())e();f=null}function h(e){if(f){f.push(e);return}e()}var f,l="readyState"in n?/loaded|complete/.test(n.readyState):!!n.body;if(!l){f=[],n.addEventListener?(n.addEventListener("DOMContentLoaded",c,!1),e.addEventListener("load",c,!1)):n.attachEvent&&(n.attachEvent("onreadystatechange",c),e.attachEvent("onload",c));if(n.documentElement.doScroll&&e==e.top){var p=function(){try{n.documentElement.doScroll("left")}catch(e){r(p,0);return}c()};p()}}u.exports=h},3),a("sdk.Content",["sdk.domReady","Log","UserAgent"],function(e,t,r,i,s,o){var u=t("sdk.domReady"),a=t("Log"),f=t("UserAgent"),l,c,h={append:function(e,t){t||(l?t=l:(l=t=n.getElementById("fb-root"),t||(a.warn('The "fb-root" div has not been created, auto-creating'),l=t=n.createElement("div"),t.id="fb-root",f.ie()||!n.body?u(function(){n.body.appendChild(t)}):n.body.appendChild(t)),t.className+=" fb_reset"));if(typeof e=="string"){var r=n.createElement("div");return t.appendChild(r).innerHTML=e,r}return t.appendChild(e)},appendHidden:function(e){if(!t){var t=n.createElement("div"),r=t.style;r.position="absolute",r.top="-10000px",r.width=r.height=0,t=h.append(t)}return h.append(e,t)},submitToTarget:function(e,t){var r=n.createElement("form");r.action=e.url,r.target=e.target,r.method=t?"GET":"POST",h.appendHidden(r);for(var i in e.params)if(e.params.hasOwnProperty(i)){var s=e.params[i];if(s!==null&&s!==undefined){var o=n.createElement("input");o.name=i,o.value=s,r.appendChild(o)}}r.submit(),r.parentNode.removeChild(r)}};s.exports=h}),a("sdk.Event",[],function(e,t,n,r,i,s){var o={subscribers:function(){return this._subscribersMap||(this._subscribersMap={}),this._subscribersMap},subscribe:function(e,t){var n=this.subscribers();n[e]?n[e].push(t):n[e]=[t]},unsubscribe:function(e,t){var n=this.subscribers()[e];n&&f(n,"forEach",!0,function(e,r){e==t&&(n[r]=null)})},monitor:function(e,t){if(!t()){var n=this,r=function(){t.apply(t,arguments)&&n.unsubscribe(e,r)};this.subscribe(e,r)}},clear:function(e){delete this.subscribers()[e]},fire:function(){var e=Array.prototype.slice.call(arguments),t=e.shift(),n=this.subscribers()[t];n&&f(n,"forEach",!0,function(t){t&&t.apply(this,e)})}};i.exports=o}),a("Queue",["copyProperties"],function(e,t,n,i,s,o){function l(e){this._opts=u({interval:0,processor:null},e),this._queue=[],this._stopped=!0}var u=t("copyProperties"),a={};u(l.prototype,{_dispatch:function(e){if(this._stopped||this._queue.length===0)return;if(!this._opts.processor)throw this._stopped=!0,new Error("No processor available");if(this._opts.interval)this._opts.processor.call(this,this._queue.shift()),this._timeout=r(f(this._dispatch,"bind",!0,this),this._opts.interval);else while(this._queue.length)this._opts.processor.call(this,this._queue.shift())},enqueue:function(e){return this._opts.processor&&!this._stopped?this._opts.processor.call(this,e):this._queue.push(e),this},start:function(e){return e&&(this._opts.processor=e),this._stopped=!1,this._dispatch(),this},dispatch:function(){this._dispatch(!0)},stop:function(e){return this._stopped=!0,e&&clearTimeout(this._timeout),this},merge:function(e,t){return this._queue[t?"unshift":"push"].apply(this._queue,e._queue),e._queue=[],this._dispatch(),this},getLength:function(){return this._queue.length}}),u(l,{get:function(e,t){var n;return e in a?n=a[e]:n=a[e]=new l(t),n},exists:function(e){return e in a},remove:function(e){return delete a[e]}}),s.exports=l}),a("resolveURI",[],function(t,r,i,s,o,u){function a(t){if(!t)return e.location.href;t=t.replace(/&/g,"&amp;").replace(/"/g,"&quot;");var r=n.createElement("div");return r.innerHTML='<a href="'+t+'"></a>',r.firstChild.href}o.exports=a}),a("resolveWindow",[],function(t,n,r,i,s,o){function u(t){var n=e,r=t.split(".");try{for(var i=0;i<r.length;i++){var s=r[i],o=/^frames\[['"]?([a-zA-Z0-9\-_]+)['"]?\]$/.exec(s);if(o)n=n.frames[o[1]];else{if(s!=="opener"&&s!=="parent"&&s!=="top")return null;n=n[s]}}}catch(u){return null}return n}s.exports=u}),a("JSONRPC",["copyProperties","Log"],function(e,t,n,i,s,o){function l(e){this._counter=0,this._callbacks={},this.remote={},this.local={},this._write=e}var u=t("copyProperties"),a=t("Log");u(l.prototype,{stub:function(e){this.remote[e]=f(function(){var t=Array.prototype.slice.call(arguments),n={jsonrpc:"2.0",method:e};typeof t[t.length-1]=="function"&&(n.id=++this._counter,this._callbacks[n.id]=t.pop()),n.params=t,this._write(f("JSON","stringify",!1,n),{method:e})},"bind",!0,this)},read:function(e,t){var n=f("JSON","parse",!1,e),i=n.id;if(!n.method){if(!this._callbacks[i]){a.warn("Could not find callback %s",i);return}var s=this._callbacks[i];delete this._callbacks[i],delete n.id,delete n.jsonrpc,s(n);return}var o=this,u=this.local[n.method],l;i?l=function(e,n){var s={jsonrpc:"2.0",id:i};s[e]=n,r(function(){o._write(f("JSON","stringify",!1,s),t)},0)}:l=function(){};if(!u){a.error('Method "%s" has not been defined',n.method),l("error",{code:-32601,message:"Method not found",data:n.method});return}n.params.push(f(l,"bind",!0,null,"result")),n.params.push(f(l,"bind",!0,null,"error"));try{var c=u.apply(t||null,n.params);typeof c!="undefined"&&l("result",c)}catch(p){a.error("Invokation of RPC method %s resulted in the error: %s",n.method,p.message),l("error",{code:-32603,message:"Internal error",data:p.message})}}}),s.exports=l}),a("sdk.RPC",["Assert","JSONRPC","Queue"],function(e,t,n,r,i,s){var o=t("Assert"),u=t("JSONRPC"),a=t("Queue"),l=new a,c=new u(function(e){l.enqueue(e)}),h={local:c.local,remote:c.remote,stub:f(c.stub,"bind",!0,c),setInQueue:function(e){o.isInstanceOf(a,e),e.start(function(e){c.read(e)})},getOutQueue:function(){return l}};i.exports=h}),a("emptyFunction",["copyProperties"],function(e,t,n,r,i,s){function u(e){return function(){return e}}function a(){}var o=t("copyProperties");o(a,{thatReturns:u,thatReturnsFalse:u(!1),thatReturnsTrue:u(!0),thatReturnsNull:u(null),thatReturnsThis:function(){return this},thatReturnsArgument:function(e){return e}}),i.exports=a}),a("Flash",["DOMWrapper","QueryString","UserAgent","copyProperties","guid"],function(t,n,r,i,s,o){function v(e){var t=d.getElementById(e);t&&t.parentNode.removeChild(t),delete h[e]}function m(){for(var e in h)h.hasOwnProperty(e)&&v(e)}function g(e){return e.replace(/\d+/g,function(e){return"000".substring(e.length)+e})}function y(t){p||(f.ie()>=9&&e.attachEvent("onunload",m),p=!0),h[t]=t}var u=n("DOMWrapper"),a=n("QueryString"),f=n("UserAgent"),l=n("copyProperties"),c=n("guid"),h={},p,d=u.getWindow().document,b={embed:function(e,t,n,r){var i=c();e=encodeURI(e),n=l({allowscriptaccess:"always",flashvars:r,movie:e},n||{}),typeof n.flashvars=="object"&&(n.flashvars=a.encode(n.flashvars));var s=[];for(var o in n)n.hasOwnProperty(o)&&n[o]&&s.push('<param name="'+encodeURI(o)+'" value="'+encodeURI(n[o])+'">');var u=d.createElement("div"),h="<object "+(f.ie()?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" ':'type="application/x-shockwave-flash"')+'data="'+e+'" '+'id="'+i+'">'+s.join("")+"</object>";u.innerHTML=h;var p=t.appendChild(u.firstChild);return y(i),p},remove:v,getVersion:function(){var e="Shockwave Flash",t="application/x-shockwave-flash",n="ShockwaveFlash.ShockwaveFlash",r;if(navigator.plugins&&typeof navigator.plugins[e]=="object"){var i=navigator.plugins[e].description;i&&navigator.mimeTypes&&navigator.mimeTypes[t]&&navigator.mimeTypes[t].enabledPlugin&&(r=i.match(/\d+/g))}if(!r)try{r=(new ActiveXObject(n)).GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),r=Array.prototype.slice.call(r,1)}catch(s){}return r},checkMinVersion:function(e){var t=b.getVersion();return t?g(t.join("."))>=g(e):!1},isAvailable:function(){return!!b.getVersion()}};s.exports=b}),a("XDM",["DOMEventListener","DOMWrapper","emptyFunction","Flash","guid","Log","UserAgent","wrapFunction"],function(e,t,i,s,o,u){function b(e){var t={},n=e.length,r=g.transports;while(n--)t[e[n]]=1;n=r.length;while(n--){var i=r[n],s=m[i];if(!t[i]&&s.isAvailable())return i}}var a=t("DOMEventListener"),f=t("DOMWrapper"),l=t("emptyFunction"),c=t("Flash"),h=t("guid"),p=t("Log"),d=t("UserAgent"),v=t("wrapFunction"),m={},g={transports:[]},y=f.getWindow(),w={register:function(e,t){p.debug("Registering %s as XDM provider",e),g.transports.push(e),m[e]=t},create:function(e){if(!e.whenReady&&!e.onMessage)throw p.error("An instance without whenReady or onMessage makes no sense"),new Error("An instance without whenReady or onMessage makes no sense");e.channel||(p.warn("Missing channel name, selecting at random"),e.channel=h()),e.whenReady||(e.whenReady=l),e.onMessage||(e.onMessage=l);var t=e.transport||b(e.blacklist||[]),n=m[t];if(n&&n.isAvailable())return p.debug("%s is available",t),n.init(e),t}};w.register("fragment",function(){function s(e){var i=n.createElement("iframe");i.src="javascript:false";var s=a.add(i,"load",function(){s.remove(),r(function(){i.parentNode.removeChild(i)},5e3)});t.appendChild(i),i.src=e}var e=!1,t,i=location.protocol+"//"+location.host;return{isAvailable:function(){return!0},init:function(n){p.debug("init fragment");var r={send:function(e,t,r,o){p.debug("sending to: %s (%s)",t+n.channelPath,o),s(t+n.channelPath+e+"&xd_rel=parent.parent&relation=parent.parent&xd_origin="+encodeURIComponent(i))}};if(e){n.whenReady(r);return}t=n.root,e=!0,n.whenReady(r)}}}()),w.register("flash",function(){var e=!1,t,n={},i=!1,s=15e3,o;return{isAvailable:function(){return c.checkMinVersion("8.0.24")},init:function(u){p.debug("init flash: "+u.channel);var a={send:function(e,n,r,i){p.debug("sending to: %s (%s)",n,i),t.postMessage(e,n,i)}};if(e){u.whenReady(a);return}var f=u.root.appendChild(y.document.createElement("div")),l=h();n[l]=v(function(){clearTimeout(o),p.info("xdm.swf called the callback"),delete n[l],l=h(),n[l]=v(function(e,t){e=decodeURIComponent(e),p.debug("received message %s from %s",e,t),u.onMessage(e,t)},"entry","xdm.swf:onMessage"),t.init(u.channel,"FB_XDM_CALLBACKS."+l),u.whenReady(a)},"entry","xdm.swf:load"),y.FB_XDM_CALLBACKS=n,t=c.embed(u.flashUrl,f,null,{protocol:location.protocol.replace(":",""),host:location.host,callback:"FB_XDM_CALLBACKS."+l,log:i}),o=r(function(){p.warn("The Flash component did not load within %s ms - verify that the container is not set to hidden or invisible using CSS as this will cause some browsers to not load the components",s)},s),e=!0}}}()),w.register("postmessage",function(){var e=!1;return{isAvailable:function(){return!!y.postMessage},init:function(t){p.debug("init postMessage: "+t.channel);var n="_FB_"+t.channel,i={send:function(e,t,n,i){if(y===n)throw p.error("Invalid windowref, equal to window (self)"),new Error;p.debug("sending to: %s (%s)",t,i);var s=function(){n.postMessage("_FB_"+i+e,t)};d.ie()==8?r(s,0):s()}};if(e){t.whenReady(i);return}a.add(y,"message",v(function(e){var r=e.data,i=e.origin||"native";if(typeof r!="string"){p.warn("Received message of type %s from %s, expected a string",typeof r,i);return}p.debug("received message %s from %s",r,i),r.substring(0,n.length)==n&&(r=r.substring(n.length)),t.onMessage(r,i)},"entry","onMessage")),t.whenReady(i),e=!0}}}()),o.exports=w}),a("sdk.XD",["sdk.Content","sdk.createIframe","sdk.Event","guid","Log","QueryString","Queue","resolveURI","resolveWindow","sdk.RPC","sdk.Runtime","UrlMap","URL","wrapFunction","XDM","XDConfig"],function(t,r,i,s,o,u){function j(e){p.info("Remote XD can talk to facebook.com (%s)",e),b.setEnvironment(e==="canvas"?b.ENVIRONMENTS.CANVAS:b.ENVIRONMENTS.PAGETAB)}function F(e,t){if(!t)throw p.error("No senderOrigin"),new Error;var n=/^https?/.exec(t)[0];switch(e.xd_action){case"proxy_ready":var r,i;n=="https"?(r=k,i=A):(r=C,i=L),e.registered&&(j(e.registered),N=r.merge(N)),p.info("Proxy ready, starting queue %s containing %s messages",n+"ProxyQueue",r.getLength()),r.start(function(e){D.send(typeof e=="string"?e:d.encode(e),t,i.contentWindow,M+"_"+n)});break;case"plugin_ready":p.info("Plugin %s ready, protocol: %s",e.name,n),H[e.name]={protocol:n};if(v.exists(e.name)){var s=v.get(e.name);p.debug("Enqueuing %s messages for %s in %s",s.getLength(),e.name,n+"ProxyQueue"),(n=="https"?k:C).merge(s)}}e.data&&I(e.data,t)}function I(e,t){if(t&&t!=="native"&&!E(t).isFacebookURL())return;if(typeof e=="string"){if(/^FB_RPC:/.test(e)){B.enqueue(e.substring(7));return}if(e.substring(0,1)=="{")try{e=f("JSON","parse",!1,e)}catch(n){p.warn("Failed to decode %s as JSON",e);return}else e=d.decode(e)}t||e.xd_sig==O&&(t=e.xd_origin);if(e.xd_action){F(e,t);return}e.access_token&&b.setSecure(/^https/.test(_));if(e.cb){var r=U._callbacks[e.cb];U._forever[e.cb]||delete U._callbacks[e.cb],r&&r(e)}}function q(e,t){if(e=="facebook")t.relation="parent.parent",N.enqueue(t);else{t.relation='parent.frames["'+e+'"]';var n=H[e];n?(p.debug("Enqueuing message for plugin %s in %s",e,n.protocol+"ProxyQueue"),(n.protocol=="https"?k:C).enqueue(t)):(p.debug("Buffering message for plugin %s",e),v.get(e).enqueue(t))}}function R(t,r){if(P)return;var i=t?/\/\/.*?(\/[^#]*)/.exec(t)[1]:location.pathname+location.search;i+=(~f(i,"indexOf",!0,"?")?"&":"?")+"fb_xd_fragment#xd_sig="+O+"&";var s=a.appendHidden(n.createElement("div")),o=T.create({root:s,channel:M,channelPath:"/"+x.XdUrl+"#",flashUrl:x.Flash.path,whenReady:function(e){D=e;var t={channel:M,origin:location.protocol+"//"+location.host,channel_path:i,transport:o,xd_name:r},n="/"+x.XdUrl+"#"+d.encode(t),u=x.useCdn?w.resolve("cdn",!1):"http://www.facebook.com",a=x.useCdn?w.resolve("cdn",!0):"https://www.facebook.com";b.getSecure()!==!0&&(L=l({url:u+n,name:"fb_xdm_frame_http",root:s,tabIndex:-1})),A=l({url:a+n,name:"fb_xdm_frame_https",root:s,tabIndex:-1})},onMessage:I});o==="fragment"&&(e.FB_XD_onMessage=S(I,"entry","XD:fragment")),P=!0}var a=r("sdk.Content"),l=r("sdk.createIframe"),c=r("sdk.Event"),h=r("guid"),p=r("Log"),d=r("QueryString"),v=r("Queue"),m=r("resolveURI"),g=r("resolveWindow"),y=r("sdk.RPC"),b=r("sdk.Runtime"),w=r("UrlMap"),E=r("URL"),S=r("wrapFunction"),x=i("XDConfig"),T=r("XDM"),N=new v,C=new v,k=new v,L,A,O=h(),M=h(),_=location.protocol+"//"+location.host,D,P=!1,H={},B=new v;y.setInQueue(B),y.getOutQueue().start(function(e){q("facebook","FB_RPC:"+e)});var U={rpc:y,_callbacks:{},_forever:{},_channel:M,_origin:_,onMessage:I,recv:I,init:R,sendToFacebook:q,inform:function(e,t,n,r){q("facebook",{method:e,params:f("JSON","stringify",!1,t||{}),behavior:r||"p",relation:n})},handler:function(e,t,n,r){var i=x.useCdn?w.resolve("cdn",location.protocol=="https:"):location.protocol+"//www.facebook.com";return i+"/"+x.XdUrl+"#"+d.encode({cb:this.registerCallback(e,n,r),origin:_+"/"+M,domain:location.hostname,relation:t||"opener"})},registerCallback:function(e,t,n){return n=n||h(),t&&(U._forever[n]=!0),U._callbacks[n]=e,n}};(function(){var e=location.href.match(/[?&]fb_xd_fragment#(.*)$/);if(e){n.documentElement.style.display="none";var t=d.decode(e[1]),r=g(t.xd_rel);p.debug("Passing fragment based message: %s",e[1]),r.FB_XD_onMessage(t),n.open(),n.close()}})(),c.subscribe("init:post",function(e){R(e.channelUrl?m(e.channelUrl):null,e.xdProxyName)}),o.exports=U}),a("sdk.Auth",["sdk.Cookie","copyProperties","sdk.createIframe","DOMWrapper","sdk.getContextType","guid","Log","ObservableMixin","QueryString","sdk.Runtime","sdk.SignedRequest","UrlMap","URL","sdk.XD"],function(e,t,n,i,s,o){function N(e,t){var n=g.getUserID(),r="";if(e)if(e.userID)r=e.userID;else if(e.signedRequest){var i=y.parse(e.signedRequest);i&&i.user_id&&(r=i.user_id)}var s=g.getLoginStatus(),o=s==="unknown"&&e,u=n&&!e,a=e&&n&&n!=r,f=e!=S,l=t!=(s||"unknown");g.setLoginStatus(t),g.setAccessToken(e&&e.accessToken||null),g.setUserID(r),S=e;var c={authResponse:e,status:t};return(u||a)&&T.inform("logout",c),(o||a)&&T.inform("login",c),f&&T.inform("authresponse.change",c),l&&T.inform("status.change",c),c}function C(){return S}function k(e,t,n){return function(r){var i;if(r&&r.access_token){var s=y.parse(r.signed_request);t={accessToken:r.access_token,userID:s.user_id,expiresIn:parseInt(r.expires_in,10),signedRequest:r.signed_request};if(g.getUseCookie()){var o=t.expiresIn===0?0:f("Date","now",!1)+t.expiresIn*1e3,a=u.getDomain();!a&&r.base_domain&&u.setDomain("."+r.base_domain),u.setSignedRequestCookie(r.signed_request,o)}i="connected",N(t,i)}else if(n==="logout"||n==="login_status")r.error&&r.error==="not_authorized"?i="not_authorized":i="unknown",N(null,i),g.getUseCookie()&&u.clearSignedRequestCookie();return r&&r.https==1&&g.setSecure(!0),e&&e({authResponse:t,status:g.getLoginStatus()}),t}}function L(e){var t;x&&(clearTimeout(x),x=null);var n=k(e,S,"login_status"),i=w(b.resolve("www",!0)+"/dialog/oauth").setSearch(m.encode({client_id:g.getClientID(),response_type:"token,signed_request,code",display:"none",domain:location.hostname,origin:h(),redirect_uri:E.handler(function(e){t.parentNode.removeChild(t),n(e)&&(x=r(function(){L(function(){})},12e5))},"parent"),sdk:"joey"}));t=l({root:c.getRoot(),name:p(),url:i.toString(),style:{display:"none"}})}function O(e,t){if(!g.getClientID()){d.warn("FB.getLoginStatus() called before calling FB.init().");return}if(e){if(!t&&A=="loaded"){e({status:g.getLoginStatus(),authResponse:C()});return}T.subscribe("FB.loginStatus",e)}if(!t&&A=="loading")return;A="loading";var n=function(e){A="loaded",T.inform("FB.loginStatus",e),T.clearSubscribers("FB.loginStatus")};L(n)}var u=t("sdk.Cookie"),a=t("copyProperties"),l=t("sdk.createIframe"),c=t("DOMWrapper"),h=t("sdk.getContextType"),p=t("guid"),d=t("Log"),v=t("ObservableMixin"),m=t("QueryString"),g=t("sdk.Runtime"),y=t("sdk.SignedRequest"),b=t("UrlMap"),w=t("URL"),E=t("sdk.XD"),S,x,T=new v,A;a(T,{getLoginStatus:O,fetchLoginStatus:L,setAuthResponse:N,getAuthResponse:C,parseSignedRequest:y.parse,xdResponseWrapper:k}),s.exports=T}),a("dotAccess",[],function(e,t,n,r,i,s){function o(e,t,n){var r=t.split(".");do{var i=r.shift();e=e[i]||n&&(e[i]={})}while(r.length&&e);return e}i.exports=o}),a("hasArrayNature",[],function(e,t,n,r,i,s){function o(e){return!!e&&(typeof e=="object"||typeof e=="function")&&"length"in e&&!("setInterval"in e)&&(Object.prototype.toString.call(e)==="[object Array]"||"callee"in e||"item"in e)}i.exports=o}),a("createArrayFrom",["hasArrayNature"],function(e,t,n,r,i,s){function u(e){if(!o(e))return[e];if(e.item){var t=e.length,n=new Array(t);while(t--)n[t]=e[t];return n}return Array.prototype.slice.call(e)}var o=t("hasArrayNature");i.exports=u}),a("sdk.DOM",["Assert","createArrayFrom","sdk.domReady","UserAgent"],function(t,r,i,s,o,u){function d(e,t){var n=e.getAttribute(t)||e.getAttribute(t.replace(/_/g,"-"))||e.getAttribute(t.replace(/-/g,"_"))||e.getAttribute(t.replace(/-/g,""))||e.getAttribute(t.replace(/_/g,""))||e.getAttribute("data-"+t)||e.getAttribute("data-"+t.replace(/_/g,"-"))||e.getAttribute("data-"+t.replace(/-/g,"_"))||e.getAttribute("data-"+t.replace(/-/g,""))||e.getAttribute("data-"+t.replace(/_/g,""));return n?String(n):null}function v(e,t){var n=d(e,t);return n?/^(true|1|yes|on)$/.test(n):null}function m(e,t){a.isTruthy(e,"element not specified"),a.isString(t);try{return String(e[t])}catch(n){throw new Error("Could not read property "+t+" : "+n.message)}}function g(e,t){a.isTruthy(e,"element not specified"),a.isString(t);try{e.innerHTML=t}catch(n){throw new Error("Could not set innerHTML : "+n.message)}}function y(e,t){a.isTruthy(e,"element not specified"),a.isString(t);var n=" "+m(e,"className")+" ";return f(n,"indexOf",!0," "+t+" ")>=0}function b(e,t){a.isTruthy(e,"element not specified"),a.isString(t),y(e,t)||(e.className=m(e,"className")+" "+t)}function w(e,t){a.isTruthy(e,"element not specified"),a.isString(t);var n=new RegExp("\\s*"+t,"g");e.className=f(m(e,"className").replace(n,""),"trim",!0)}function E(e,t,r){a.isString(e),t=t||n.body,r=r||"*";if(t.querySelectorAll)return l(t.querySelectorAll(r+"."+e));var i=t.getElementsByTagName(r),s=[];for(var o=0,u=i.length;o<u;o++)y(i[o],e)&&(s[s.length]=i[o]);return s}function S(e,t){a.isTruthy(e,"element not specified"),a.isString(t),t=t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()});var r=e.currentStyle||n.defaultView.getComputedStyle(e,null),i=r[t];return/backgroundPosition?/.test(t)&&/top|left/.test(i)&&(i="0%"),i}function x(e,t,n){a.isTruthy(e,"element not specified"),a.isString(t),t=t.replace(/-(\w)/g,function(e,t){return t.toUpperCase()}),e.style[t]=n}function T(e,t){var r=!0;for(var i=0,s;s=t[i++];)s in p||(r=!1,p[s]=!0);if(r)return;if(!h.ie()){var o=n.createElement("style");o.type="text/css",o.textContent=e,n.getElementsByTagName("head")[0].appendChild(o)}else try{n.createStyleSheet().cssText=e}catch(u){n.styleSheets[0]&&(n.styleSheets[0].cssText+=e)}}function N(){var t=n.documentElement&&n.compatMode=="CSS1Compat"?n.documentElement:n.body;return{scrollTop:t.scrollTop||n.body.scrollTop,scrollLeft:t.scrollLeft||n.body.scrollLeft,width:e.innerWidth?e.innerWidth:t.clientWidth,height:e.innerHeight?e.innerHeight:t.clientHeight}}function C(e){a.isTruthy(e,"element not specified");var t=0,n=0;do t+=e.offsetLeft,n+=e.offsetTop;while(e=e.offsetParent);return{x:t,y:n}}var a=r("Assert"),l=r("createArrayFrom"),c=r("sdk.domReady"),h=r("UserAgent"),p={},k={containsCss:y,addCss:b,removeCss:w,getByClass:E,getStyle:S,setStyle:x,getAttr:d,getBoolAttr:v,getProp:m,html:g,addCssRules:T,getViewportInfo:N,getPosition:C,ready:c};o.exports=k}),a("sdk.Scribe",["UrlMap","QueryString"],function(e,t,n,r,i,s){function a(e,t){(new Image).src=u.appendToUrl(o.resolve("www",!0)+"/common/scribe_endpoint.php",{c:e,m:f("JSON","stringify",!1,t)})}var o=t("UrlMap"),u=t("QueryString"),l={log:a};i.exports=l}),a("sdk.ErrorHandling",["UserAgent","sdk.Scribe","sdk.Runtime","wrapFunction","ManagedError","SDKConfig"],function(t,n,s,o,u,a){function y(e){var t=e._originalError;throw delete e._originalError,c.log("jssdk_error",{appId:p.getClientID(),error:e.name||e.message,extra:e}),t}function b(e){var t={line:e.lineNumber||e.line,message:e.message,name:e.name,script:e.fileName||e.sourceURL||e.script,stack:e.stackTrace||e.stack};t._originalError=e,l.chrome()&&/([\w:\.\/]+\.js):(\d+)/.test(e.stack)&&(t.script=RegExp.$1,t.line=parseInt(RegExp.$2,10));for(var n in t)t[n]==null&&delete t[n];return t}function w(e,t){return function(){if(!m)return e.apply(this,arguments);try{return g=t,e.apply(this,arguments)}catch(n){if(n instanceof v)throw n;var r=b(n);r.entry=t;var i=f(Array.prototype.slice.call(arguments),"map",!0,function(e){var t=Object.prototype.toString.call(e);return/^\[object (String|Number|Boolean|Object|Date)\]$/.test(t)?e:e.toString()});r.args=f("JSON","stringify",!1,i).substring(0,200),y(r)}finally{g=""}}}function E(t){return t.__wrapper||(t.__wrapper=function(){try{return t.apply(this,arguments)}catch(n){return e.setTimeout(function(){throw n},0),!1}}),t.__wrapper}function S(e,t){return function(n,r){var i=t+":"+(g||"[global]")+":"+(n.name||"[anonymous]"+(arguments.callee.caller.name?"("+arguments.callee.caller.name+")":""));return e(d(n,"entry",i),r)}}var l=n("UserAgent"),c=n("sdk.Scribe"),h=s("SDKConfig"),p=n("sdk.Runtime"),d=n("wrapFunction"),v=n("ManagedError"),m=!1,g="",x=h.errorHandling.rate;x&&Math.floor(Math.random()*100)+1<=x&&(m=!0),m&&(r=S(r,"setTimeout"),i=S(i,"setInterval"),d.setWrapper(w,"entry"));var T={guard:w,unguard:E};u.exports=T}),a("GlobalCallback",["wrapFunction","dotAccess"],function(t,n,r,i,s,o){var u=n("wrapFunction"),a=n("dotAccess"),f,l,c=0,h={setPrefix:function(t){f=a(e,t,!0),l=t},create:function(e){f||this.setPrefix("window.__globalCallbacks");var t="__gcb"+ ++c;return f[t]=u(e,"entry","GlobalCallback"),l+"."+t},remove:function(e){var t=e.substring(l.length+1);delete f[t]}};s.exports=h}),a("sdk.Impressions",["guid","QueryString","sdk.Runtime","UrlMap"],function(e,t,n,r,i,s){function c(e){var t=a.getClientID();!e.api_key&&t&&(e.api_key=t);var n=new Image;n.src=u.appendToUrl(l.resolve("www",!0)+"/impression.php/"+o()+"/",e)}var o=t("guid"),u=t("QueryString"),a=t("sdk.Runtime"),l=t("UrlMap"),h={log:function(e,t){t.source||(t.source="jssdk"),c({lid:e,payload:f("JSON","stringify",!1,t)})},impression:c};i.exports=h}),a("sdk.Insights",["sdk.Impressions"],function(e,t,n,r,i,s){var o=t("sdk.Impressions"),u={TYPE:{NOTICE:"notice",WARNING:"warn",ERROR:"error"},CATEGORY:{DEPRECATED:"deprecated",APIERROR:"apierror"},log:function(e,t,n){var r={source:"jssdk",type:e,category:t,payload:n};o.log(113,r)},impression:o.impression};i.exports=u}),a("FB",["sdk.Auth","copyProperties","dotAccess","sdk.domReady","sdk.DOM","sdk.ErrorHandling","sdk.Content","DOMWrapper","GlobalCallback","sdk.Insights","Log","sdk.Runtime","sdk.Scribe","CssConfig","SDKConfig"],function(t,r,i,s,o,u){function O(e,t,n,r){var i;/^_/.test(n)?i="hide":N&&!N[t]&&(i=C);switch(i){case"hide":return;case"stub":return function(){w.warn("The method FB.%s has been removed from the JS SDK.",t)};default:return v.guard(function(){function n(e){return f("Array","isArray",!1,e)?f(e,"map",!0,n):e&&typeof e=="object"&&e.__wrapped?e.__wrapped:typeof e=="function"&&/^function/.test(e.toString())?v.unguard(e):e}i==="warn"&&(w.warn("The method FB.%s is not officially supported by Facebook and access to it will soon be removed.",t),k.hasOwnProperty(t)||(b.log(b.TYPE.WARNING,b.CATEGORY.DEPRECATED,"FB."+t),S.log("jssdk_error",{appId:E.getClientID(),error:"Private method used",extra:{args:t}}),k[t]=!0));var s=f(Array.prototype.slice.call(arguments),"map",!0,n),o=e.apply(r,s),u,a=!0;if(o&&typeof o=="object"){var l=Function();l.prototype=o,u=new l,u.__wrapped=o;for(var c in o){var h=o[c];if(typeof h!="function"||c==="constructor")continue;a=!1,u[c]=O(h,t+":"+c,c,o)}}return a?a?o:u:u},t)}}function M(e,t){var n=e?h(T,e,!0):T;f(f("Object","keys",!1,t),"forEach",!0,function(r){var i=t[r];if(typeof i=="function"){var s=(e?e+".":"")+r,o=O(i,s,r,t);o&&(n[r]=o)}})}var a=r("sdk.Auth"),l=r("copyProperties"),c=i("CssConfig"),h=r("dotAccess"),p=r("sdk.domReady"),d=r("sdk.DOM"),v=r("sdk.ErrorHandling"),m=r("sdk.Content"),g=r("DOMWrapper"),y=r("GlobalCallback"),b=r("sdk.Insights"),w=r("Log"),E=r("sdk.Runtime"),S=r("sdk.Scribe"),x=i("SDKConfig"),T,N,C=h(x,"api.mode"),k={};T=e.FB={};var L={};w.level=1,y.setPrefix("FB._callbacks");var A=n.createElement("div");g.setRoot(A),p(function(){w.info("domReady"),m.appendHidden(A),c.rules&&d.addCssRules(c.rules,c.components)}),E.subscribe("AccessToken.change",function(e){!e&&E.getLoginStatus()==="connected"&&a.getLoginStatus(null,!0)}),h(x,"api.whitelist.length")&&(N={},f(x.api.whitelist,"forEach",!0,function(e){N[e]=1})),E.setSecure(function(){var t=/iframe_canvas|app_runner/.test(e.name),n=/dialog/.test(e.name);if(location.protocol=="https:"&&(e==top||!t&&!n))return!0;if(/_fb_https?/.test(e.name))return f(e.name,"indexOf",true,"_fb_https")!=-1}()),l(L,{provide:M}),o.exports=L}),a("flattenObject",[],function(e,t,n,r,i,s){function o(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];if(null===r||undefined===r)continue;typeof r=="string"?t[n]=r:t[n]=f("JSON","stringify",!1,r)}return t}i.exports=o}),a("CORSRequest",["wrapFunction","QueryString"],function(e,n,r,i,s,o){function l(e,n){if(!t.XMLHttpRequest)return null;var r=new XMLHttpRequest,i=function(){};if("withCredentials"in r)r.open(e,n,!0),r.setRequestHeader("Content-type","application/x-www-form-urlencoded");else{if(!t.XDomainRequest)return null;r=new XDomainRequest;try{r.open(e,n),r.onprogress=r.ontimeout=i}catch(s){return null}}var o={send:function(e){r.send(e)}},a=u(function(){a=i,"onload"in o&&o.onload(r)},"entry","XMLHttpRequest:load"),f=u(function(){f=i,"onerror"in o&&o.onerror(r)},"entry","XMLHttpRequest:error");return r.onload=function(){a()},r.onerror=function(){f()},r.onreadystatechange=function(){r.readyState==4&&(r.status==200?a():f())},o}function c(e,t,n,r){n.suppress_http_code=1;var i=a.encode(n);t!="post"&&(e=a.appendToUrl(e,i),i="");var s=l(t,e);return s?(s.onload=function(e){r(f("JSON","parse",!1,e.responseText))},s.onerror=function(e){e.responseText?r(f("JSON","parse",!1,e.responseText)):r({error:{type:"http",message:"unknown error",status:e.status}})},s.send(i),!0):!1}var u=n("wrapFunction"),a=n("QueryString"),h={execute:c};s.exports=h}),a("FlashRequest",["DOMWrapper","Flash","GlobalCallback","QueryString","Queue"],function(e,t,n,r,i,s){function m(){if(!d)throw new Error("swfUrl has not been set");var e=a.create(function(){h.start(function(e){var t=v.execute(e.method,e.url,e.body);if(!t)throw new Error("Could create request");p[t]=e.callback})}),t=a.create(function(e,t,n){var r;try{r=f("JSON","parse",!1,decodeURIComponent(n))}catch(i){r={error:{type:"SyntaxError",message:i.message,status:t,raw:n}}}p[e](r),delete p[e]});v=u.embed(d,o.getRoot(),null,{log:!1,initCallback:e,requestCallback:t})}function g(e,t,n,r){n.suppress_http_code=1,n.method||(n.method=t);var i=l.encode(n);t==="get"&&e.length+i.length<2e3?(e=l.appendToUrl(e,i),i=""):t="post";if(!h){if(!u.isAvailable())return!1;h=new c,m()}return h.enqueue({method:t,url:e,body:i,callback:r}),!0}var o=t("DOMWrapper"),u=t("Flash"),a=t("GlobalCallback"),l=t("QueryString"),c=t("Queue"),h,p={},d,v,y={setSwfUrl:function(e){d=e},execute:g};i.exports=y}),a("JSONPRequest",["DOMWrapper","GlobalCallback","QueryString"],function(e,t,i,s,o,u){function c(e,t,i,s){var o=n.createElement("script"),u=function(e){u=function(){},f.remove(i.callback),s(e),o.parentNode.removeChild(o)};i.callback=f.create(u),i.method||(i.method=t),e=l.appendToUrl(e,i);if(e.length>2e3)return f.remove(i.callback),!1;o.onerror=function(){u({error:{type:"http",message:"unknown error"}})};var c=function(){r(function(){u({error:{type:"http",message:"unknown error"}})},0)};return o.addEventListener?o.addEventListener("load",c,!1):o.onreadystatechange=function(){/loaded|complete/.test(this.readyState)&&c()},o.src=e,a.getRoot().appendChild(o),!0}var a=t("DOMWrapper"),f=t("GlobalCallback"),l=t("QueryString"),h={execute:c};o.exports=h}),a("ArgumentError",["ManagedError"],function(e,t,n,r,i,s){function u(e,t){o.prototype.constructor.apply(this,arguments)}var o=t("ManagedError");u.prototype=new o,u.prototype.constructor=u,i.exports=u}),a("ApiClient",["copyProperties","flattenObject","sprintf","CORSRequest","FlashRequest","JSONPRequest","Log","UrlMap","URL","ArgumentError","Assert","ApiClientConfig"],function(e,t,n,r,i,s){function N(e,t,n,r){n.access_token||(n.access_token=b),n.pretty=0,S&&o(n,S),n=u(n),r||(p.warn("No callback passed to the ApiClient for %s",e),r=function(){});var i={jsonp:h,cors:l,flash:c},s;n.transport?(s=[n.transport],delete n.transport):s=["jsonp","cors","flash"];var a=function(e){var t=!1;if(w&&e&&typeof e=="object"){if(e.error){if(e.error=="invalid_token"||e.error.type=="OAuthException"&&e.error.code==190)t=!0}else e.error_code&&e.error_code=="190"&&(t=!0);t&&w()}r(e)};for(var f=0;f<s.length;f++){var d=i[s[f]],v=o({},n);if(d.execute(e,t,v,a))return}r({error:{type:"no-transport",message:"Could not find a usable transport for request"}})}function C(e){g.isString(e,"Invalid path");var t,n={};try{t=new v(e)}catch(r){throw new m(r.message,r)}f(Array.prototype.slice.call(arguments,1),"forEach",!0,function(e){n[typeof e]=e});var i=(n.string||"get").toLowerCase(),s=o(n.object||{},t.getParsedSearch()),u=n["function"];g.isTrue(i in x,a("Invalid method passed to ApiClient: %s",i)),s.method=i,t=d.resolve("graph")+t.getPath(),N(t,i=="get"?"get":"post",s,u)}function k(e,t){g.isObject(e),g.isString(e.method,"method missing");var n=e.method.toLowerCase().replace(".","_");e.format="json-strings",e.api_key=E;var r=n in T?"api_read":"api",i=d.resolve(r)+"/restserver.php";N(i,"get",e,t)}var o=t("copyProperties"),u=t("flattenObject"),a=t("sprintf"),l=t("CORSRequest"),c=t("FlashRequest"),h=t("JSONPRequest"),p=t("Log"),d=t("UrlMap"),v=t("URL"),m=t("ArgumentError"),g=t("Assert"),y=t("ApiClientConfig"),b,w,E,S,x={get:!0,post:!0,"delete":!0,put:!0},T={fql_query:!0,fql_multiquery:!0,friends_get:!0,notifications_get:!0,stream_get:!0,users_getinfo:!0},L={setAccessToken:function(e){b=e},setInvalidAccessTokenHandler:function(e){w=e},setClientID:function(e){E=e},setDefaultParams:function(e){S=e},rest:k,graph:C};c.setSwfUrl(y.FlashRequest.swfUrl),i.exports=L}),a("sdk.api",["ApiClient","sdk.Runtime"],function(e,t,n,r,i,s){function f(){typeof arguments[0]=="string"?o.graph.apply(o,arguments):o.rest.apply(o,arguments)}var o=t("ApiClient"),u=t("sdk.Runtime"),a;u.subscribe("ClientID.change",function(e){o.setClientID(e)}),u.subscribe("AccessToken.change",function(e){a=e,o.setAccessToken(e)}),o.setDefaultParams({sdk:"joey"}),o.setInvalidAccessTokenHandler(function(){a===u.getAccessToken()&&u.setAccessToken(null)}),i.exports=f}),a("legacy:fb.api",["FB","sdk.api"],function(e,t,n,r){var i=t("FB"),s=t("sdk.api");i.provide("",{api:s})},3),a("sdk.Canvas.Environment",["sdk.RPC"],function(e,t,n,r,i,s){function u(e){o.remote.getPageInfo(function(t){e(t.result)})}function a(e,t){o.remote.scrollTo({x:e||0,y:t||0})}var o=t("sdk.RPC");o.stub("getPageInfo"),o.stub("scrollTo");var f={getPageInfo:u,scrollTo:a};i.exports=f}),a("sdk.Intl",["Log"],function(e,t,n,r,i,s){function a(e){return typeof e!="string"?!1:!!e.match(new RegExp(u+"["+')"'+"'"+"Â»"+"à¼»"+"à¼½"+"â"+"â"+"âº"+"ã"+"ã"+"ã"+"ã"+"ã"+"ã"+"ã"+"ã"+"ã"+"ã"+"ã"+"ï´¿"+"ï¼"+"ï¼"+"ï¼½"+"\\s"+"]*$"))}function f(e,t){if(t!==undefined)if(typeof t!="object")o.error("The second arg to FB.Intl.tx() must be an Object for FB.Intl.tx("+e+", ...)");else{var n;for(var r in t)t.hasOwnProperty(r)&&(a(t[r])?n=new RegExp("\\{"+r+"\\}"+u+"*","g"):n=new RegExp("\\{"+r+"\\}","g"),e=e.replace(n,t[r]))}return e}function l(){throw new Error("Placeholder function")}var o=t("Log"),u="[.!?ãï¼ï¼à¥¤â¦àº¯á à¸¯ï¼]";l._=f,i.exports={tx:l}}),a("sdk.Dialog",["sdk.Canvas.Environment","sdk.Content","sdk.DOM","DOMEventListener","sdk.Intl","ObservableMixin","sdk.Runtime","Type","UserAgent"],function(t,i,s,o,u,a){var l=i("sdk.Canvas.Environment"),c=i("sdk.Content"),h=i("sdk.DOM"),p=i("DOMEventListener"),d=i("sdk.Intl"),v=i("ObservableMixin"),m=i("sdk.Runtime"),g=i("Type"),y=i("UserAgent"),b=g.extend({constructor:function(e,t){this.parent(),this.id=e,this.display=t,w._dialogs||(w._dialogs={},w._addOrientationHandler()),w._dialogs[e]=this}},v),w={newInstance:function(e,t){return new b(e,t)},_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,get:function(e){return w._dialogs[e]},_findRoot:function(e){while(e){if(h.containsCss(e,"fb_dialog"))return e;e=e.parentNode}},_createWWWLoader:function(e){return e=e?e:460,w.create({content:'<div class="dialog_title">  <a id="fb_dialog_loader_close">    <div class="fb_dialog_close_icon"></div>  </a>  <span>Facebook</span>  <div style="clear:both;"></div></div><div class="dialog_content"></div><div class="dialog_footer"></div>',width:e})},_createMobileLoader:function(){var e=y.nativeApp()?"":'<table>  <tbody>    <tr>      <td class="header_left">        <label class="touchable_button">          <input type="submit" value="'+d.tx._("Cancel")+'"'+'            id="fb_dialog_loader_close"/>'+"        </label>"+"      </td>"+'      <td class="header_center">'+"        <div>"+d.tx._("Loading...")+"</div>"+"      </td>"+'      <td class="header_right">'+"      </td>"+"    </tr>"+"  </tbody>"+"</table>";return w.create({classes:"loading"+(y.ipad()?" centered":""),content:'<div class="dialog_header">'+e+"</div>"})},_restoreBodyPosition:function(){if(!y.ipad()){var e=n.getElementsByTagName("body")[0];h.removeCss(e,"fb_hidden")}},_showIPadOverlay:function(){if(!y.ipad())return;w._overlayEl||(w._overlayEl=n.createElement("div"),w._overlayEl.setAttribute("id","fb_dialog_ipad_overlay"),c.append(w._overlayEl,null)),w._overlayEl.className=""},_hideIPadOverlay:function(){y.ipad()&&(w._overlayEl.className="hidden")},showLoader:function(e,t){w._showIPadOverlay(),w._loaderEl||(w._loaderEl=w._findRoot(y.mobile()?w._createMobileLoader():w._createWWWLoader(t))),e||(e=function(){});var r=n.getElementById("fb_dialog_loader_close");h.removeCss(r,"fb_hidden"),r.onclick=function(){w._hideLoader(),w._restoreBodyPosition(),w._hideIPadOverlay(),e()};var i=n.getElementById("fb_dialog_ipad_overlay");i&&(i.ontouchstart=r.onclick),w._makeActive(w._loaderEl)},_hideLoader:function(){w._loaderEl&&w._loaderEl==w._active&&(w._loaderEl.style.top="-10000px")},_makeActive:function(e){w._setDialogSizes(),w._lowerActive(),w._active=e,m.isEnvironment(m.ENVIRONMENTS.CANVAS)&&l.getPageInfo(function(e){w._centerActive(e)}),w._centerActive()},_lowerActive:function(){if(!w._active)return;w._active.style.top="-10000px",w._active=null},_removeStacked:function(e){w._stack=f(w._stack,"filter",!0,function(t){return t!=e})},_centerActive:function(e){var t=w._active;if(!t)return;var r=h.getViewportInfo(),i=parseInt(t.offsetWidth,10),s=parseInt(t.offsetHeight,10),o=r.scrollLeft+(r.width-i)/2,u=(r.height-s)/2.5;o<u&&(u=o);var a=r.height-s-u,f=(r.height-s)/2;e&&(f=e.scrollTop-e.offsetTop+(e.clientHeight-s)/2),f<u?f=u:f>a&&(f=a),f+=r.scrollTop;if(y.mobile()){var l=100;if(y.ipad())l+=(r.height-s)/2;else{var c=n.getElementsByTagName("body")[0];h.addCss(c,"fb_hidden"),o=1e4,f=1e4}var p=h.getByClass("fb_dialog_padding",t);p.length&&(p[0].style.height=l+"px")}t.style.left=(o>0?o:0)+"px",t.style.top=(f>0?f:0)+"px"},_setDialogSizes:function(){if(!y.mobile()||y.ipad())return;for(var e in w._dialogs)if(w._dialogs.hasOwnProperty(e)){var t=n.getElementById(e);t&&(t.style.width=w.getDefaultSize().width+"px",t.style.height=w.getDefaultSize().height+"px")}},getDefaultSize:function(){if(y.mobile()){if(y.ipad())return{width:500,height:590};if(y.android())return{width:screen.availWidth,height:screen.availHeight};var t=e.innerWidth,n=e.innerHeight,r=t/n>1.2;return{width:t,height:Math.max(n,r?screen.width:screen.height)}}return{width:575,height:240}},_handleOrientationChange:function(e){if(y.android()&&screen.availWidth==w._availScreenWidth){r(w._handleOrientationChange,50);return}w._availScreenWidth=screen.availWidth;if(y.ipad())w._centerActive();else{var t=w.getDefaultSize().width;for(var i in w._dialogs)if(w._dialogs.hasOwnProperty(i)){var s=n.getElementById(i);s&&(s.style.width=t+"px")}}},_addOrientationHandler:function(){if(!y.mobile())return;var t="onorientationchange"in e?"orientationchange":"resize";w._availScreenWidth=screen.availWidth,p.add(e,t,w._handleOrientationChange)},create:function(e){e=e||{};var t=n.createElement("div"),r=n.createElement("div"),i="fb_dialog";if(e.closeIcon&&e.onClose){var s=n.createElement("a");s.className="fb_dialog_close_icon",s.onclick=e.onClose,t.appendChild(s)}i+=" "+(e.classes||""),y.ie()?(i+=" fb_dialog_legacy",f(["vert_left","vert_right","horiz_top","horiz_bottom","top_left","top_right","bottom_left","bottom_right"],"forEach",!0,function(e){var r=n.createElement("span");r.className="fb_dialog_"+e,t.appendChild(r)})):i+=y.mobile()?" fb_dialog_mobile":" fb_dialog_advanced",e.content&&c.append(e.content,r),t.className=i;var o=parseInt(e.width,10);isNaN(o)||(t.style.width=o+"px"),r.className="fb_dialog_content",t.appendChild(r);if(y.mobile()){var u=n.createElement("div");u.className="fb_dialog_padding",t.appendChild(u)}return c.append(t),e.visible&&w.show(t),r},show:function(e){var t=w._findRoot(e);t&&(w._removeStacked(t),w._hideLoader(),w._makeActive(t),w._stack.push(t),"fbCallID"in e&&w.get(e.fbCallID).inform("iframe_show"))},hide:function(e){var t=w._findRoot(e);t==w._active&&(w._lowerActive(),w._restoreBodyPosition(),w._hideIPadOverlay(),"fbCallID"in e&&w.get(e.fbCallID).inform("iframe_hide"))},remove:function(e){e=w._findRoot(e);if(e){var t=w._active==e;w._removeStacked(e),t?(w._hideLoader(),w._stack.length>0?w.show(w._stack.pop()):(w._lowerActive(),w._restoreBodyPosition(),w._hideIPadOverlay())):w._active===null&&w._stack.length>0&&w.show(w._stack.pop()),r(function(){e.parentNode.removeChild(e)},3e3)}},isActive:function(e){var t=w._findRoot(e);return t&&t===w._active}};u.exports=w}),a("sdk.Frictionless",["sdk.Auth","sdk.api","sdk.Event","sdk.Dialog"],function(e,t,n,r,i,s){var o=t("sdk.Auth"),u=t("sdk.api"),a=t("sdk.Event"),l=t("sdk.Dialog"),c={_allowedRecipients:{},_useFrictionless:!1,_updateRecipients:function(){c._allowedRecipients={},u("/me/apprequestformerrecipients",function(e){if(!e||e.error)return;f(e.data,"forEach",!0,function(e){c._allowedRecipients[e.recipient_id]=!0})})},init:function(){c._useFrictionless=!0,o.getLoginStatus(function(e){e.status=="connected"&&c._updateRecipients()}),a.subscribe("auth.login",function(e){e.authResponse&&c._updateRecipients()})},_processRequestResponse:function(e,t){return function(n){var r=n&&n.updated_frictionless;c._useFrictionless&&r&&c._updateRecipients(),n&&(!t&&n.frictionless&&(l._hideLoader(),l._restoreBodyPosition(),l._hideIPadOverlay()),delete n.frictionless,delete n.updated_frictionless),e&&e(n)}},isAllowed:function(e){if(!e)return!1;if(typeof e=="number")return e in c._allowedRecipients;typeof e=="string"&&(e=e.split(",")),e=f(e,"map",!0,function(e){return f(String(e),"trim",!0)});var t=!0,n=!1;return f(e,"forEach",!0,function(e){t=t&&e in c._allowedRecipients,n=!0}),t&&n}};a.subscribe("init:post",function(e){e.frictionlessRequests&&c.init()}),i.exports=c}),a("insertIframe",["guid","GlobalCallback"],function(e,t,i,s,o,u){function l(e){e.id=e.id||a(),e.name=e.name||a();var t=!1,i=!1,s=function(){t&&!i&&(i=!0,e.onload&&e.onload(e.root.firstChild))},o=f.create(s);if(n.attachEvent){var u='<iframe id="'+e.id+'"'+' name="'+e.name+'"'+(e.title?' title="'+e.title+'"':"")+(e.className?' class="'+e.className+'"':"")+' style="border:none;'+(e.width?"width:"+e.width+"px;":"")+(e.height?"height:"+e.height+"px;":"")+'"'+' src="javascript:false;"'+' frameborder="0"'+' scrolling="no"'+' allowtransparency="true"'+' onload="'+o+'()"'+"></iframe>";e.root.innerHTML='<iframe src="javascript:false" frameborder="0" scrolling="no" style="height:1px"></iframe>',t=!0,r(function(){e.root.innerHTML=u,e.root.firstChild.src=e.url,e.onInsert&&e.onInsert(e.root.firstChild)},0)}else{var l=n.createElement("iframe");l.id=e.id,l.name=e.name,l.onload=s,l.scrolling="no",l.style.border="none",l.style.overflow="hidden",e.title&&(l.title=e.title),e.className&&(l.className=e.className),e.height!==undefined&&(l.style.height=e.height+"px"),e.width!==undefined&&(e.width=="100%"?l.style.width=e.width:l.style.width=e.width+"px"),e.root.appendChild(l),t=!0,l.src=e.url,e.onInsert&&e.onInsert(l)}}var a=t("guid"),f=t("GlobalCallback");o.exports=l}),a("sdk.Native",["copyProperties","Log","UserAgent"],function(t,n,r,i,s,o){var u=n("copyProperties"),a=n("Log"),f=n("UserAgent"),l="fbNativeReady",c={onready:function(t){if(!f.nativeApp()){a.error("FB.Native.onready only works when the page is rendered in a WebView of the native Facebook app. Test if this is the case calling FB.UA.nativeApp()");return}e.__fbNative&&!this.nativeReady&&u(this,e.__fbNative);if(this.nativeReady)t();else{var n=function(r){e.removeEventListener(l,n),this.onready(t)};e.addEventListener(l,n,!1)}}};s.exports=c}),a("sdk.UIServer",["sdk.Auth","sdk.Content","copyProperties","sdk.Dialog","sdk.DOM","sdk.Event","flattenObject","sdk.Frictionless","sdk.getContextType","guid","insertIframe","Log","sdk.Native","QueryString","resolveURI","sdk.RPC","sdk.Runtime","UrlMap","UserAgent","sdk.XD"],function(t,s,o,u,a,l){var c=s("sdk.Auth"),h=s("sdk.Content"),p=s("copyProperties"),d=s("sdk.Dialog"),v=s("sdk.DOM"),m=s("sdk.Event"),g=s("flattenObject"),y=s("sdk.Frictionless"),b=s("sdk.getContextType"),w=s("guid"),E=s("insertIframe"),S=s("Log"),x=s("sdk.Native"),T=s("QueryString"),N=s("resolveURI"),C=s("sdk.RPC"),k=s("sdk.Runtime"),L=s("UrlMap"),A=s("UserAgent"),O=s("sdk.XD"),M={transform:function(t){return t.params.display==="touch"&&t.params.access_token&&e.postMessage?(t.params.channel=D._xdChannelHandler(t.id,"parent"),A.nativeApp()||(t.params.in_iframe=1),t):D.genericTransform(t)},getXdRelation:function(t){var n=t.display;return n==="touch"&&e.postMessage&&t.in_iframe?"parent":D.getXdRelation(t)}},_={"stream.share":{size:{width:670,height:340},url:"sharer.php",transform:function(t){return t.params.u||(t.params.u=e.location.toString()),t.params.display="popup",t}},apprequests:{transform:function(e){return e=M.transform(e),e.params.frictionless=y&&y._useFrictionless,e.params.frictionless&&(y.isAllowed(e.params.to)&&(e.params.display="iframe",e.params.in_iframe=!0,e.hideLoader=!0),e.cb=y._processRequestResponse(e.cb,e.hideLoader)),e},getXdRelation:M.getXdRelation},feed:M,"permissions.oauth":{url:"dialog/oauth",size:{width:A.mobile()?null:440,height:A.mobile()?null:186},transform:function(e){if(!k.getClientID()){S.error("FB.login() called before FB.init().");return}if(c.getAuthResponse()&&!e.params.scope){S.error("FB.login() called when user is already connected."),e.cb&&e.cb({status:k.getLoginStatus(),authResponse:c.getAuthResponse()});return}var t=e.cb,n=e.id;return delete e.cb,e.params.display==="async"?(p(e.params,{client_id:k.getClientID(),origin:b(),response_type:"token,signed_request",domain:location.hostname}),e.cb=c.xdResponseWrapper(t,c.getAuthResponse(),"permissions.oauth")):p(e.params,{client_id:k.getClientID(),redirect_uri:N(D.xdHandler(t,n,"opener",c.getAuthResponse(),"permissions.oauth")),origin:b(),response_type:"token,signed_request",domain:location.hostname}),e}},"auth.logout":{url:"logout.php",transform:function(e){if(!k.getClientID())S.error("FB.logout() called before calling FB.init().");else{if(!!c.getAuthResponse())return e.params.next=D.xdHandler(e.cb,e.id,"parent",c.getAuthResponse(),"logout"),e;S.error("FB.logout() called without an access token.")}}},"login.status":{url:"dialog/oauth",transform:function(e){var t=e.cb,n=e.id;return delete e.cb,p(e.params,{client_id:k.getClientID(),redirect_uri:D.xdHandler(t,n,"parent",c.getAuthResponse(),"login_status"),origin:b(),response_type:"token,signed_request,code",domain:location.hostname}),e}}},D={Methods:_,_loadedNodes:{},_defaultCb:{},_resultToken:'"xxRESULTTOKENxx"',genericTransform:function(e){return(e.params.display=="dialog"||e.params.display=="iframe")&&p(e.params,{display:"iframe",channel:D._xdChannelHandler(e.id,"parent.parent")},!0),e},prepareCall:function(e,t){var n=e.method.toLowerCase(),r=p({},D.Methods[n]),i=w(),s=k.getSecure()||n!=="auth.status"&&n!="login.status";p(e,{api_key:k.getClientID(),app_id:k.getClientID(),locale:k.getLocale(),sdk:"joey",access_token:s&&k.getAccessToken()||undefined}),e.display=D.getDisplayMode(r,e),r.url||(r.url="dialog/"+n);var o={cb:t,id:i,size:r.size||D.getDefaultSize(),url:L.resolve(e.display=="touch"?"m":"www",s)+"/"+r.url,forceHTTPS:s,params:e,name:n,dialog:d.newInstance(i,e.display)},u=r.transform?r.transform:D.genericTransform;if(u){o=u(o);if(!o)return}var a=r.getXdRelation||D.getXdRelation,f=a(o.params);return!(o.id in D._defaultCb)&&!("next"in o.params)&&!("redirect_uri"in o.params)&&(o.params.next=D._xdResult(o.cb,o.id,f,!0)),f==="parent"&&p(o.params,{channel_url:D._xdChannelHandler(i,"parent.parent")},!0),o=D.prepareParams(o),o},prepareParams:function(e){var t=e.params.method;e.params.display!=="async"&&delete e.params.method,e.params=g(e.params);var n=T.encode(e.params);return!A.nativeApp()&&D.urlTooLongForIE(e.url+"?"+n)?e.post=!0:n&&(e.url+="?"+n),e},urlTooLongForIE:function(e){return e.length>2e3},getDisplayMode:function(e,t){if(t.display==="hidden"||t.display==="none")return t.display;var n=k.isEnvironment(k.ENVIRONMENTS.CANVAS)||k.isEnvironment(k.ENVIRONMENTS.PAGETAB);return n&&!t.display?"async":A.mobile()||t.display==="touch"?"touch":!k.getAccessToken()&&t.display=="dialog"&&!e.loggedOutIframe?(S.error('"dialog" mode can only be used when the user is connected.'),"popup"):e.connectDisplay&&!n?e.connectDisplay:t.display||(k.getAccessToken()?"dialog":"popup")},getXdRelation:function(t){var n=t.display;if(n==="popup"||n==="touch")return"opener";if(n==="dialog"||n==="iframe"||n==="hidden"||n==="none")return"parent";if(n==="async")return"parent.frames["+e.name+"]"},popup:function(t){var r=typeof e.screenX!="undefined"?e.screenX:e.screenLeft,i=typeof e.screenY!="undefined"?e.screenY:e.screenTop,s=typeof e.outerWidth!="undefined"?e.outerWidth:n.documentElement.clientWidth,o=typeof e.outerHeight!="undefined"?e.outerHeight:n.documentElement.clientHeight-22,u=A.mobile()?null:t.size.width,a=A.mobile()?null:t.size.height,f=r<0?e.screen.width+r:r,l=parseInt(f+(s-u)/2,10),c=parseInt(i+(o-a)/2.5,10),p=[];u!==null&&p.push("width="+u),a!==null&&p.push("height="+a),p.push("left="+l),p.push("top="+c),p.push("scrollbars=1"),(t.name=="permissions.request"||t.name=="permissions.oauth")&&p.push("location=1,toolbar=0"),p=p.join(",");var d;t.post?(d=e.open("about:blank",t.id,p),d&&(D.setLoadedNode(t,d,"popup"),h.submitToTarget({url:t.url,target:t.id,params:t.params}))):(d=e.open(t.url,t.id,p),d&&D.setLoadedNode(t,d,"popup"));if(!d)return;t.id in D._defaultCb&&D._popupMonitor()},setLoadedNode:function(e,t,n){e.params&&e.params.display!="popup"&&(t.fbCallID=e.id),t={node:t,type:n,fbCallID:e.id},D._loadedNodes[e.id]=t},getLoadedNode:function(e){var t=typeof e=="object"?e.id:e,n=D._loadedNodes[t];return n?n.node:null},hidden:function(e){e.className="FB_UI_Hidden",e.root=h.appendHidden(""),D._insertIframe(e)},iframe:function(e){e.className="FB_UI_Dialog";var t=function(){D._triggerDefault(e.id)};e.root=d.create({onClose:t,closeIcon:!0,classes:A.ipad()?"centered":""}),e.hideLoader||d.showLoader(t,e.size.width),v.addCss(e.root,"fb_dialog_iframe"),D._insertIframe(e)},touch:function(e){e.params&&e.params.in_iframe?e.ui_created?d.showLoader(function(){D._triggerDefault(e.id)},0):D.iframe(e):A.nativeApp()&&!e.ui_created?(e.frame=e.id,x.onready(function(){D.setLoadedNode(e,x.open(e.url+"#cb="+e.frameName),"native")}),D._popupMonitor()):e.ui_created||D.popup(e)},async:function(e){e.params.redirect_uri=location.protocol+"//"+location.host+location.pathname,C.remote.showDialog(e.params,function(t){e.cb(t.result)})},getDefaultSize:function(){return d.getDefaultSize()},_insertIframe:function(e){D._loadedNodes[e.id]=!1;var t=function(t){e.id in D._loadedNodes&&D.setLoadedNode(e,t,"iframe")};e.post?E({url:"about:blank",root:e.root,className:e.className,width:e.size.width,height:e.size.height,id:e.id,onInsert:t,onload:function(t){h.submitToTarget({url:e.url,target:t.name,params:e.params})}}):E({url:e.url,root:e.root,className:e.className,width:e.size.width,height:e.size.height,id:e.id,name:e.frameName,onInsert:t})},_handleResizeMessage:function(e,t){var n=D.getLoadedNode(e);if(!n)return;t.height&&(n.style.height=t.height+"px"),t.width&&(n.style.width=t.width+"px"),O.inform("resize.ack",t||{},"parent.frames["+n.name+"]"),d.isActive(n)||d.show(n)},_triggerDefault:function(e){D._xdRecv({frame:e},D._defaultCb[e]||function(){})},_popupMonitor:function(){var e;for(var t in D._loadedNodes)if(D._loadedNodes.hasOwnProperty(t)&&t in D._defaultCb){var n=D._loadedNodes[t];if(n.type!="popup"&&n.type!="native")continue;var r=n.node;try{r.closed?D._triggerDefault(t):e=!0}catch(s){}}e&&!D._popupInterval?D._popupInterval=i(D._popupMonitor,100):!e&&D._popupInterval&&(clearInterval(D._popupInterval),D._popupInterval=null)},_xdChannelHandler:function(e,t){return O.handler(function(t){var n=D.getLoadedNode(e);if(!n)return;if(t.type=="resize")D._handleResizeMessage(e,t);else if(t.type=="hide")d.hide(n);else if(t.type=="rendered"){var r=d._findRoot(n);d.show(r)}else t.type=="fireevent"&&m.fire(t.event)},t,!0,null)},_xdNextHandler:function(e,t,n,r){return r&&(D._defaultCb[t]=e),O.handler(function(t){D._xdRecv(t,e)},n)+"&frame="+t},_xdRecv:function(t,n){var i=D.getLoadedNode(t.frame);if(i){try{v.containsCss(i,"FB_UI_Hidden")?r(function(){i.parentNode.parentNode.removeChild(i.parentNode)},3e3):v.containsCss(i,"FB_UI_Dialog")&&d.remove(i)}catch(s){}try{if(i.close){i.close();if(A.iphone()){var o=/Version\/([\d\.]+)/.test(navigator.userAgent)?parseFloat(RegExp.$1,10):null;o>=6&&e.focus()}D._popupCount--}}catch(u){}}delete D._loadedNodes[t.frame],delete D._defaultCb[t.frame],n(t)},_xdResult:function(e,t,n,r){return D._xdNextHandler(function(t){e&&e(t.result&&t.result!=D._resultToken&&f("JSON","parse",!1,t.result))},t,n,r)+"&result="+encodeURIComponent(D._resultToken)},xdHandler:function(e,t,n,r,i){return D._xdNextHandler(c.xdResponseWrapper(e,r,i),t,n,!0)}};C.stub("showDialog"),a.exports=D}),a("sdk.ui",["Assert","copyProperties","Log","sdk.Runtime","sdk.UIServer","SDKConfig"],function(e,t,n,r,i,s){function p(e,t){o.isObject(e),o.maybeFunction(t),e=u({},e);if(!e.method)return a.error('"method" is a required parameter for FB.ui().'),null;if((e.method=="permissions.request"||e.method=="permissions.oauth")&&(e.display=="iframe"||e.display=="dialog")){var n="scope"in e?e.scope:l.getScope();if(n){var r=n.split(/\s|,/g);for(var i=0;i<r.length;i++){var s=f(r[i],"trim",!0);if(s&&!c.initSitevars.iframePermissions[s]){e.display="popup";break}}}}var p=h.prepareCall(e,t||function(){});if(!p)return null;var d=p.params.display;d==="dialog"?d="iframe":d==="none"&&(d="hidden");var v=h[d];return v?(v(p),p.dialog):(a.error('"display" must be one of "popup", "dialog", "iframe", "touch", "async", "hidden", or "none"'),null)}var o=t("Assert"),u=t("copyProperties"),a=t("Log"),l=t("sdk.Runtime"),c=n("SDKConfig"),h=t("sdk.UIServer");i.exports=p}),a("legacy:fb.auth",["sdk.Auth","sdk.Cookie","copyProperties","sdk.Event","FB","Log","sdk.Runtime","sdk.SignedRequest","sdk.ui"],function(e,t,n,r){var i=t("sdk.Auth"),s=t("sdk.Cookie"),o=t("copyProperties"),u=t("sdk.Event"),a=t("FB"),l=t("Log"),c=t("sdk.Runtime"),h=t("sdk.SignedRequest"),p=t("sdk.ui");a.provide("",{getLoginStatus:function(){return i.getLoginStatus.apply(i,arguments)},getAuthResponse:function(){return i.getAuthResponse()},getAccessToken:function(){return c.getAccessToken()||null},getUserID:function(){return c.getUserID()},login:function(e,t){t&&t.perms&&!t.scope&&(t.scope=t.perms,delete t.perms,l.warn("OAuth2 specification states that 'perms' should now be called 'scope'.  Please update."));var n=c.isEnvironment(c.ENVIRONMENTS.CANVAS)||c.isEnvironment(c.ENVIRONMENTS.PAGETAB);p(o({method:"permissions.oauth",display:n?"async":"popup",domain:location.hostname},t||{}),e)},logout:function(e){p({method:"auth.logout",display:"hidden"},e)}}),i.subscribe("logout",f(u.fire,"bind",!0,u,"auth.logout")),i.subscribe("login",f(u.fire,"bind",!0,u,"auth.login")),i.subscribe("authresponse.change",f(u.fire,"bind",!0,u,"auth.authResponseChange")),i.subscribe("status.change",f(u.fire,"bind",!0,u,"auth.statusChange")),u.subscribe("init:post",function(e){e.status&&i.getLoginStatus();if(c.getClientID())if(e.authResponse)i.setAuthResponse(e.authResponse,"connected");else if(c.getUseCookie()){var t=s.loadSignedRequest();if(t)try{var n=h.parse(t);c.setUserID(n.user_id||"")}catch(r){s.clearSignedRequestCookie()}s.loadMeta()}})},3),a("sdk.Canvas.Flash",["sdk.api","sdk.RPC","Log","sdk.Runtime","createArrayFrom"],function(t,n,i,s,o,u){function m(e){e.style.visibility="hidden"}function g(e){e.style.visibility=""}function y(t){c.info("hideFlashCallback called with %s",t.state);var n=e.document.getElementsByTagName("object");f(p(n),"forEach",!0,function(e){if(e.type.toLowerCase()!="application/x-shockwave-flash"&&(!e.classid||e.classid.toUpperCase()!=d))return;for(var n=0;n<e.childNodes.length;n++){var i=e.childNodes[n];if(/param/i.test(i.nodeName)&&/wmode/i.test(i.name)&&/opaque|transparent/i.test(i.value))return}if(v){c.info("Calling developer specified callback");var s={state:t.state,elem:e};v(s),r(function(){s.state=="opened"?m(e):g(e)},200)}else t.state=="opened"?(e._old_visibility=e.style.visibility,e.style.visibility="hidden"):t.state=="closed"&&(e.style.visibility=e._old_visibility||"",delete e._old_visibility);Math.random()<=.001&&a(h.getClientID()+"/occludespopups","post",{})})}var a=n("sdk.api"),l=n("sdk.RPC"),c=n("Log"),h=n("sdk.Runtime"),p=n("createArrayFrom"),d="CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000",v=null;l.local.hideFlashObjects=function(){y({state:"opened"})},l.local.showFlashObjects=function(){y({state:"closed"})};var b={_setHideFlashCallback:function(e){v=e},hideFlashElement:m,showFlashElement:g};o.exports=b}),a("sdk.Canvas.IframeHandling",["DOMWrapper","sdk.RPC"],function(t,n,r,s,o,u){function h(){var e=a.getWindow().document,t=e.body,n=e.documentElement,r=Math.max(t.offsetTop,0),i=Math.max(n.offsetTop,0),s=t.scrollHeight+r,o=t.offsetHeight+r,u=n.scrollHeight+i,f=n.offsetHeight+i;return Math.max(s,o,u,f)}function p(t){typeof t!="object"&&(t={});var n=0,r=0;t.height||(t.height=h(),n=16,r=4),t.frame||(t.frame=e.name||"iframe_canvas");if(c){var i=c.height,s=t.height-i;if(s<=r&&s>=-n)return!1}return c=t,f.remote.setSize(t),!0}function d(e,t){t===undefined&&typeof e=="number"&&(t=e,e=!0),e||e===undefined?(l===null&&(l=i(function(){p()},t||100)),p()):l!==null&&(clearInterval(l),l=null)}var a=n("DOMWrapper"),f=n("sdk.RPC"),l=null,c;f.stub("setSize");var v={setSize:p,setAutoGrow:d};o.exports=v}),a("sdk.Canvas.Navigation",["sdk.RPC"],function(e,t,n,r,i,s){function u(e){o.local.navigate=function(t){e({path:t})},o.remote.setNavigationEnabled(!0)}var o=t("sdk.RPC");o.stub("setNavigationEnabled");var a={setUrlHandler:u};i.exports=a}),a("sdk.Canvas.Tti",["sdk.RPC","sdk.Runtime"],function(e,t,n,r,i,s){function a(e,t){var n={appId:u.getClientID(),time:f("Date","now",!1),name:t},r=[n];e&&r.push(function(t){e(t.result)}),o.remote.logTtiMessage.apply(null,r)}function l(){a(null,"StartIframeAppTtiTimer")}function c(e){a(e,"StopIframeAppTtiTimer")}function h(e){a(e,"RecordIframeAppTti")}var o=t("sdk.RPC"),u=t("sdk.Runtime");o.stub("logTtiMessage");var p={setDoneLoading:h,startTimer:l,stopTimer:c};i.exports=p}),a("legacy:fb.canvas",["Assert","sdk.Canvas.Environment","sdk.Event","FB","sdk.Canvas.Flash","sdk.Canvas.IframeHandling","Log","sdk.Canvas.Navigation","sdk.Runtime","sdk.Canvas.Tti"],function(e,t,n,r){var i=t("Assert"),s=t("sdk.Canvas.Environment"),o=t("sdk.Event"),u=t("FB"),a=t("sdk.Canvas.Flash"),f=t("sdk.Canvas.IframeHandling"),l=t("Log"),c=t("sdk.Canvas.Navigation"),h=t("sdk.Runtime"),p=t("sdk.Canvas.Tti");u.provide("Canvas",{setSize:function(e){return i.maybeObject(e,"Invalid argument"),f.setSize.apply(null,arguments)},setAutoGrow:function(){return f.setAutoGrow.apply(null,arguments)},getPageInfo:function(e){return i.isFunction(e,"Invalid argument"),s.getPageInfo.apply(null,arguments)},scrollTo:function(e,t){return i.maybeNumber(e,"Invalid argument"),i.maybeNumber(t,"Invalid argument"),s.scrollTo.apply(null,arguments)},setDoneLoading:function(e){return i.maybeFunction(e,"Invalid argument"),p.setDoneLoading.apply(null,arguments)},startTimer:function(){return p.startTimer.apply(null,arguments)},stopTimer:function(e){return i.maybeFunction(e,"Invalid argument"),p.stopTimer.apply(null,arguments)},getHash:function(e){return i.isFunction(e,"Invalid argument"),c.getHash.apply(null,arguments)},setHash:function(e){return i.isString(e,"Invalid argument"),c.setHash.apply(null,arguments)},setUrlHandler:function(e){return i.isFunction(e,"Invalid argument"),c.setUrlHandler.apply(null,arguments)}}),u.provide("CanvasInsights",{setDoneLoading:function(e){return l.warn("Deprecated: use FB.Canvas.setDoneLoading"),i.maybeFunction(e,"Invalid argument"),p.setDoneLoading.apply(null,arguments)}}),o.subscribe("init:post",function(e){h.isEnvironment(h.ENVIRONMENTS.CANVAS)&&a._setHideFlashCallback(e.hideFlashCallback)})},3),a("sdk.Canvas.Prefetcher",["sdk.api","createArrayFrom","sdk.Runtime","CanvasPrefetcherConfig"],function(e,t,i,s,o,u){function y(){var e={object:"data",link:"href",script:"src"};m==p.AUTOMATIC&&f(f("Object","keys",!1,e),"forEach",!0,function(t){var r=e[t];f(l(n.getElementsByTagName(t)),"forEach",!0,function(e){e[r]&&g.push(e[r])})});if(g.length===0)return;a(h.getClientID()+"/staticresources","post",{urls:f("JSON","stringify",!1,g),is_https:location.protocol==="https:"}),g=[]}function b(){if(!h.isEnvironment(h.ENVIRONMENTS.CANVAS)||!h.getClientID()||!d)return;if(Math.random()>1/d||v=="*"||~f(v,"indexOf",!0,h.getClientID()))return;r(y,3e4)}function w(e){m=e}function E(e){g.push(e)}var a=t("sdk.api"),l=t("createArrayFrom"),c=i("CanvasPrefetcherConfig"),h=t("sdk.Runtime"),p={AUTOMATIC:0,MANUAL:1},d=c.sampleRate,v=c.blacklist,m=p.AUTOMATIC,g=[],S={COLLECT_AUTOMATIC:p.AUTOMATIC,COLLECT_MANUAL:p.MANUAL,addStaticResource:E,setCollectionMode:w,_maybeSample:b};o.exports=S}),a("legacy:fb.canvas.prefetcher",["FB","sdk.Canvas.Prefetcher","sdk.Event","sdk.Runtime"],function(e,t,n,r){var i=t("FB"),s=t("sdk.Canvas.Prefetcher"),o=t("sdk.Event"),u=t("sdk.Runtime");i.provide("Canvas.Prefetcher",s),o.subscribe("init:post",function(e){u.isEnvironment(u.ENVIRONMENTS.CANVAS)&&s._maybeSample()})},3),a("legacy:fb.compat.ui",["copyProperties","FB","Log","sdk.ui","sdk.UIServer"],function(e,t,n,r){var i=t("copyProperties"),s=t("FB"),o=t("Log"),u=t("sdk.ui"),a=t("sdk.UIServer");s.provide("",{share:function(e){o.error("share() has been deprecated. Please use FB.ui() instead."),u({display:"popup",method:"stream.share",u:e})},publish:function(e,t){o.error("publish() has been deprecated. Please use FB.ui() instead."),e=e||{},u(i({display:"popup",method:"stream.publish",preview:1},e||{}),t)},addFriend:function(e,t){o.error("addFriend() has been deprecated. Please use FB.ui() instead."),u({display:"popup",id:e,method:"friend.add"},t)}}),a.Methods["auth.login"]=a.Methods["permissions.request"]},3),a("mergeArrays",[],function(e,t,n,r,i,s){function o(e,t){for(var n=0;n<t.length;n++)f(e,"indexOf",!0,t[n])<0&&e.push(t[n]);return e}i.exports=o}),a("format",[],function(e,t,n,r,i,s){function o(e,t){return t=Array.prototype.slice.call(arguments,1),e.replace(/\{(\d+)\}/g,function(e,n){var r=t[Number(n)];return r===null||r===undefined?"":r.toString()})}i.exports=o}),a("safeEval",[],function(e,t,n,r,i,s){function o(e){if(e===null||typeof e=="undefined")return;return typeof e!="string"?e:Function('return eval("'+e.replace(/"/g,'\\"')+'");')()}i.exports=o}),a("sdk.Waitable",["sdk.Model"],function(e,t,n,r,i,s){var o=t("sdk.Model"),u=o.extend({constructor:function(){this.parent({Value:undefined})},error:function(e){this.inform("error",e)},wait:function(e,t){t&&this.subscribe("error",t),this.monitor("Value.change",f(function(){var t=this.getValue();if(t!==undefined)return this.value=t,e(t),!0},"bind",!0,this))}});i.exports=u}),a("sdk.Query",["format","safeEval","Type","sdk.Waitable"],function(e,t,n,r,i,s){function c(e){return f(e.split(","),"map",!0,function(e){return f(e,"trim",!0)})}function h(e){var t=/^\s*(\w+)\s*=\s*(.*)\s*$/i.exec(e),n,r,i="unknown";return t&&(r=t[2],/^(["'])(?:\\?.)*?\1$/.test(r)?(r=u(r),i="index"):/^\d+\.?\d*$/.test(r)&&(i="index")),i=="index"?n={type:"index",key:t[1],value:r}:n={type:"unknown",value:e},n}function p(e){return typeof e=="string"?f("JSON","stringify",!1,e):e}var o=t("format"),u=t("safeEval"),a=t("Type"),l=t("sdk.Waitable"),d=1,v=l.extend({constructor:function(){this.parent(),this.name="v_"+d++},hasDependency:function(e){return arguments.length&&(this._hasDependency=e),!!this._hasDependency},parse:function(e){var t=o.apply(null,e),n=/^select (.*?) from (\w+)\s+where (.*)$/i.exec(t);this.fields=c(n[1]),this.table=n[2],this.where=h(n[3]);for(var r=1;r<e.length;r++)a.instanceOf(v,e[r])&&e[r].hasDependency(!0);return this},toFql:function(){var e="select "+this.fields.join(",")+" from "+this.table+" where ";switch(this.where.type){case"unknown":e+=this.where.value;break;case"index":e+=this.where.key+"="+p(this.where.value);break;case"in":this.where.value.length==1?e+=this.where.key+"="+p(this.where.value[0]):e+=this.where.key+" in ("+f(this.where.value,"map",!0,p).join(",")+")"}return e},toString:function(){return"#"+this.name}});i.exports=v}),a("sdk.Data",["sdk.api","sdk.ErrorHandling","mergeArrays","sdk.Query","safeEval","sdk.Waitable"],function(e,t,n,i,s,o){var u=t("sdk.api"),a=t("sdk.ErrorHandling"),l=t("mergeArrays"),c=t("sdk.Query"),h=t("safeEval"),p=t("sdk.Waitable"),d={query:function(e,t){var n=(new c).parse(Array.prototype.slice.call(arguments));return d.queue.push(n),d._waitToProcess(),n},waitOn:function(e,t){var n=new p,r=e.length;if(typeof t=="string"){var i=t;t=a.unguard(function(){return h(i)})}return f(e,"forEach",!0,function(i){i.monitor("Value.change",function(){var s=!1;d._getValue(i)!==undefined&&(i.value=i.getValue(),r--,s=!0);if(r===0){var o=t(f(e,"map",!0,d._getValue));n.setValue(o!==undefined?o:!0)}return s})}),n},process:function(e){d._process(e)},_getValue:function(e){return e instanceof p?e.getValue():e},_selectByIndex:function(e,t,n,r){var i=new c;return i.fields=e,i.table=t,i.where={type:"index",key:n,value:r},d.queue.push(i),d._waitToProcess(),i},_waitToProcess:function(){d.timer<0&&(d.timer=r(function(){d._process()},10))},_process:function(e){d.timer=-1;var t={},n=d.queue;if(!n.length)return;d.queue=[];for(var r=0;r<n.length;r++){var i=n[r];i.where.type=="index"&&!i.hasDependency()?d._mergeIndexQuery(i,t):t[i.name]=i}var s={q:{}};for(var o in t)t.hasOwnProperty(o)&&(s.q[o]=t[o].toFql());e&&(s.access_token=e),u("/fql","GET",s,function(e){e.error?f(f("Object","keys",!1,t),"forEach",!0,function(n){t[n].error(new Error(e.error.message))}):f(e.data,"forEach",!0,function(e){t[e.name].setValue(e.fql_result_set)})})},_mergeIndexQuery:function(e,t){var n=e.where.key,r=e.where.value,i="index_"+e.table+"_"+n,s=t[i];s||(s=t[i]=new c,s.fields=[n],s.table=e.table,s.where={type:"in",key:n,value:[]}),l(s.fields,e.fields),l(s.where.value,[r]),s.wait(function(t){e.setValue(f(t,"filter",!0,function(e){return e[n]==r}))})},timer:-1,queue:[]};s.exports=d}),a("legacy:fb.data",["FB","sdk.Data"],function(e,t,n,r){var i=t("FB"),s=t("sdk.Data");i.provide("Data",s)},3),a("legacy:fb.event",["FB","sdk.Event"],function(e,t,n,r){var i=t("FB"),s=t("sdk.Event");i.provide("Event",s),i.provide("EventProvider",s)},3),a("legacy:fb.frictionless",["FB","sdk.Frictionless"],function(e,t,n,r){var i=t("FB"),s=t("sdk.Frictionless");i.provide("Frictionless",s)},3),a("sdk.init",["sdk.Cookie","copyProperties","createArrayFrom","sdk.ErrorHandling","sdk.Event","Log","QueryString","sdk.Runtime","wrapFunction"],function(t,i,s,o,u,a){function b(e){g.getInitialized()&&v.warn("FB.init has already been called - this could indicate a problem"),/number|string/.test(typeof e)&&(v.warn("FB.init called with invalid parameters"),e={apiKey:e}),e=c({logging:!0,status:!0},e||{});var t=e.appId||e.apiKey;/number|string/.test(typeof t)&&g.setClientID(t.toString()),"scope"in e&&g.setScope(e.scope),e.cookie&&(g.setUseCookie(!0),typeof e.cookie=="string"&&l.setDomain(e.cookie)),g.setInitialized(!0),d.fire("init:post",e)}var l=i("sdk.Cookie"),c=i("copyProperties"),h=i("createArrayFrom"),p=i("sdk.ErrorHandling"),d=i("sdk.Event"),v=i("Log"),m=i("QueryString"),g=i("sdk.Runtime"),y=i("wrapFunction");r(function(){var t=/(connect\.facebook\.net|\.facebook\.com\/assets.php).*?#(.*)/;f(h(n.getElementsByTagName("script")),"forEach",!0,function(e){if(e.src){var n=t.exec(e.src);if(n){var r=m.decode(n[2]);for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s=="0"&&(r[i]=0)}b(r)}}}),e.fbAsyncInit&&!e.fbAsyncInit.hasRun&&(e.fbAsyncInit.hasRun=!0,p.unguard(e.fbAsyncInit)())},0),u.exports=b}),a("legacy:fb.init",["FB","sdk.init"],function(e,t,n,r){var i=t("FB"),s=t("sdk.init");i.provide("",{init:s})},3),a("legacy:fb.json",["FB","ManagedError"],function(e,t,n,r){var i=t("FB"),s=t("ManagedError");i.provide("JSON",{stringify:function(e){try{return f("JSON","stringify",!1,e)}catch(t){throw new s(t.message,t)}},parse:function(e){try{return f("JSON","parse",!1,e)}catch(t){throw new s(t.message,t)}}})},3),a("legacy:fb.pay",["FB","copyProperties","sdk.Runtime","sdk.UIServer","sdk.XD"],function(t,n,r,i){n("FB");var s=n("copyProperties"),o=n("sdk.Runtime"),u=n("sdk.UIServer"),a=n("sdk.XD"),l={error_code:1383001,error_message:"An unknown error caused the dialog to be closed"},c=function(e){return function(t){e(t&&t.response?f("JSON","parse",!1,t.response):l)}};s(u.Methods,{"pay.prompt":{transform:function(t){var n=a.handler(c(t.cb),"parent.frames["+(e.name||"iframe_canvas")+"]");t.params.channel=n,a.inform("Pay.Prompt",t.params)}},pay:{size:{width:555,height:120},connectDisplay:"popup",transform:function(t){t.cb=c(t.cb);if(!o.isEnvironment(o.ENVIRONMENTS.CANVAS))return t.params.order_info=f("JSON","stringify",!1,t.params.order_info),t;var n=a.handler(t.cb,"parent.frames["+(e.name||"iframe_canvas")+"]");t.params.channel=n,t.params.uiserver=!0,a.inform("Pay.Prompt",t.params)}}})},3),a("legacy:fb.ua",["FB","UserAgent"],function(e,t,n,r){var i=t("FB"),s=t("UserAgent");i.provide("UA",{nativeApp:s.nativeApp})},3),a("legacy:fb.ui",["FB","sdk.ui"],function(e,t,n,r){var i=t("FB"),s=t("sdk.ui");i.provide("",{ui:s})},3),a("Miny",[],function(e,t,n,r,i,s){function l(e){for(var t=u.encode.length;t<e;t++){var n=t.toString(32).split("");n[n.length-1]=a[parseInt(n[n.length-1],32)],n=n.join(""),u.encode[t]=n,u.decode[n]=t}return u}function c(e){var t=e.match(/\w+|\W+/g),n={};for(var r=0;r<t.length;r++)n[t[r]]=(n[t[r]]||0)+1;var i=f("Object","keys",!1,n);i.sort(function(e,t){return n[e]<n[t]?1:n[t]<n[e]?-1:0});var s=l(i.length).encode;for(r=0;r<i.length;r++)n[i[r]]=s[r];var u=[];for(r=0;r<t.length;r++)u[r]=n[t[r]];for(r=0;r<i.length;r++)i[r]=i[r].replace(/'~'/g,"\\~");return[o,i.length].concat(i).concat(u.join("")).join("~")}function h(e){var t=e.split("~");if(t.shift()!=o)throw new Error("Not a Miny stream");var n=parseInt(t.shift(),10),r=t.pop();r=r.match(/[0-9a-v]*[\-w-zA-Z_]/g);var i=t,s=l(n).decode,u=[];for(var a=0;a<r.length;a++)u[a]=i[s[r[a]]];return u.join("")}var o="Miny1",u={encode:[],decode:{}},a="wxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_".split(""),p={encode:c,decode:h};i.exports=p}),a("sdk.feature",["SDKConfig"],function(e,t,n,r,i,s){function u(e,t){return o.features&&e in o.features?o.features[e]:typeof t!="undefined"?t:null}var o=n("SDKConfig");i.exports=u}),a("runOnce",[],function(e,t,n,r,i,s){function o(e){var t,n;return function(){return t||(t=!0,n=e()),n}}i.exports=o}),a("XFBML",["Assert","copyProperties","createArrayFrom","sdk.DOM","sdk.feature","sdk.Impressions","Log","ObservableMixin","runOnce","UserAgent","SDKConfig"],function(e,t,i,s,o,u){function T(e,t){return e[t]+""}function N(e){return e.scopeName?e.scopeName+":"+e.nodeName:""}function C(e){return w[T(e,"nodeName").toLowerCase()]||w[N(e).toLowerCase()]}function k(e){var t=f(f(T(e,"className"),"trim",!0).split(/\s+/),"filter",!0,function(e){return E.hasOwnProperty(e)});if(t.length===0)return undefined;if(!e.childNodes||e.childNodes.length===0||e.childNodes.length==1&&e.childNodes[0].nodeType==3||e.getAttribute("fb-xfbml-state"))return E[t[0]]}function L(e){var t={};return f(c(e.attributes),"forEach",!0,function(e){t[T(e,"name")]=T(e,"value")}),t}function A(e,t,i){a.isTrue(e&&e.nodeType&&e.nodeType===1&&!!e.getElementsByTagName,"Invalid DOM node passed to FB.XFBML.parse()"),a.isFunction(t,"Invalid callback passed to FB.XFBML.parse()");var s=++S;v.info("XFBML Parsing Start %s",s);var o=1,u=0,l=function(){o--,o===0&&(v.info("XFBML Parsing Finish %s, %s tags found",s,u),t(),x.inform("render",s,u)),a.isTrue(o>=0,"onrender() has been called too many times")};f(c(e.getElementsByTagName("*")),"forEach",!0,function(e){if(!i&&e.getAttribute("fb-xfbml-state"))return;if(e.nodeType!==1)return;var t=k(e),r=L(e);if(!t){t=C(e);if(!t)return;if(p("convert_xfbml",!0)&&b.ie()<9){var s=e;e=n.createElement("div"),h.addCss(e,t.xmlns+"-"+t.localName),f(c(s.childNodes),"forEach",!0,function(t){e.appendChild(t)});for(var a in r)r.hasOwnProperty(a)&&e.setAttribute(a,r[a]);s.parentNode.replaceChild(e,s)}}o++,u++;var d=new t.ctor(e,t.xmlns,t.localName,r);d.subscribe("render",g(function(){e.setAttribute("fb-xfbml-state","rendered"),l()}));var v=function(){e.getAttribute("fb-xfbml-state")=="parsed"?x.subscribe("render.queue",v):(e.setAttribute("fb-xfbml-state","parsed"),d.process())};v()}),x.inform("parse",s,u);var d=3e4;r(function(){o>0&&v.warn("%s tags failed to render in %s ms",o,d)},d),l()}var a=t("Assert"),l=t("copyProperties"),c=t("createArrayFrom"),h=t("sdk.DOM"),p=t("sdk.feature"),d=t("sdk.Impressions"),v=t("Log"),m=t("ObservableMixin"),g=t("runOnce"),y=i("SDKConfig"),b=t("UserAgent"),w={},E={},S=0,x=new m;x.subscribe("render",function(){var e=x.getSubscribers("render.queue");x.clearSubscribers("render.queue"),f(e,"forEach",!0,function(e){e()})}),l(x,{registerTag:function(e){var t=e.xmlns+":"+e.localName;a.isUndefined(w[t],t+" already registered"),w[t]=e,E[e.xmlns+"-"+e.localName]=e},parse:function(e,t){A(e||n.body,t||function(){},!0)},parseNew:function(){A(n.body,function(){},!1)}});var O=function(e,t){Math.random()<y.tagCountLogRate&&r(f(d.log,"bind",!0,null,102,{tag_count:t}),5e3),x.unsubscribe("parse",O)};x.subscribe("parse",O),o.exports=x}),a("PluginPipe",["sdk.Content","copyProperties","guid","insertIframe","Miny","ObservableMixin","sdk.Runtime","UrlMap","UserAgent","XFBML","PluginPipeConfig","SDKConfig"],function(e,t,r,i,s,o){function x(){return!(!m.usePluginPipe||v.getSecure()===undefined||!y.chrome()&&!y.firefox()||!d.enabledApps[v.getClientID()])}function T(){function n(){t--,t===0&&N(e)}var e=S;S=[];if(e.length<=E){f(e,"forEach",!0,function(e){c(e.config)});return}var t=e.length+1;f(e,"forEach",!0,function(e){var t={};for(var r in e.config)t[r]=e.config[r];t.url=g.resolve("www",v.getSecure())+"/plugins/plugin_pipe_shell.php",t.onload=n,c(t)}),n()}function N(e){var t=n.createElement("span");u.appendHidden(t);var r={};f(e,"forEach",!0,function(e){r[e.config.name]={plugin:e.tag,params:e.params}});var i=f("JSON","stringify",!1,r),s=h.encode(i);f(e,"forEach",!0,function(e){var t=n.getElementsByName(e.config.name)[0];t.onload=e.config.onload});var o=g.resolve("www",v.getSecure())+"/plugins/pipe.php",a=l();c({url:"about:blank",root:t,name:a,className:"fb_hidden fb_invisible",onload:function(){u.submitToTarget({url:o,target:a,params:{plugins:s.length<i.length?s:i}})}})}var u=t("sdk.Content"),a=t("copyProperties"),l=t("guid"),c=t("insertIframe"),h=t("Miny"),p=t("ObservableMixin"),d=r("PluginPipeConfig"),v=t("sdk.Runtime"),m=r("SDKConfig"),g=t("UrlMap"),y=t("UserAgent"),b=t("XFBML"),w=new p,E=d.threshold,S=[];b.subscribe("parse",T),a(w,{add:function(e){var t=x();return t&&S.push({config:e._config,tag:e._tag,params:e._params}),t}}),s.exports=w}),a("IframePlugin",["sdk.Auth","sdk.createIframe","sdk.DOM","sdk.Event","guid","Log","ObservableMixin","PluginPipe","QueryString","resolveURI","sdk.Runtime","Type","UrlMap","sdk.XD"],function(t,i,s,o,u,a){function N(e,t,n){if(t||t===0)e.style.width=t+"px";if(n||n===0)e.style.height=n+"px"}function C(e){return function(t){var n={width:t.width,height:t.height,pluginID:e};p.fire("xfbml.resize",n)}}function L(e,t){var n=e[t]||e[t.replace(/_/g,"-")]||e[t.replace(/_/g,"")]||e["data-"+t]||e["data-"+t.replace(/_/g,"-")]||e["data-"+t.replace(/_/g,"")]||undefined;return n}function A(e,t,n,r){f(f("Object","keys",!1,e),"forEach",!0,function(i){e[i]=="text"&&!n[i]&&(n[i]=t.textContent||t.innerText||"",t.setAttribute(i,n[i])),r[i]=k[e[i]](L(n,i))})}function O(e){return e||e==="0"||e===0?parseInt(e,10):undefined}var l=i("sdk.Auth"),c=i("sdk.createIframe"),h=i("sdk.DOM"),p=i("sdk.Event"),d=i("guid"),v=i("Log"),m=i("ObservableMixin"),g=i("PluginPipe"),y=i("QueryString"),b=i("resolveURI"),w=i("sdk.Runtime"),E=i("Type"),S=i("UrlMap"),x=i("sdk.XD"),T={skin:"string",font:"string",width:"px",height:"px",ref:"string",color_scheme:"string"},k={string:function(e){return e},bool:function(e){return e?/^(?:true|1|yes|on)$/i.test(e):undefined},url:function(e){return b(e)},url_maybe:function(e){return e?b(e):e},hostname:function(t){return t||e.location.hostname},px:function(e){return/^(\d+)(?:px)?$/.test(e)?parseInt(RegExp.$1,10):undefined},text:function(e){return e}},M=E.extend({constructor:function(t,r,i,s){this.parent(),i=i.replace(/-/g,"_");var o=L(s,"plugin_id");this.subscribe("xd.resize",C(o)),this.subscribe("xd.resize.flow",C(o)),this.subscribe("xd.resize.flow",f(function(e){N(this._config.root,O(e.width),O(e.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.resize",f(function(e){N(this._config.root,O(e.width),O(e.height)),N(this._iframe,O(e.width),O(e.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this)),this.subscribe("xd.resize.iframe",f(function(e){N(this._iframe,O(e.width),O(e.height)),this.updateLift(),clearTimeout(this._timeoutID)},"bind",!0,this));var u=w.getSecure()||e.location.protocol=="https:",a=S.resolve("www",u)+"/plugins/"+i+".php?",c={};A(this.getParams(),t,s,c),A(T,t,s,c),c.app_id=w.getClientID(),c.locale=w.getLocale(),c.sdk="joey";var p=f(function(e){this.inform("xd."+e.type,e)},"bind",!0,this);c.channel=x.handler(p,"parent.parent",!0),h.addCss(t,"fb_iframe_widget");var v=d();this.subscribe("xd.verify",function(e){x.sendToFacebook(v,{method:"xd/verify",params:f("JSON","stringify",!1,e.token)})}),this.subscribe("xd.refreshLoginStatus",f(l.getLoginStatus,"bind",!0,l,f(this.inform,"bind",!0,this,"login.status"),!0));var m=n.createElement("span");m.style.width="0px",m.style.height="0px",this._element=t,this._ns=r,this._tag=i,this._params=c,this._config={root:m,url:a+y.encode(c),name:v,width:c.width||1e3,height:c.height||1e3,onload:f(function(){this.inform("render")},"bind",!0,this)}},process:function(){this._element.innerHTML="",this._element.appendChild(this._config.root),this._timeoutID=r(f(function(){this._iframe&&N(this._iframe,0,0),v.warn("%s:%s failed to resize in 45s",this._ns,this._tag)},"bind",!0,this),45e3),g.add(this)||(this._iframe=c(this._config))},updateLift:function(){var e=this._iframe.style.width===this._config.root.style.width&&this._iframe.style.height===this._config.root.style.height;h[e?"removeCss":"addCss"](this._iframe,"fb_iframe_widget_lift")}},m);M.getVal=L,M.withParams=function(e){return M.extend({getParams:function(){return e}})},u.exports=M}),a("PluginTags",[],function(e,t,n,r,i,s){var o={activity:{border_color:"string",filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",recommendations:"bool",site:"hostname"},create_event_button:{},degrees:{href:"url",limit_profile_visibility:"bool"},facepile:{href:"string",action:"string",size:"string",max_rows:"string",show_count:"bool"},friendpile:{href:"string",action:"string",size:"string",max_rows:"string"},follow:{href:"url",layout:"string",show_faces:"bool"},open_graph:{href:"url",layout:"string",show_faces:"bool",action:"string",action_properties:"string"},page_events:{href:"url"},privacy_selector:{},recommendations:{border_color:"string",filter:"string",action:"string",max_age:"string",linktarget:"string",header:"bool",site:"hostname"},share_button:{href:"url",type:"string"},shared_activity:{header:"bool"},send_to_mobile:{max_rows:"string",show_faces:"bool",size:"string"},subscribe:{href:"url",layout:"string",show_faces:"bool"},want:{href:"url",layout:"string",show_faces:"bool"}};i.exports=o}),a("sdk.Arbiter",[],function(e,t,n,r,i,s){var o={BEHAVIOR_EVENT:"e",BEHAVIOR_PERSISTENT:"p",BEHAVIOR_STATE:"s"};i.exports=o}),a("sdk.XFBML.Element",["sdk.DOM","Type","ObservableMixin"],function(e,t,r,i,s,o){var u=t("sdk.DOM"),a=t("Type"),l=t("ObservableMixin"),c=a.extend({constructor:function(e){this.parent(),this.dom=e},fire:function(){this.inform.apply(this,arguments)},getAttribute:function(e,t,n){var r=u.getAttr(this.dom,e);return r?n?n(r):r:t},_getBoolAttribute:function(e,t){var n=u.getBoolAttr(this.dom,e);return n===null?t:n},_getPxAttribute:function(e,t){return this.getAttribute(e,t,function(e){var n=parseInt(e.replace("px",""),10);return isNaN(n)?t:n})},_getAttributeFromList:function(e,t,n){return this.getAttribute(e,t,function(e){return e=e.toLowerCase(),f(n,"indexOf",!0,e)>-1?e:t})},isValid:function(){for(var e=this.dom;e;e=e.parentNode)if(e==n.body)return!0},clear:function(){u.html(this.dom,"")}},l);s.exports=c}),a("sdk.XFBML.IframeWidget",["sdk.Arbiter","sdk.Auth","sdk.Content","copyProperties","sdk.DOM","sdk.Event","sdk.XFBML.Element","guid","insertIframe","QueryString","sdk.Runtime","sdk.ui","UrlMap","sdk.XD"],function(t,r,i,s,o,u){function k(){var e={};for(var t in C){var n=C[t];e[t]={widget:n.getUrlBits().name,params:n._getQS()}}return e}function L(){if(!N)return;var t=k(),r={widget_pipe:f("JSON","stringify",!1,t),href:e.location,site:location.hostname,channel:N.getChannelUrl(),api_key:b.getClientID(),locale:b.getLocale(),sdk:"joey"},i=m(),s=N.dom,o=s.appendChild(n.createElement("span"));g({url:"about:blank",root:o,name:i,className:"fb_hidden fb_invisible",onload:function(){c.submitToTarget({url:E.resolve("www")+"plugins/pipe/",target:i,params:r},1)}})}var a=r("sdk.Arbiter"),l=r("sdk.Auth"),c=r("sdk.Content"),h=r("copyProperties"),p=r("sdk.DOM"),d=r("sdk.Event"),v=r("sdk.XFBML.Element"),m=r("guid"),g=r("insertIframe"),y=r("QueryString"),b=r("sdk.Runtime"),w=r("sdk.ui"),E=r("UrlMap"),S=r("sdk.XD"),x=v.extend({_iframeName:null,_showLoader:!0,_refreshOnAuthChange:!1,_allowReProcess:!1,_fetchPreCachedLoader:!1,_visibleAfter:"load",_widgetPipeEnabled:!1,_borderReset:!1,getUrlBits:function(){throw new Error("Inheriting class needs to implement getUrlBits().")},setupAndValidate:function(){return!0},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return this._iframeName},getIframeTitle:function(){},getChannelUrl:function(){if(!this._channelUrl){var e=this;this._channelUrl=S.handler(function(t){e.fire("xd."+t.type,t)},"parent.parent",!0)}return this._channelUrl},getIframeNode:function(){return this.dom.getElementsByTagName("iframe")[0]},arbiterInform:function(e,t,n){S.sendToFacebook(this.getIframeName(),{method:e,params:f("JSON","stringify",!1,t||{}),behavior:n||a.BEHAVIOR_PERSISTENT})},_arbiterInform:function(e,t,n){var r='parent.frames["'+this.getIframeNode().name+'"]';S.inform(e,t,r,n)},getDefaultWebDomain:function(){return E.resolve("www")},process:function(e){if(this._done){if(!this._allowReProcess&&!e)return;this.clear()}else this._oneTimeSetup();this._done=!0,this._iframeName=this.getIframeName()||this._iframeName||m();if(!this.setupAndValidate()){this.fire("render");return}this._showLoader&&this._addLoader(),p.addCss(this.dom,"fb_iframe_widget"),this._visibleAfter!="immediate"?p.addCss(this.dom,"fb_hide_iframes"):this.subscribe("iframe.onload",f(this.fire,"bind",!0,this,"render"));var t=this.getSize()||{},r=this.getFullyQualifiedURL();t.width=="100%"&&p.addCss(this.dom,"fb_iframe_widget_fluid"),this.clear(),g({url:r,root:this.dom.appendChild(n.createElement("span")),name:this._iframeName,title:this.getIframeTitle(),className:b.getRtl()?"fb_rtl":"fb_ltr",height:t.height,width:t.width,onload:f(this.fire,"bind",!0,this,"iframe.onload")}),this._resizeFlow(t),this.loaded=!1,this.subscribe("iframe.onload",f(function(){this.loaded=!0},"bind",!0,this))},generateWidgetPipeIframeName:function(){return T++,"fb_iframe_"+T},getFullyQualifiedURL:function(){var e=this._getURL();e+="?"+y.encode(this._getQS());if(e.length>2e3){e="about:blank";var t=f(function(){this._postRequest(),this.unsubscribe("iframe.onload",t)},"bind",!0,this);this.subscribe("iframe.onload",t)}return e},_getWidgetPipeShell:function(){return E.resolve("www")+"/common/widget_pipe_shell.php"},_oneTimeSetup:function(){this.subscribe("xd.resize",f(this._handleResizeMsg,"bind",!0,this)),this.subscribe("xd.resize",f(this._bubbleResizeEvent,"bind",!0,this)),this.subscribe("xd.resize.iframe",f(this._resizeIframe,"bind",!0,this)),this.subscribe("xd.resize.flow",f(this._resizeFlow,"bind",!0,this)),this.subscribe("xd.resize.flow",f(this._bubbleResizeEvent,"bind",!0,this)),this.subscribe("xd.refreshLoginStatus",function(){l.getLoginStatus(function(){},!0)}),this.subscribe("xd.logout",function(){w({method:"auth.logout",display:"hidden"},function(){})}),this._refreshOnAuthChange&&this._setupAuthRefresh(),this._visibleAfter=="load"&&this.subscribe("iframe.onload",f(this._makeVisible,"bind",!0,this)),this.subscribe("xd.verify",f(function(e){this.arbiterInform("xd/verify",e.token)},"bind",!0,this)),this.oneTimeSetup()},_makeVisible:function(){this._removeLoader(),p.removeCss(this.dom,"fb_hide_iframes"),this.fire("render")},_setupAuthRefresh:function(){l.getLoginStatus(f(function(e){var t=e.status;d.subscribe("auth.statusChange",f(function(e){if(!this.isValid())return;(t=="unknown"||e.status=="unknown")&&this.process(!0),t=e.status},"bind",!0,this))},"bind",!0,this))},_handleResizeMsg:function(e){if(!this.isValid())return;this._resizeIframe(e),this._resizeFlow(e),this._borderReset||(this.getIframeNode().style.border="none",this._borderReset=!0),this._makeVisible()},_bubbleResizeEvent:function(e){var t={height:e.height,width:e.width,pluginID:this.getAttribute("plugin-id")};d.fire("xfbml.resize",t)},_resizeIframe:function(e){var t=this.getIframeNode();e.height&&(t.style.height=e.height+"px"),e.width&&(t.style.width=e.width+"px"),this._updateIframeZIndex()},_resizeFlow:function(e){var t=this.dom.getElementsByTagName("span")[0];e.height&&(t.style.height=e.height+"px"),e.width&&(t.style.width=e.width+"px"),this._updateIframeZIndex()},_updateIframeZIndex:function(){var e=this.dom.getElementsByTagName("span")[0],t=this.getIframeNode(),n=t.style.height===e.style.height&&t.style.width===e.style.width,r=n?"removeCss":"addCss";p[r](t,"fb_iframe_widget_lift")},_addLoader:function(){this._loaderDiv||(p.addCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv=n.createElement("div"),this._loaderDiv.className="FB_Loader",this.dom.appendChild(this._loaderDiv))},_removeLoader:function(){this._loaderDiv&&(p.removeCss(this.dom,"fb_iframe_widget_loader"),this._loaderDiv.parentNode&&this._loaderDiv.parentNode.removeChild(this._loaderDiv),this._loaderDiv=null)},_getQS:function(){return h({api_key:b.getClientID(),locale:b.getLocale(),sdk:"joey",ref:this.getAttribute("ref")},this.getUrlBits().params)},_getURL:function(){var e=this.getDefaultWebDomain(),t="";return e+"/plugins/"+t+this.getUrlBits().name+".php"},_postRequest:function(){c.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()})}}),T=0,N=null,C={};o.exports=x}),a("sdk.XFBML.Comments",["sdk.Event","sdk.XFBML.IframeWidget","QueryString","sdk.Runtime","UrlMap","UserAgent","SDKConfig"],function(t,r,i,s,o,u){var a=r("sdk.Event"),l=r("sdk.XFBML.IframeWidget"),c=r("QueryString"),h=r("sdk.Runtime"),p=i("SDKConfig"),d=r("UrlMap"),v=r("UserAgent"),m=l.extend({_visibleAfter:"immediate",_refreshOnAuthChange:!0,setupAndValidate:function(){var t={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute("colorscheme"),numposts:this.getAttribute("num-posts",10),width:this._getPxAttribute("width",550),href:this.getAttribute("href"),permalink:this.getAttribute("permalink"),publish_feed:this.getAttribute("publish_feed"),order_by:this.getAttribute("order_by"),mobile:this._getBoolAttribute("mobile")};p.initSitevars.enableMobileComments&&v.mobile()&&t.mobile!==!1&&(t.mobile=!0,delete t.width);if(!t.href){t.migrated=this.getAttribute("migrated"),t.xid=this.getAttribute("xid"),t.title=this.getAttribute("title",n.title),t.url=this.getAttribute("url",n.URL),t.quiet=this.getAttribute("quiet"),t.reverse=this.getAttribute("reverse"),t.simple=this.getAttribute("simple"),t.css=this.getAttribute("css"),t.notify=this.getAttribute("notify");if(!t.xid){var r=f(n.URL,"indexOf",!0,"#");r>0?t.xid=encodeURIComponent(n.URL.substring(0,r)):t.xid=encodeURIComponent(n.URL)}t.migrated&&(t.href=d.resolve("www")+"/plugins/comments_v1.php?"+"app_id="+h.getClientID()+"&xid="+encodeURIComponent(t.xid)+"&url="+encodeURIComponent(t.url))}else{var i=this.getAttribute("fb_comment_id");i||(i=c.decode(n.URL.substring(f(n.URL,"indexOf",!0,"?")+1)).fb_comment_id,i&&f(i,"indexOf",!0,"#")>0&&(i=i.substring(0,f(i,"indexOf",!0,"#")))),i&&(t.fb_comment_id=i,this.subscribe("render",f(function(){e.location.hash||(e.location.hash=this.getIframeNode().id)},"bind",!0,this)))}return this._attr=t,!0},oneTimeSetup:function(){this.subscribe("xd.addComment",f(this._handleCommentMsg,"bind",!0,this)),this.subscribe("xd.commentCreated",f(this._handleCommentCreatedMsg,"bind",!0,this)),this.subscribe("xd.commentRemoved",f(this._handleCommentRemovedMsg,"bind",!0,this))},getSize:function(){return this._attr.mobile?{width:"100%",height:160}:{width:this._attr.width,height:160}},getUrlBits:function(){return{name:"comments",params:this._attr}},getDefaultWebDomain:function(){return d.resolve(this._attr.mobile?"m":"www",!0)},_handleCommentMsg:function(e){if(!this.isValid())return;a.fire("comments.add",{post:e.post,user:e.user,widget:this})},_handleCommentCreatedMsg:function(e){if(!this.isValid())return;var t={href:e.href,commentID:e.commentID,parentCommentID:e.parentCommentID};a.fire("comment.create",t)},_handleCommentRemovedMsg:function(e){if(!this.isValid())return;var t={href:e.href,commentID:e.commentID};a.fire("comment.remove",t)}});o.exports=m}),a("sdk.XFBML.CommentsCount",["sdk.Data","sdk.DOM","sdk.XFBML.Element","sprintf"],function(t,n,r,i,s,o){var u=n("sdk.Data"),a=n("sdk.DOM"),l=n("sdk.XFBML.Element"),c=n("sprintf"),h=l.extend({process:function(){a.addCss(this.dom,"fb_comments_count_zero");var t=this.getAttribute("href",e.location.href);u._selectByIndex(["commentsbox_count"],"link_stat","url",t).wait(f(function(e){var t=e[0].commentsbox_count;a.html(this.dom,c('<span class="fb_comments_count">%s</span>',t)),t>0&&a.removeCss(this.dom,"fb_comments_count_zero"),this.fire("render")},"bind",!0,this))}});s.exports=h}),a("sdk.Anim",["sdk.DOM"],function(e,t,n,r,s,o){var u=t("sdk.DOM"),a={ate:function(e,t,n,r){n=!isNaN(parseFloat(n))&&n>=0?n:750;var s=40,o={},a={},l=null,c=i(f(function(){l||(l=f("Date","now",!1));var i=1;n!=0&&(i=Math.min((f("Date","now",!1)-l)/n,1));for(var s in t)if(t.hasOwnProperty(s)){var h=t[s];if(!o[s]){var d=u.getStyle(e,s);if(d===!1)return;o[s]=this._parseCSS(d+"")}a[s]||(a[s]=this._parseCSS(h.toString()));var v="";f(o[s],"forEach",!0,function(e,t){isNaN(a[s][t].numPart)&&a[s][t].textPart=="?"?v=e.numPart+e.textPart:isNaN(e.numPart)?v=e.textPart:v+=e.numPart+Math.ceil((a[s][t].numPart-e.numPart)*Math.sin(Math.PI/2*i))+a[s][t].textPart+" "}),u.setStyle(e,s,v)}i==1&&(clearInterval(c),r&&r(e))},"bind",!0,this),s)},_parseCSS:function(e){var t=[];return f(e.split(" "),"forEach",!0,function(e){var n=parseInt(e,10);t.push({numPart:n,textPart:e.replace(n,"")})}),t}};s.exports=a}),a("escapeHTML",[],function(e,t,n,r,i,s){function a(e){return e.replace(o,function(e){return u[e]})}var o=/[&<>"'\/]/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;","/":"&#x2F;"};i.exports=a}),a("sdk.Helper",["sdk.ErrorHandling","sdk.Event","safeEval","UrlMap"],function(t,n,r,i,s,o){var u=n("sdk.ErrorHandling"),a=n("sdk.Event"),f=n("safeEval"),l=n("UrlMap"),c={isUser:function(e){return e<22e8||e>=1e14&&e<=0x5b0a58f100ef||e>=89e12&&e<=89999999999999},upperCaseFirstChar:function(e){return e.length>0?e.substr(0,1).toUpperCase()+e.substr(1):e},getProfileLink:function(e,t,n){return n=n||(e?l.resolve("www")+"/profile.php?id="+e.uid:null),n&&(t='<a class="fb_link" href="'+n+'">'+t+"</a>"),t},invokeHandler:function(e,t,n){e&&(typeof e=="string"?u.unguard(f)(e):e.apply&&u.unguard(e).apply(t,n||[]))},fireEvent:function(e,t){var n=t._attr.href;t.fire(e,n),a.fire(e,n,t)},executeFunctionByName:function(t){var n=Array.prototype.slice.call(arguments,1),r=t.split("."),i=r.pop(),s=e;for(var o=0;o<r.length;o++)s=s[r[o]];return s[i].apply(this,n)}};s.exports=c}),a("sdk.XFBML.ConnectBar",["sdk.Anim","sdk.api","sdk.Auth","createArrayFrom","sdk.Data","sdk.DOM","sdk.XFBML.Element","escapeHTML","sdk.Event","format","sdk.Helper","sdk.Insights","sdk.Intl","sdk.Runtime","UrlMap","UserAgent","ConnectBarConfig"],function(t,r,i,s,o,u){var a=r("sdk.Anim"),l=r("sdk.api"),c=r("sdk.Auth"),h=r("createArrayFrom"),p=i("ConnectBarConfig"),d=r("sdk.Data"),v=r("sdk.DOM"),m=r("sdk.XFBML.Element"),g=r("escapeHTML"),y=r("sdk.Event"),b=r("format"),w=r("sdk.Helper"),E=r("sdk.Insights"),S=r("sdk.Intl"),x=r("sdk.Runtime"),T=r("UrlMap"),N=r("UserAgent"),C=m.extend({_initialHeight:null,_initTopMargin:0,_picFieldName:"pic_square",_page:null,_displayed:!1,_notDisplayed:!1,_container:null,_animationSpeed:0,process:function(){c.getLoginStatus(f(function(e){y.monitor("auth.statusChange",f(function(){return this.isValid()&&x.getLoginStatus()=="connected"?(this._uid=x.getUserID(),l({method:"Connect.shouldShowConnectBar"},f(function(e){e!=2?(this._animationSpeed=e==0?750:0,this._showBar()):this._noRender()},"bind",!0,this))):this._noRender(),!1},"bind",!0,this))},"bind",!0,this))},_showBar:function(){var e=d._selectByIndex(["first_name","profile_url",this._picFieldName],"user","uid",this._uid),t=d._selectByIndex(["display_name"],"application","api_key",x.getClientID());d.waitOn([e,t],f(function(e){e[0][0].site_name=e[1][0].display_name,this._displayed||(this._displayed=!0,this._notDisplayed=!1,this._renderConnectBar(e[0][0]),this.fire("render"),E.impression({lid:104,name:"widget_load"}),this.fire("connectbar.ondisplay"),y.fire("connectbar.ondisplay",this),w.invokeHandler(this.getAttribute("on-display"),this))},"bind",!0,this))},_noRender:function(){this._displayed&&(this._displayed=!1,this._closeConnectBar()),this._notDisplayed||(this._notDisplayed=!0,this.fire("render"),this.fire("connectbar.onnotdisplay"),y.fire("connectbar.onnotdisplay",this),w.invokeHandler(this.getAttribute("on-not-display"),this))},_renderConnectBar:function(t){var r=n.createElement("div"),i=n.createElement("div");r.className="fb_connect_bar",i.className="fb_reset fb_connect_bar_container",i.appendChild(r),n.body.appendChild(i),this._container=i,this._initialHeight=Math.round(parseFloat(v.getStyle(i,"height"))+parseFloat(v.getStyle(i,"borderBottomWidth"))),v.html(r,b('<div class="fb_buttons"><a href="#" class="fb_bar_close"><img src="{1}" alt="{2}" title="{2}"/></a></div><a href="{7}" class="fb_profile" target="_blank"><img src="{3}" alt="{4}" title="{4}"/></a>{5} <span><a href="{8}" class="fb_learn_more" target="_blank">{6}</a> &ndash; <a href="#" class="fb_no_thanks">{0}</a></span>',S.tx._("No Thanks"),T.resolve("fbcdn")+"/"+p.imgs.buttonUrl,S.tx._("Close"),t[this._picFieldName]||T.resolve("fbcdn")+"/"+p.imgs.missingProfileUrl,g(t.first_name),S.tx._("Hi {firstName}. <strong>{siteName}</strong> is using Facebook to personalize your experience.",{firstName:g(t.first_name),siteName:g(t.site_name)}),S.tx._("Learn More"),t.profile_url,T.resolve("www")+"/sitetour/connect.php")),f(h(r.getElementsByTagName("a")),"forEach",!0,function(e){e.onclick=f(this._clickHandler,"bind",!0,this)},this),this._page=n.body;var s=0;this._page.parentNode?s=Math.round((parseFloat(v.getStyle(this._page.parentNode,"height"))-parseFloat(v.getStyle(this._page,"height")))/2):s=parseInt(v.getStyle(this._page,"marginTop"),10),s=isNaN(s)?0:s,this._initTopMargin=s,e.XMLHttpRequest?(i.style.top=-1*this._initialHeight+"px",a.ate(i,{top:"0px"},this._animationSpeed)):i.className+=" fb_connect_bar_container_ie6";var o={marginTop:this._initTopMargin+this._initialHeight+"px"};N.ie()?o.backgroundPositionY=this._initialHeight+"px":o.backgroundPosition="? "+this._initialHeight+"px",a.ate(this._page,o,this._animationSpeed)},_clickHandler:function(t){t=t||e.event;var n=t.target||t.srcElement;while(n.nodeName!="A")n=n.parentNode;switch(n.className){case"fb_bar_close":l({method:"Connect.connectBarMarkAcknowledged"}),E.impression({lid:104,name:"widget_user_closed"}),this._closeConnectBar();break;case"fb_learn_more":case"fb_profile":e.open(n.href);break;case"fb_no_thanks":this._closeConnectBar(),l({method:"Connect.connectBarMarkAcknowledged"}),E.impression({lid:104,name:"widget_user_no_thanks"}),l({method:"auth.revokeAuthorization",block:!0},f(function(){this.fire("connectbar.ondeauth"),y.fire("connectbar.ondeauth",this),w.invokeHandler(this.getAttribute("on-deauth"),this),this._getBoolAttribute("auto-refresh",!0)&&e.location.reload()},"bind",!0,this))}return!1},_closeConnectBar:function(){this._notDisplayed=!0;var e={marginTop:this._initTopMargin+"px"};N.ie()?e.backgroundPositionY="0px":e.backgroundPosition="? 0px";var t=this._animationSpeed==0?0:300;a.ate(this._page,e,t),a.ate(this._container,{top:-1*this._initialHeight+"px"},t,function(e){e.parentNode.removeChild(e)}),this.fire("connectbar.onclose"),y.fire("connectbar.onclose",this),w.invokeHandler(this.getAttribute("on-close"),this)}});o.exports=C}),a("sdk.XFBML.Fan",["sdk.XFBML.IframeWidget","sdk.Runtime","Log"],function(e,t,n,r,i,s){var o=t("sdk.XFBML.IframeWidget"),u=t("sdk.Runtime"),a=t("Log"),f=o.extend({_visibleAfter:"load",setupAndValidate:function(){this._attr={api_key:u.getClientID(),connections:this.getAttribute("connections","10"),css:this.getAttribute("css"),height:this._getPxAttribute("height"),id:this.getAttribute("profile-id"),logobar:this._getBoolAttribute("logo-bar"),name:this.getAttribute("name"),stream:this._getBoolAttribute("stream",!0),width:this._getPxAttribute("width",300)};if(!this._attr.id&&!this._attr.name)return a.error('<fb:fan> requires one of the "id" or "name" attributes.'),!1;var e=this._attr.height;return e||((!this._attr.connections||this._attr.connections==="0")&&!this._attr.stream?e=65:!this._attr.connections||this._attr.connections==="0"?e=375:this._attr.stream?e=550:e=250),this._attr.logobar&&(e+=25),this._attr.height=e,!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"fan",params:this._attr}}});i.exports=f}),a("sdk.XFBML.EdgeCommentWidget",["sdk.XFBML.IframeWidget","sdk.DOM"],function(e,t,n,r,i,s){var o=t("sdk.XFBML.IframeWidget"),u=t("sdk.DOM"),a=1e4,f=o.extend({constructor:function(e){this.parent(e.commentNode),this._iframeWidth=e.width+1,this._iframeHeight=e.height,this._attr={master_frame_name:e.masterFrameName,offsetX:e.relativeWidthOffset-e.paddingLeft},this.dom=e.commentNode,this.dom.style.top=e.relativeHeightOffset+"px",this.dom.style.left=e.relativeWidthOffset+"px",this.dom.style.zIndex=a++,u.addCss(this.dom,"fb_edge_comment_widget")},_visibleAfter:"load",_showLoader:!1,getSize:function(){return{width:this._iframeWidth,height:this._iframeHeight}},getUrlBits:function(){return{name:"comment_widget_shell",params:this._attr}}});i.exports=f}),a("sdk.XFBML.EdgeWidget",["sdk.XFBML.IframeWidget","sdk.XFBML.EdgeCommentWidget","sdk.DOM","sdk.Helper","sdk.Runtime"],function(t,r,i,s,o,u){var a=r("sdk.XFBML.IframeWidget"),l=r("sdk.XFBML.EdgeCommentWidget"),c=r("sdk.DOM"),h=r("sdk.Helper"),p=r("sdk.Runtime"),d=a.extend({_visibleAfter:"immediate",_showLoader:!1,_rootPadding:null,setupAndValidate:function(){return c.addCss(this.dom,"fb_edge_widget_with_comment"),this._attr={channel_url:this.getChannelUrl(),debug:this._getBoolAttribute("debug"),href:this.getAttribute("href",e.location.href),is_permalink:this._getBoolAttribute("is-permalink"),node_type:this.getAttribute("node-type","link"),width:this._getWidgetWidth(),font:this.getAttribute("font"),layout:this._getLayout(),colorscheme:this.getAttribute("color-scheme","light"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),show_faces:this._shouldShowFaces(),no_resize:this._getBoolAttribute("no_resize"),send:this._getBoolAttribute("send"),url_map:this.getAttribute("url_map"),extended_social_context:this._getBoolAttribute("extended_social_context",!1)},this._rootPadding={left:parseFloat(c.getStyle(this.dom,"paddingLeft")),top:parseFloat(c.getStyle(this.dom,"paddingTop"))},!0},oneTimeSetup:function(){this.subscribe("xd.authPrompted",f(this._onAuthPrompt,"bind",!0,this)),this.subscribe("xd.edgeCreated",f(this._onEdgeCreate,"bind",!0,this)),this.subscribe("xd.edgeRemoved",f(this._onEdgeRemove,"bind",!0,this)),this.subscribe("xd.presentEdgeCommentDialog",f(this._handleEdgeCommentDialogPresentation,"bind",!0,this)),this.subscribe("xd.dismissEdgeCommentDialog",f(this._handleEdgeCommentDialogDismissal,"bind",!0,this)),this.subscribe("xd.hideEdgeCommentDialog",f(this._handleEdgeCommentDialogHide,"bind",!0,this)),this.subscribe("xd.showEdgeCommentDialog",f(this._handleEdgeCommentDialogShow,"bind",!0,this))},getSize:function(){return{width:this._getWidgetWidth(),height:this._getWidgetHeight()}},_getWidgetHeight:function(){var e=this._getLayout(),t=this._shouldShowFaces()?"show":"hide",n=this._getBoolAttribute("send"),r=65+(n?25:0),i={standard:{show:80,hide:35},box_count:{show:r,hide:r},button_count:{show:21,hide:21},simple:{show:20,hide:20}};return i[e][t]},_getWidgetWidth:function(){var e=this._getLayout(),t=this._getBoolAttribute("send"),n=this._shouldShowFaces()?"show":"hide",r=this.getAttribute("action")==="recommend",i=(r?265:225)+(t?60:0),s=(r?130:90)+(t?60:0),o=this.getAttribute("action")==="recommend"?100:55,u=this.getAttribute("action")==="recommend"?90:50,a={standard:{show:450,hide:450},box_count:{show:o,hide:o},button_count:{show:s,hide:s},simple:{show:u,hide:u}},f=a[e][n],l=this._getPxAttribute("width",f),c={standard:{min:i,max:900},box_count:{min:o,max:900},button_count:{min:s,max:900},simple:{min:49,max:900}};return l<c[e].min?l=c[e].min:l>c[e].max&&(l=c[e].max),l},_getLayout:function(){return this._getAttributeFromList("layout","standard",["standard","button_count","box_count","simple"])},_shouldShowFaces:function(){return this._getLayout()==="standard"&&this._getBoolAttribute("show-faces",!0)},_handleEdgeCommentDialogPresentation:function(e){if(!this.isValid())return;var t=n.createElement("span");this._commentSlave=this._createEdgeCommentWidget(e,t),this.dom.appendChild(t),this._commentSlave.process(),this._commentWidgetNode=t},_createEdgeCommentWidget:function(e,t){var n={commentNode:t,externalUrl:e.externalURL,masterFrameName:e.masterFrameName,layout:this._getLayout(),relativeHeightOffset:this._getHeightOffset(e),relativeWidthOffset:this._getWidthOffset(e),anchorTargetX:parseFloat(e["query[anchorTargetX]"])+this._rootPadding.left,anchorTargetY:parseFloat(e["query[anchorTargetY]"])+this._rootPadding.top,width:parseFloat(e.width),height:parseFloat(e.height),paddingLeft:this._rootPadding.left};return new l(n)},_getHeightOffset:function(e){return parseFloat(e["anchorGeometry[y]"])+parseFloat(e["anchorPosition[y]"])+this._rootPadding.top},_getWidthOffset:function(e){var t=parseFloat(e["anchorPosition[x]"])+this._rootPadding.left,n=c.getPosition(this.dom).x,r=this.dom.offsetWidth,i=c.getViewportInfo().width,s=parseFloat(e.width),o=!1;return p.getRtl()?o=s<n:n+s>i&&(o=!0),o&&(t+=parseFloat(e["anchorGeometry[x]"])-s),t},_getCommonEdgeCommentWidgetOpts:function(e,t){return{colorscheme:this._attr.colorscheme,commentNode:t,controllerID:e.controllerID,nodeImageURL:e.nodeImageURL,nodeRef:this._attr.ref,nodeTitle:e.nodeTitle,nodeURL:e.nodeURL,nodeSummary:e.nodeSummary,width:parseFloat(e.width),height:parseFloat(e.height),relativeHeightOffset:this._getHeightOffset(e),relativeWidthOffset:this._getWidthOffset(e),error:e.error,siderender:e.siderender,extended_social_context:e.extended_social_context,anchorTargetX:parseFloat(e["query[anchorTargetX]"])+this._rootPadding.left,anchorTargetY:parseFloat(e["query[anchorTargetY]"])+this._rootPadding.top}},_handleEdgeCommentDialogDismissal:function(e){this._commentWidgetNode&&(this.dom.removeChild(this._commentWidgetNode),delete this._commentWidgetNode)},_handleEdgeCommentDialogHide:function(){this._commentWidgetNode&&(this._commentWidgetNode.style.display="none")},_handleEdgeCommentDialogShow:function(){this._commentWidgetNode&&(this._commentWidgetNode.style.display="block")},_fireEventAndInvokeHandler:function(e,t){h.fireEvent(e,this),h.invokeHandler(this.getAttribute(t),this,[this._attr.href])},_onEdgeCreate:function(){this._fireEventAndInvokeHandler("edge.create","on-create")},_onEdgeRemove:function(){this._fireEventAndInvokeHandler("edge.remove","on-remove")},_onAuthPrompt:function(){this._fireEventAndInvokeHandler("auth.prompt","on-prompt")}});o.exports=d}),a("sdk.XFBML.SendButtonFormWidget",["sdk.XFBML.EdgeCommentWidget","sdk.DOM","sdk.Event"],function(e,t,n,r,i,s){var o=t("sdk.XFBML.EdgeCommentWidget"),u=t("sdk.DOM"),a=t("sdk.Event"),l=o.extend({constructor:function(e){this.parent(e),u.addCss(this.dom,"fb_send_button_form_widget"),u.addCss(this.dom,e.colorscheme),u.addCss(this.dom,typeof e.siderender!="undefined"&&e.siderender?"siderender":""),this._attr.nodeImageURL=e.nodeImageURL,this._attr.nodeRef=e.nodeRef,this._attr.nodeTitle=e.nodeTitle,this._attr.nodeURL=e.nodeURL,this._attr.nodeSummary=e.nodeSummary,this._attr.offsetX=e.relativeWidthOffset,this._attr.offsetY=e.relativeHeightOffset,this._attr.anchorTargetX=e.anchorTargetX,this._attr.anchorTargetY=e.anchorTargetY,this._attr.channel=this.getChannelUrl(),this._attr.controllerID=e.controllerID,this._attr.colorscheme=e.colorscheme,this._attr.error=e.error,this._attr.siderender=e.siderender,this._attr.extended_social_context=e.extended_social_context},_showLoader:!0,getUrlBits:function(){return{name:"send_button_form_shell",params:this._attr}},oneTimeSetup:function(){this.subscribe("xd.messageSent",f(this._onMessageSent,"bind",!0,this))},_onMessageSent:function(){a.fire("message.send",this._attr.nodeURL,this)}});i.exports=l}),a("sdk.XFBML.Like",["sdk.XFBML.EdgeWidget","sdk.XFBML.SendButtonFormWidget"],function(e,t,n,r,i,s){var o=t("sdk.XFBML.EdgeWidget"),u=t("sdk.XFBML.SendButtonFormWidget"),a=o.extend({getUrlBits:function(){return{name:"like",params:this._attr}},_createEdgeCommentWidget:function(e,t){if("send"in this._attr&&"widget_type"in e&&e.widget_type=="send"){var n=this._getCommonEdgeCommentWidgetOpts(e,t);return new u(n)}return this.parentCall("_createEdgeCommentWidget",e,t)},getIframeTitle:function(){return"Like this content on Facebook."}});i.exports=a}),a("sdk.XFBML.LikeBox",["sdk.XFBML.EdgeWidget","sdk.Helper","Log","sdk.Runtime"],function(e,t,n,r,i,s){var o=t("sdk.XFBML.EdgeWidget"),u=t("sdk.Helper"),a=t("Log"),l=t("sdk.Runtime"),c=o.extend({_visibleAfter:"load",setupAndValidate:function(){this._attr={channel:this.getChannelUrl(),api_key:l.getClientID(),connections:this.getAttribute("connections"),css:this.getAttribute("css"),height:this.getAttribute("height"),id:this.getAttribute("profile-id"),header:this._getBoolAttribute("header",!0),name:this.getAttribute("name"),show_faces:this._getBoolAttribute("show-faces",!0),stream:this._getBoolAttribute("stream",!0),width:this._getPxAttribute("width",300),href:this.getAttribute("href"),colorscheme:this.getAttribute("colorscheme","light"),border_color:this.getAttribute("border_color")},this._getBoolAttribute("force_wall",!1)&&(this._attr.force_wall=!0),this._attr.connections==="0"?this._attr.show_faces=!1:this._attr.connections&&(this._attr.show_faces=!0);if(!this._attr.id&&!this._attr.name&&!this._attr.href)return a.error('<fb:like-box> requires one of the "id" or "name" attributes.'),!1;var e=this._attr.height;return e||(!this._attr.show_faces&&!this._attr.stream?e=62:(e=95,this._attr.show_faces&&(e+=163),this._attr.stream&&(e+=300),this._attr.header&&this._attr.header!=="0"&&(e+=32))),this._attr.height=e,this.subscribe("xd.likeboxLiked",f(this._onLiked,"bind",!0,this)),this.subscribe("xd.likeboxUnliked",f(this._onUnliked,"bind",!0,this)),!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"likebox",params:this._attr}},_onLiked:function(){u.fireEvent("edge.create",this)},_onUnliked:function(){u.fireEvent("edge.remove",this)}});i.exports=c}),a("sdk.XFBML.LiveStream",["sdk.XFBML.IframeWidget"],function(t,n,r,i,s,o){var u=n("sdk.XFBML.IframeWidget"),a=u.extend({_visibleAfter:"load",setupAndValidate:function(){return this._attr={app_id:this.getAttribute("event-app-id"),href:this.getAttribute("href",e.location.href),height:this._getPxAttribute("height",500),hideFriendsTab:this.getAttribute("hide-friends-tab"),redesigned:this._getBoolAttribute("redesigned-stream"),width:this._getPxAttribute("width",400),xid:this.getAttribute("xid","default"),always_post_to_friends:this._getBoolAttribute("always-post-to-friends"),via_url:this.getAttribute("via_url")},!0},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){var e=this._attr.redesigned?"live_stream_box":"livefeed";return this._getBoolAttribute("modern",!1)&&(e="live_stream"),{name:e,params:this._attr}}});s.exports=a}),a("sdk.XFBML.LoginButton",["sdk.Helper","IframePlugin"],function(e,t,n,r,i,s){var o=t("sdk.Helper"),u=t("IframePlugin"),a=u.extend({constructor:function(e,t,n,r){this.parent(e,t,n,r);var i=u.getVal(r,"on_login");i&&this.subscribe("login.status",function(e){o.invokeHandler(i,null,[e])})},getParams:function(){return{scope:"string",perms:"string",size:"string",login_text:"text",show_faces:"bool",max_rows:"string",show_login_face:"bool",registration_url:"url_maybe",auto_logout_link:"bool",one_click:"bool"}}});i.exports=a}),a("sdk.XFBML.Name",["copyProperties","sdk.Data","escapeHTML","sdk.Event","sdk.XFBML.Element","sdk.Helper","Log","sdk.Runtime"],function(e,t,n,r,i,s){var o=t("copyProperties"),u=t("sdk.Data"),a=t("escapeHTML"),l=t("sdk.Event"),c=t("sdk.XFBML.Element"),h=t("sdk.Helper"),p=t("Log"),d=t("sdk.Runtime"),v=c.extend({process:function(){o(this,{_uid:this.getAttribute("uid"),_firstnameonly:this._getBoolAttribute("first-name-only"),_lastnameonly:this._getBoolAttribute("last-name-only"),_possessive:this._getBoolAttribute("possessive"),_reflexive:this._getBoolAttribute("reflexive"),_objective:this._getBoolAttribute("objective"),_linked:this._getBoolAttribute("linked",!0),_subjectId:this.getAttribute("subject-id")});if(!this._uid){p.error('"uid" is a required attribute for <fb:name>'),this.fire("render");return}var e=[];this._firstnameonly?e.push("first_name"):this._lastnameonly?e.push("last_name"):e.push("name"),this._subjectId&&(e.push("sex"),this._subjectId==d.getUserID()&&(this._reflexive=!0));var t;l.monitor("auth.statusChange",f(function(){if(!this.isValid())return this.fire("render"),!0;if(!this._uid||this._uid=="loggedinuser")this._uid=d.getUserID();if(!this._uid)return;h.isUser(this._uid)?t=u._selectByIndex(e,"user","uid",this._uid):t=u._selectByIndex(["name","id"],"profile","id",this._uid),t.wait(f(function(e){this._subjectId==this._uid?this._renderPronoun(e[0]):this._renderOther(e[0]),this.fire("render")},"bind",!0,this))},"bind",!0,this))},_renderPronoun:function(e){var t="",n=this._objective;this._subjectId&&(n=!0,this._subjectId===this._uid&&(this._reflexive=!0));if(this._uid==d.getUserID()&&this._getBoolAttribute("use-you",!0))this._possessive?this._reflexive?t="your own":t="your":this._reflexive?t="yourself":t="you";else switch(e.sex){case"male":this._possessive?t=this._reflexive?"his own":"his":this._reflexive?t="himself":n?t="him":t="he";break;case"female":this._possessive?t=this._reflexive?"her own":"her":this._reflexive?t="herself":n?t="her":t="she";break;default:this._getBoolAttribute("use-they",!0)?this._possessive?this._reflexive?t="their own":t="their":this._reflexive?t="themselves":n?t="them":t="they":this._possessive?this._reflexive?t="his/her own":t="his/her":this._reflexive?t="himself/herself":n?t="him/her":t="he/she"}this._getBoolAttribute("capitalize",!1)&&(t=h.upperCaseFirstChar(t)),this.dom.innerHTML=t},_renderOther:function(e){var t="",n="";this._uid==d.getUserID()&&this._getBoolAttribute("use-you",!0)?this._reflexive?this._possessive?t="your own":t="yourself":this._possessive?t="your":t="you":e&&(null===e.first_name&&(e.first_name=""),null===e.last_name&&(e.last_name=""),this._firstnameonly&&e.first_name!==undefined?t=a(e.first_name):this._lastnameonly&&e.last_name!==undefined&&(t=a(e.last_name)),t||(t=a(e.name)),t!==""&&this._possessive&&(t+="'s")),t||(t=a(this.getAttribute("if-cant-see","Facebook User"))),t&&(this._getBoolAttribute("capitalize",!1)&&(t=h.upperCaseFirstChar(t)),e&&this._linked?n=h.getProfileLink(e,t,this.getAttribute("href",null)):n=t),this.dom.innerHTML=n}});i.exports=v}),a("sdk.XFBML.ProfilePic",["sdk.Data","sdk.DOM","escapeHTML","sdk.XFBML.Element","sdk.Event","format","sdk.Helper","sdk.Runtime","UrlMap","ProfilePicConfig"],function(e,t,n,r,i,s){var o=t("sdk.Data"),u=t("sdk.DOM"),a=t("escapeHTML"),l=n("ProfilePicConfig"),c=t("sdk.XFBML.Element"),h=t("sdk.Event"),p=t("format"),d=t("sdk.Helper"),v=t("sdk.Runtime"),m=t("UrlMap"),g={n:"pic_big",normal:"pic_big",q:"pic_square",s:"pic",small:"pic",square:"pic_square",t:"pic_small",thumb:"pic_small"},y=c.extend({process:function(){var e=this.getAttribute("size","thumb"),t=g[e],n=this._getPxAttribute("width"),r=this._getPxAttribute("height"),i=this.dom.style,s=this.getAttribute("uid");this._getBoolAttribute("facebook-logo")&&(t+="_with_logo"),n&&(n+="px",i.width=n),r&&(r+="px",i.height=r);var c=f(function(e){var i=e?e[0]:null,s=i?i[t]:null;s||(s=m.resolve("fbcdn")+"/"+l.defPicMap[t]);var o=(n?"width:"+n+";":"")+(r?"height:"+n+";":""),f=p('<img src="{0}" alt="{1}" title="{1}" style="{2}" class="{3}" />',s,i?a(i.name):"",o,this.dom.className);this._getBoolAttribute("linked",!0)&&(f=d.getProfileLink(i,f,this.getAttribute("href",null))),this.dom.innerHTML=f,u.addCss(this.dom,"fb_profile_pic_rendered"),this.fire("render")},"bind",!0,this);h.monitor("auth.statusChange",f(function(){if(!this.isValid())return this.fire("render"),!0;this.getAttribute("uid",null)=="loggedinuser"&&(s=v.getUserID()),v.getLoginStatus()!=="unknown"&&s?o._selectByIndex(["name",t],d.isUser(s)?"user":"profile",d.isUser(s)?"uid":"id",s).wait(c):c()},"bind",!0,this))}});i.exports=y}),a("sdk.XFBML.RecommendationsBar",["sdk.Arbiter","DOMEventListener","sdk.Event","sdk.XFBML.IframeWidget","resolveURI","sdk.Runtime"],function(t,i,s,o,u,a){var l=i("sdk.Arbiter"),c=i("DOMEventListener"),h=i("sdk.Event"),p=i("sdk.XFBML.IframeWidget"),d=i("resolveURI"),v=i("sdk.Runtime"),m=p.extend({getUrlBits:function(){return{name:"recommendations_bar",params:this._attr}},setupAndValidate:function(){function t(e,t){function s(){t(),i=null,n=f("Date","now",!1)}var n=0,i=null;return function(){if(!i){var t=f("Date","now",!1);t-n<e?i=r(s,e-(t-n)):s()}return!0}}function i(e){if(e.match(/^\d+(?:\.\d+)?%$/)){var t=Math.min(Math.max(parseInt(e,10),0),100);e=t/100}else e!="manual"&&e!="onvisible"&&(e="onvisible");return e}function s(e){return Math.max(parseInt(e,10)||30,10)}function o(e){return e=="left"||e=="right"?e:v.getRtl()?"left":"right"}this._attr={channel:this.getChannelUrl(),api_key:v.getClientID(),font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme"),href:d(this.getAttribute("href")),side:o(this.getAttribute("side")),site:this.getAttribute("site"),action:this.getAttribute("action"),ref:this.getAttribute("ref"),max_age:this.getAttribute("max_age"),trigger:i(this.getAttribute("trigger","")),read_time:s(this.getAttribute("read_time")),num_recommendations:parseInt(this.getAttribute("num_recommendations"),10)||2},this._showLoader=!1,this.subscribe("iframe.onload",f(function(){var e=this.dom.children[0];e.className="fbpluginrecommendationsbar"+this._attr.side},"bind",!0,this));var u=f(function(){return c.remove(e,"scroll",u),c.remove(n.documentElement,"click",u),c.remove(n.documentElement,"mousemove",u),r(f(this.arbiterInform,"bind",!0,this,"platform/plugins/recommendations_bar/action",null,l.BEHAVIOR_STATE),this._attr.read_time*1e3),!0},"bind",!0,this);c.add(e,"scroll",u),c.add(n.documentElement,"click",u),c.add(n.documentElement,"mousemove",u);if(this._attr.trigger=="manual"){var a=f(function(e){return e==this._attr.href&&(h.unsubscribe("xfbml.recommendationsbar.read",a),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,l.BEHAVIOR_STATE)),!0},"bind",!0,this);h.subscribe("xfbml.recommendationsbar.read",a)}else{var p=t(500,f(function(){return this.calculateVisibility()&&(c.remove(e,"scroll",p),c.remove(e,"resize",p),this.arbiterInform("platform/plugins/recommendations_bar/trigger",null,l.BEHAVIOR_STATE)),!0},"bind",!0,this));c.add(e,"scroll",p),c.add(e,"resize",p),p()}this.visible=!1;var m=t(500,f(function(){return!this.visible&&this.calculateVisibility()?(this.visible=!0,this.arbiterInform("platform/plugins/recommendations_bar/visible")):this.visible&&!this.calculateVisibility()&&(this.visible=!1,this.arbiterInform("platform/plugins/recommendations_bar/invisible")),!0},"bind",!0,this));c.add(e,"scroll",m),c.add(e,"resize",m),m(),this.focused=!0;var y=f(function(){return this.focused=!this.focused,!0},"bind",!0,this);return c.add(e,"blur",y),c.add(e,"focus",y),this.resize_running=!1,this.animate=!1,this.subscribe("xd.signal_animation",f(function(){this.animate=!0},"bind",!0,this)),!0},getSize:function(){return{height:25,width:this._attr.action=="recommend"?140:96}},calculateVisibility:function(){var t=n.documentElement.clientHeight;if(!this.focused&&e.console&&e.console.firebug)return this.visible;switch(this._attr.trigger){case"manual":return!1;case"onvisible":var r=this.dom.getBoundingClientRect().top;return r<=t;default:var i=e.pageYOffset||n.body.scrollTop,s=n.documentElement.scrollHeight;return(i+t)/s>=this._attr.trigger}}});u.exports=m}),a("sdk.XFBML.Registration",["sdk.Auth","sdk.Helper","sdk.XFBML.IframeWidget","sdk.Runtime","UrlMap"],function(t,n,r,i,s,o){var u=n("sdk.Auth"),a=n("sdk.Helper"),l=n("sdk.XFBML.IframeWidget"),c=n("sdk.Runtime"),h=n("UrlMap"),p=l.extend({_visibleAfter:"immediate",_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){return this._attr={action:this.getAttribute("action"),border_color:this.getAttribute("border-color"),channel_url:this.getChannelUrl(),client_id:c.getClientID(),fb_only:this._getBoolAttribute("fb-only",!1),fb_register:this._getBoolAttribute("fb-register",!1),fields:this.getAttribute("fields"),height:this._getPxAttribute("height"),redirect_uri:this.getAttribute("redirect-uri",e.location.href),no_footer:this._getBoolAttribute("no-footer"),no_header:this._getBoolAttribute("no-header"),onvalidate:this.getAttribute("onvalidate"),width:this._getPxAttribute("width",600),target:this.getAttribute("target")},this._attr.onvalidate&&this.subscribe("xd.validate",f(function(e){var t=f("JSON","parse",!1,e.value),n=f(function(t){this.arbiterInform("Registration.Validation",{errors:t,id:e.id})},"bind",!0,this),r=a.executeFunctionByName(this._attr.onvalidate,t,n);r&&n(r)},"bind",!0,this)),this.subscribe("xd.authLogin",f(this._onAuthLogin,"bind",!0,this)),this.subscribe("xd.authLogout",f(this._onAuthLogout,"bind",!0,this)),!0},getSize:function(){return{width:this._attr.width,height:this._getHeight()}},_getHeight:function(){if(this._attr.height)return this._attr.height;var e;if(!this._attr.fields)e=["name"];else try{e=f("JSON","parse",!1,this._attr.fields)}catch(t){e=this._attr.fields.split(/,/)}return this._attr.width<this._skinnyWidth?this._skinnyBaseHeight+e.length*this._skinnyFieldHeight:this._baseHeight+e.length*this._fieldHeight},getUrlBits:function(){return{name:"registration",params:this._attr}},getDefaultWebDomain:function(){return h.resolve("www",!0)},_onAuthLogin:function(){u.getAuthResponse()||u.getLoginStatus(),a.fireEvent("auth.login",this)},_onAuthLogout:function(){u.getAuthResponse()||u.getLoginStatus(),a.fireEvent("auth.logout",this)}});s.exports=p}),a("sdk.XFBML.Send",["sdk.DOM","sdk.XFBML.EdgeWidget","sdk.Runtime","sdk.XFBML.SendButtonFormWidget"],function(t,n,r,i,s,o){var u=n("sdk.DOM"),a=n("sdk.XFBML.EdgeWidget"),f=n("sdk.Runtime"),l=n("sdk.XFBML.SendButtonFormWidget"),c=a.extend({setupAndValidate:function(){return u.addCss(this.dom,"fb_edge_widget_with_comment"),this._attr={channel:this.getChannelUrl(),api_key:f.getClientID(),font:this.getAttribute("font"),colorscheme:this.getAttribute("colorscheme","light"),href:this.getAttribute("href",e.location.href),ref:this.getAttribute("ref"),extended_social_context:this.getAttribute("extended_social_context",!1)},this._rootPadding={left:parseFloat(u.getStyle(this.dom,"paddingLeft")),top:parseFloat(u.getStyle(this.dom,"paddingTop"))},!0},getUrlBits:function(){return{name:"send",params:this._attr}},_createEdgeCommentWidget:function(e,t){var n=this._getCommonEdgeCommentWidgetOpts(e,t);return new l(n)},getSize:function(){return{width:80,height:25}}});s.exports=c}),a("sdk.XFBML.SocialContext",["sdk.Event","sdk.XFBML.IframeWidget"],function(e,t,n,r,i,s){var o=t("sdk.Event"),u=t("sdk.XFBML.IframeWidget"),a=u.extend({setupAndValidate:function(){var e=this.getAttribute("size","small");return this._attr={channel:this.getChannelUrl(),width:this._getPxAttribute("width",400),height:this._getPxAttribute("height",100),ref:this.getAttribute("ref"),size:this.getAttribute("size"),keywords:this.getAttribute("keywords"),urls:this.getAttribute("urls"),object_id:this.getAttribute("object_id")},this.subscribe("xd.social_context_stats",f(this._bubbleSocialContextStats,"bind",!0,this)),!0},_bubbleSocialContextStats:function(e){var t={pluginID:this.getAttribute("plugin-id"),socialContextPageIDs:f("JSON","parse",!1,e.social_context_page_ids)};o.fire("xfbml.social_context_stats",t)},getSize:function(){return{width:this._attr.width,height:this._attr.height}},getUrlBits:function(){return{name:"social_context",params:this._attr}}});i.exports=a}),a("legacy:fb.xfbml",["Assert","sdk.domReady","sdk.Event","FB","IframePlugin","PluginTags","wrapFunction","XFBML","sdk.XFBML.Comments","sdk.XFBML.CommentsCount","sdk.XFBML.ConnectBar","sdk.XFBML.Fan","sdk.XFBML.Like","sdk.XFBML.LikeBox","sdk.XFBML.LiveStream","sdk.XFBML.LoginButton","sdk.XFBML.Name","sdk.XFBML.ProfilePic","sdk.XFBML.RecommendationsBar","sdk.XFBML.Registration","sdk.XFBML.Send","sdk.XFBML.SocialContext"],function(t,i,s,o){var u=i("Assert"),a=i("sdk.domReady"),l=i("sdk.Event"),c=i("FB"),h=i("IframePlugin"),p=i("PluginTags"),d=i("wrapFunction"),v=i("XFBML"),m={comments:i("sdk.XFBML.Comments"),comments_count:i("sdk.XFBML.CommentsCount"),connect_bar:i("sdk.XFBML.ConnectBar"),fan:i("sdk.XFBML.Fan"),like:i("sdk.XFBML.Like"),like_box:i("sdk.XFBML.LikeBox"),live_stream:i("sdk.XFBML.LiveStream"),login_button:i("sdk.XFBML.LoginButton"),name:i("sdk.XFBML.Name"),profile_pic:i("sdk.XFBML.ProfilePic"),recommendations_bar:i("sdk.XFBML.RecommendationsBar"),registration:i("sdk.XFBML.Registration"),send:i("sdk.XFBML.Send"),social_context:i("sdk.XFBML.SocialContext")};f(f("Object","keys",!1,p),"forEach",!0,function(e){v.registerTag({xmlns:"fb",localName:e.replace(/_/g,"-"),ctor:h.withParams(p[e])})}),f(f("Object","keys",!1,m),"forEach",!0,function(e){v.registerTag({xmlns:"fb",localName:e.replace(/_/g,"-"),ctor:m[e]})}),c.provide("XFBML",{parse:function(e){return u.maybeXfbml(e,"Invalid argument"),e&&e.nodeType===9&&(e=e.body),v.parse.apply(null,arguments)}}),c.provide("XFBML.RecommendationsBar",{markRead:function(t){l.fire("xfbml.recommendationsbar.read",t||e.location.href)}}),v.subscribe("parse",f(l.fire,"bind",!0,l,"xfbml.parse")),v.subscribe("render",f(l.fire,"bind",!0,l,"xfbml.render")),l.subscribe("init:post",function(e){e.xfbml&&r(d(f(a,"bind",!0,null,v.parse),"entry","init:post:xfbml.parse"),0)}),u.define("Xfbml",function(e){return(e.nodeType===1||e.nodeType===9)&&typeof e.nodeName=="string"});try{n.namespaces&&!n.namespaces.item.fb&&n.namespaces.add("fb")}catch(g){}},3),void 0}.call({},window.inDapIF?parent.window:window)}catch(e){(new Image).src="http://www.facebook.com/common/scribe_endpoint.php?c=jssdk_error&m="+encodeURIComponent('{"error":"LOAD", "extra": {"name":"'+e.name+'","line":"'+(e.lineNumber||e.line)+'","script":"'+(e.fileName||e.sourceURL||e.script)+'","stack":"'+(e.stackTrace||e.stack)+'","message":"'+e.message+'"}}')}define("facebook",function(e){return function(){var t,n;return t||e.FB}}(this)),define("text",["module"],function(e){var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,r=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,i=typeof location!="undefined"&&location.href,s=i&&location.protocol&&location.protocol.replace(/\:/,""),o=i&&location.hostname,u=i&&(location.port||undefined),a=[],f=e.config&&e.config()||{},l,c;return l={version:"2.0.1",strip:function(e){if(e){e=e.replace(n,"");var t=e.match(r);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:f.createXhr||function(){var e,n,r;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(n=0;n<3;n+=1){r=t[n];try{e=new ActiveXObject(r)}catch(i){}if(e){t=[r];break}}return e},parseName:function(e){var t=!1,n=e.indexOf("."),r=e.substring(0,n),i=e.substring(n+1,e.length);return n=i.indexOf("!"),n!==-1&&(t=i.substring(n+1,i.length),t=t==="strip",i=i.substring(0,n)),{moduleName:r,ext:i,strip:t}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,t,n,r){var i=l.xdRegExp.exec(e),s,o,u;return i?(s=i[2],o=i[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===t)&&(!o||o.toLowerCase()===n.toLowerCase())&&(!u&&!o||u===r)):!0},finishLoad:function(e,t,n,r){n=t?l.strip(n):n,f.isBuild&&(a[e]=n),r(n)},load:function(e,t,n,r){if(r.isBuild&&!r.inlineText){n();return}f.isBuild=r.isBuild;var a=l.parseName(e),c=a.moduleName+"."+a.ext,h=t.toUrl(c),p=f.useXhr||l.useXhr;!i||p(h,s,o,u)?l.get(h,function(t){l.finishLoad(e,a.strip,t,n)},function(e){n.error&&n.error(e)}):t([c],function(e){l.finishLoad(a.moduleName+"."+a.ext,a.strip,e,n)})},write:function(e,t,n,r){if(a.hasOwnProperty(t)){var i=l.jsEscape(a[t]);n.asModule(e+"!"+t,"define(function () { return '"+i+"';});\n")}},writeFile:function(e,t,n,r,i){var s=l.parseName(t),o=s.moduleName+"."+s.ext,u=n.toUrl(s.moduleName+"."+s.ext)+".js";l.load(o,n,function(t){var n=function(e){return r(u,e)};n.asModule=function(e,t){return r.asModule(e,u,t)},l.write(e,o,n,i)},i)}},typeof process!="undefined"&&process.versions&&!!process.versions.node?(c=require.nodeRequire("fs"),l.get=function(e,t){var n=c.readFileSync(e,"utf8");n.indexOf("ï»¿")===0&&(n=n.substring(1)),t(n)}):l.createXhr()?l.get=function(e,t,n){var r=l.createXhr();r.open("GET",e,!0),f.onXhr&&f.onXhr(r,e),r.onreadystatechange=function(i){var s,o;r.readyState===4&&(s=r.status,s>399&&s<600?(o=new Error(e+" HTTP status: "+s),o.xhr=r,n(o)):t(r.responseText))},r.send(null)}:typeof Packages!="undefined"&&(l.get=function(e,t){var n="utf-8",r=new java.io.File(e),i=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(r),n)),o,u,a="";try{o=new java.lang.StringBuffer,u=s.readLine(),u&&u.length()&&u.charAt(0)===65279&&(u=u.substring(1)),o.append(u);while((u=s.readLine())!==null)o.append(i),o.append(u);a=String(o.toString())}finally{s.close()}t(a)}),l}),define("text!templates/account.html",[],function(){return"<% if (id) { %>\n	<p id='logout'>logout</p>\n<% } else { %>\n	<p id='login'>login</p>\n<% } %>\n\n<%= name %>\n"}),define("views/user",["jquery","underscore","backbone","facebook","text!templates/account.html"],function(e,t,n,r,i){var s=n.View.extend({template:t.template(i),events:{"click #login":"login","click #logout":"logout"},initialize:function(){console.log("--UserView init");var e=this;e.render()},login:function(e){console.log("---ddd"),e.preventDefault();var t=this;this.model.login(function(){t.render()})},logout:function(e){e.preventDefault(),console.log(this.model.get("id")),this.model.logout(),console.log(this.model),console.log(this.model.get("id")),this.render()},render:function(){return this.$el.html(this.template(this.model.toJSON())),this}});return s}),define("views/player",["jquery","underscore","backbone"],function(e,t,n){var r=n.View.extend({initialize:function(){console.log("--PlayerView init"),t(this).bindAll("playVideoById","changeState"),this.player=null,Ply.evt.on("ply:video:play",this.playVideoById),Ply.evt.on("ply:player_controls:changeState",this.changeState)},render:function(e){console.log("--render PlayerView");var t=this;return window.YT||function(){var e=document.createElement("script");e.setAttribute("type","text/javascript"),e.setAttribute("src","http://www.youtube.com/player_api?enablejsapi=1&version=3"),(document.getElementsByTagName("head")[0]||document.documentElement).appendChild(e)}(),window.onYouTubePlayerAPIReady=function(){console.log("--onYouTubePlayerAPIReady"),t.player=new window.YT.Player("player",{width:"300",height:"225",videoId:e,events:{onReady:function(e){t.onPlayerReady(e)},onStateChange:function(e){t.onStateChange(e)}}})},this},onPlayerReady:function(e){},onStateChange:function(e){Ply.evt.trigger("ply:player:stateChange",e)},playVideoById:function(e){console.log("--playVideoById"),this.player.loadVideoById(e),this.pauseVideo()},changeState:function(e){e=="play"?this.playVideo():this.pauseVideo()},playVideo:function(){this.player.playVideo()},pauseVideo:function(){this.player.pauseVideo()}});return r}),define("text!templates/player_controls.html",[],function(){return"<nav id='controls'>\n	<span class='control' id='toggle-video' >\n		<span class='icon-play'></span>\n	</span>\n	<span class='control control-nav' id='prev-video'>\n		<span class='icon-backward'></span>\n	</span>\n	<span class='control control-nav' id='next-video'>\n		<span class='icon-forward'></span>\n	</span>\n</nav>"}),define("views/player_controls",["jquery","underscore","backbone","text!templates/player_controls.html"],function(e,t,n,r){var i=n.View.extend({template:t.template(r),events:{"click #toggle-video":"toggleVideo","click #next-video":"nextVideo","click #prev-video":"prevVideo"},initialize:function(){console.log("--PlayerControlsView init"),t(this).bindAll("onPlayerStateChange","toggleVideo","nextVideo","prevVideo"),this.player_state=-1;var e=this;Ply.evt.on("ply:player:stateChange",this.onPlayerStateChange)},render:function(){return console.log("--PlayerControlsView render"),this.$el.html(this.template()),this},onPlayerStateChange:function(e){this.player_state=e.data,e.data==YT.PlayerState.BUFFERING?console.log("state: buffering"):e.data==YT.PlayerState.PLAYING?console.log("state: playing"):e.data==YT.PlayerState.PAUSED?console.log("state: paused"):e.data==YT.PlayerState.ENDED&&console.log("state: ended")},toggleVideo:function(){this.player_state!=YT.PlayerState.PLAYING?Ply.evt.trigger("ply:player_controls:changeState","play"):Ply.evt.trigger("ply:player_controls:changeState","pause")},nextVideo:function(){Ply.evt.trigger("ply:player_controls:nextVideo")},prevVideo:function(){Ply.evt.trigger("ply:player_controls:prevVideo")}});return i}),define("text!templates/video_item.html",[],function(){return'<div class=\'video<% if (active) { %> active<% } %>\' data-id="<%= id %>" data-video-id="<%= video_id %>">\n	<p>\n		<%= name %> by <%= user.username %> <%= user.first_name %>\n	</p>\n</div>'}),define("views/video_item",["jquery","underscore","backbone","views/player","text!templates/video_item.html"],function(e,t,n,r,i){var s=n.View.extend({tagName:"li",template:t.template(i),initialize:function(){},render:function(){return console.log("--render VideoView"),this.$el.html(this.template(this.model.toJSON())),this}});return s}),define("views/playlist",["jquery","underscore","backbone","views/video_item"],function(e,t,n,r){var i=n.View.extend({events:{"click #playlist .video":"handleClick"},initialize:function(){console.log("--VideoListView init"),t(this).bindAll("add","nextVideo","prevVideo"),this.current_video=null,this.current_position=0,this.collection.at(this.current_position).activate(),this.video_item_views=[],this.collection.each(this.add),Ply.evt.on("ply:player_controls:nextVideo",this.nextVideo),Ply.evt.on("ply:player_controls:prevVideo",this.prevVideo)},add:function(e){var t=new r({model:e});this.video_item_views.push(t)},handleClick:function(t){t.preventDefault();var n=e(t.currentTarget).data("id"),r=this.collection.get(n);this.playVideo(r)},prevVideo:function(){var e;this.current_position==0?e=this.collection.at(this.collection.length-1):e=this.collection.at(this.current_position-1),this.playVideo(e)},nextVideo:function(){var e;this.current_position==this.collection.length-1?e=this.collection.at(0):e=this.collection.at(this.current_position+1),this.playVideo(e)},playVideo:function(e){this.collection.at(this.current_position).deactivate(),e.activate(),this.current_position=this.collection.indexOf(e),this.render(),e.markAsWatched(),Ply.evt.trigger("ply:video:play",e.get("video_id"))},render:function(){console.log("--render PlaylistView");var n=this;return t(this.video_item_views).each(function(t){e(n.el).append(t.render().el)}),this}});return i}),define("common",[],function(){return{}}),define("routers/router",["jquery","backbone","collections/videos","common"],function(e,t,n,r){var i=t.Router.extend({routes:{"video/:video_id":"loadVideo"},loadVideo:function(e){}});return i}),define("views/app",["jquery","underscore","backbone","models/session","models/video","collections/videos","views/user","views/player","views/player_controls","views/playlist","routers/router"],function(e,t,n,r,i,s,o,u,a,f,l){var c=n.View.extend({el:e("#app"),player_state:-1,initialize:function(){var t=this,n=new r;n.getLoginStatus(function(){var t=new o({el:e("#account"),model:n})});var i=new u,l=new a({el:e("#controls")});s.fetch({success:function(t){var n=new f({collection:t,el:e("#playlist ul")});i.render(t.models[0].get("video_id")),l.render(),n.render()}})}});return c}),require.config({shim:{underscore:{exports:"_"},facebook:{exports:"FB"},backbone:{deps:["underscore","jquery"],exports:"Backbone"}},paths:{jquery:"lib/jquery/jquery.min",underscore:"lib/underscore/underscore",backbone:"lib/backbone/backbone",facebook:"lib/facebook/all",text:"lib/require/text"}}),require(["views/app","routers/router"],function(e,t){var n=new t;Backbone.history.start(),Ply={},Ply.evt=_.extend({},Backbone.Events),new e({router:n})}),define("main",function(){});